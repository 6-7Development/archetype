2025-10-27T01:03:15.000000000Z [inf]  Starting Container
2025-10-27T01:03:15.541168786Z [inf]  Time: Mon Oct 27 01:03:15 UTC 2025
2025-10-27T01:03:15.541176883Z [inf]  
2025-10-27T01:03:15.541250057Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-27T01:03:15.541258987Z [inf]  ======================================
2025-10-27T01:03:15.541266125Z [inf]  üöÇ RAILWAY STARTUP SCRIPT
2025-10-27T01:03:15.541272924Z [inf]  ======================================
2025-10-27T01:03:15.848068175Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-27T01:03:15.848076449Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-27T01:03:16.542871393Z [inf]  Using 'pg' driver for database querying
2025-10-27T01:03:16.542874938Z [inf]  [‚£∑] Pulling schema from database...
2025-10-27T01:03:16.542878818Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T01:03:16.615204125Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T01:03:16.744713097Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T01:03:16.871158451Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T01:03:16.998846500Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T01:03:17.444525160Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T01:03:17.444531865Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T01:03:17.444537841Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T01:03:17.513753579Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T01:03:17.641974516Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T01:03:17.769222034Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T01:03:17.896791243Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T01:03:18.435983374Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T01:03:18.435988273Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T01:03:18.435993288Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T01:03:18.435998210Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T01:03:18.544546439Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T01:03:18.613380494Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-27T01:03:18.684607451Z [inf]  [i] No changes detected
2025-10-27T01:03:18.707359571Z [inf]  
2025-10-27T01:03:18.707371075Z [inf]  ‚úÖ Database migrations completed successfully!
2025-10-27T01:03:18.707378725Z [inf]  
2025-10-27T01:03:18.707385021Z [inf]  üöÄ Starting Node.js application...
2025-10-27T01:03:19.809224021Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-27T01:03:19.809240031Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-27T01:03:19.809249077Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-27T01:03:19.809259014Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-27T01:03:19.809282345Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-27T01:03:19.809294703Z [inf]  [db] Connection string includes SSL params: true
2025-10-27T01:03:19.819448843Z [inf]  [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-27T01:03:19.821435215Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-27T01:03:19.826335917Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-27T01:03:19.830283443Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-27T01:03:19.830346187Z [inf]  üì° WebSocket server initialized at /ws
2025-10-27T01:03:19.830375140Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-27T01:03:19.838171318Z [inf]  ‚úÖ All routes registered successfully
2025-10-27T01:03:19.840063923Z [inf]  üîç Testing database connection...
2025-10-27T01:03:19.876801203Z [inf]  1:03:19 AM [express] serving on port 8080
2025-10-27T01:03:19.876807204Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-27T01:03:19.978562239Z [inf]  ‚úÖ Database connected successfully
2025-10-27T01:03:19.978585590Z [inf]  üîß Auto-healing system ENABLED (production mode)
2025-10-27T01:03:19.978593699Z [inf]  
2025-10-27T01:03:19.978601093Z [inf]  üîç Checking GitHub integration configuration...
2025-10-27T01:03:19.978608230Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-27T01:03:19.978615400Z [inf]     - Repository: 6-7Development/archetype
2025-10-27T01:03:19.978622392Z [inf]     - Branch: main
2025-10-27T01:03:19.978629115Z [inf]     - Token: ‚úì (configured)
2025-10-27T01:03:19.978641241Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-27T01:03:19.978648929Z [inf]     - Maintenance mode: Available for owner
2025-10-27T01:03:19.978655950Z [inf]  
2025-10-27T01:03:49.977464556Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T01:03:49.977472649Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T01:03:49.977490390Z [err]    killed: false,
2025-10-27T01:03:49.977497730Z [err]  
2025-10-27T01:03:49.977501940Z [err]    signal: null,
2025-10-27T01:03:49.977510726Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T01:03:49.977510763Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T01:03:49.977519395Z [err]    stdout: '',
2025-10-27T01:03:49.977520358Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T01:03:49.977528039Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T01:03:49.977529158Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T01:03:49.977536164Z [err]  }
2025-10-27T01:03:49.977537920Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T01:03:49.977543704Z [inf]  1:03:43 AM [express] GET /api/deployment-info 200 in 12ms :: {"version":"1.0.0","commitHash":"unknow‚Ä¶
2025-10-27T01:03:49.977546231Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T01:03:49.977549788Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-27T01:03:49.977555319Z [err]      at Socket.<anonymous> (node:internal/child_process:456:11)
2025-10-27T01:03:49.977555598Z [inf]  [AUTH] Found users: 1
2025-10-27T01:03:49.977560776Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-27T01:03:49.977565925Z [err]      at Socket.emit (node:events:524:28)
2025-10-27T01:03:49.977566433Z [inf]  [AUTH] Verifying password...
2025-10-27T01:03:49.977572630Z [inf]  [AUTH] Password valid: true
2025-10-27T01:03:49.977577847Z [err]      at Pipe.<anonymous> (node:net:343:12) {
2025-10-27T01:03:49.977584620Z [err]    code: 128,
2025-10-27T01:03:49.979261218Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-27T01:03:49.979266499Z [inf]  1:03:46 AM [express] POST /api/auth/login 200 in 280ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-27T01:03:49.979271685Z [inf]  1:03:46 AM [express] GET /api/projects 304 in 12ms :: []
2025-10-27T01:03:49.979276445Z [inf]  1:03:46 AM [express] GET /api/auth/me 304 in 82ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T01:03:50.436889046Z [inf]  1:03:50 AM [express] GET /api/platform/status 200 in 12ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T01:03:50.580334220Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T01:03:50.627760096Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T01:04:10.716797409Z [err]  [PLATFORM-BACKUP] ‚ö†Ô∏è Git unavailable, skipping backup: Command failed: git add -A
2025-10-27T01:04:10.716801873Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T01:04:10.716807000Z [err]  
2025-10-27T01:04:10.716818298Z [inf]  [META-SYSOP-ENFORCEMENT] Iteration 1 check:
2025-10-27T01:04:10.716826798Z [inf]    - Has tool calls: true
2025-10-27T01:04:10.716831970Z [inf]    - Content blocks: text, tool_use
2025-10-27T01:04:10.716839256Z [inf]  [META-SYSOP-ENFORCEMENT] ‚úÖ Tool calls detected on first response - proceeding
2025-10-27T01:04:10.716844243Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:04:10.716849615Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): I'll start by reading my task list to understand what needs to be done, then diagnose the system iss
2025-10-27T01:04:10.716854006Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:04:10.716858035Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Now let me perform a comprehensive diagnosis of the platform to identify issues and needed upgrades.
2025-10-27T01:04:11.502245685Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:04:11.502250028Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Now let me check the chat toolbar issues by examining the relevant frontend files:
2025-10-27T01:04:11.502254425Z [err]  [PLATFORM-LIST] ‚ö†Ô∏è Directory not found in production: public
2025-10-27T01:04:11.502258486Z [err]  [PLATFORM-LIST] Production build only has: dist/, server/, shared/
2025-10-27T01:04:11.502262518Z [err]  [PLATFORM-LIST] Use GitHub API to access source files
2025-10-27T01:04:13.677070293Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:04:13.677080588Z [err]  [META-SYSOP] ‚ùå Tool readPlatformFile failed: Error: Failed to read platform file public/chat.html: ENOENT: no such file or directory, open '/app/public/chat.html'
2025-10-27T01:04:13.677086723Z [err]      at PlatformHealingService.readPlatformFile (file:///app/dist/index.js:8023:13)
2025-10-27T01:04:13.677093085Z [err]      at async file:///app/dist/index.js:10789:28
2025-10-27T01:04:13.677100214Z [err]  [META-SYSOP] Tool input: {
2025-10-27T01:04:13.677107384Z [err]    "path": "public/chat.html"
2025-10-27T01:04:13.677113433Z [err]  }
2025-10-27T01:04:16.074783421Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:04:16.074793371Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Let me find the correct chat interface files:
2025-10-27T01:04:16.648623777Z [err]  [PLATFORM-ROLLBACK] ‚ö†Ô∏è Not a git repository - rollback not possible in production
2025-10-27T01:04:16.648630211Z [err]  [PLATFORM-ROLLBACK] Production deployments use GitHub API for changes
2025-10-27T01:04:16.648636172Z [err]  [PLATFORM-ROLLBACK] Rollback failed: Error: Rollback is not available in production. Use GitHub API to revert changes.
2025-10-27T01:04:16.648641900Z [err]      at PlatformHealingService.rollback (file:///app/dist/index.js:7975:17)
2025-10-27T01:04:16.648648078Z [err]      at async file:///app/dist/index.js:11298:9
2025-10-27T01:04:16.648654065Z [err]  [META-SYSOP-CHAT] Stream error: Error: Rollback failed: Rollback is not available in production. Use GitHub API to revert changes.
2025-10-27T01:04:16.648660451Z [err]      at PlatformHealingService.rollback (file:///app/dist/index.js:7981:13)
2025-10-27T01:04:16.648666975Z [err]      at async file:///app/dist/index.js:11298:9
2025-10-27T01:04:16.648673174Z [inf]  1:04:16 AM [express] POST /api/meta-sysop/stream 200 in 13061ms