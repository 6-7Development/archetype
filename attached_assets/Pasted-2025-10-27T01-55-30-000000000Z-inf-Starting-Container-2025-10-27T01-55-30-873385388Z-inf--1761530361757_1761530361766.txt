2025-10-27T01:55:30.000000000Z [inf]  Starting Container
2025-10-27T01:55:30.873385388Z [inf]  ======================================
2025-10-27T01:55:30.873397812Z [inf]  üöÇ RAILWAY STARTUP SCRIPT
2025-10-27T01:55:30.873401288Z [inf]  ======================================
2025-10-27T01:55:30.873417695Z [inf]  Time: Mon Oct 27 01:55:30 UTC 2025
2025-10-27T01:55:30.873428917Z [inf]  
2025-10-27T01:55:30.873436472Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-27T01:55:30.947107691Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-27T01:55:30.947112816Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-27T01:55:31.267882935Z [inf]  Using 'pg' driver for database querying
2025-10-27T01:55:31.409068170Z [inf]  [‚£∑] Pulling schema from database...
2025-10-27T01:55:31.530085674Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T01:55:31.862368391Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T01:55:31.862375214Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T01:55:31.914451223Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T01:55:32.037850254Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T01:55:32.170947618Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T01:55:32.297326404Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T01:55:32.423210156Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T01:55:32.551970536Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T01:55:32.842733431Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T01:55:32.842740742Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T01:55:32.950515128Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T01:55:33.067066099Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T01:55:33.194759879Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T01:55:33.319992715Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T01:55:33.435448892Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-27T01:55:33.510827001Z [inf]  [i] No changes detected
2025-10-27T01:55:33.529381732Z [inf]  
2025-10-27T01:55:33.529388751Z [inf]  ‚úÖ Database migrations completed successfully!
2025-10-27T01:55:33.529395615Z [inf]  
2025-10-27T01:55:33.529400757Z [inf]  üöÄ Starting Node.js application...
2025-10-27T01:55:34.556386292Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-27T01:55:34.556393468Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-27T01:55:34.556402460Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-27T01:55:34.556408967Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-27T01:55:34.556415095Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-27T01:55:34.556420717Z [inf]  [db] Connection string includes SSL params: true
2025-10-27T01:55:34.562572491Z [inf]  [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-27T01:55:34.563441354Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-27T01:55:34.569357697Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-27T01:55:34.575780247Z [inf]  üì° WebSocket server initialized at /ws
2025-10-27T01:55:34.575790254Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-27T01:55:34.575797502Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-27T01:55:34.581529587Z [inf]  ‚úÖ All routes registered successfully
2025-10-27T01:55:34.583631758Z [inf]  üîç Testing database connection...
2025-10-27T01:55:34.837788185Z [inf]  1:55:34 AM [express] serving on port 8080
2025-10-27T01:55:34.837795684Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-27T01:55:34.837808063Z [inf]  ‚úÖ Database connected successfully
2025-10-27T01:55:34.837815377Z [inf]  üîß Auto-healing system ENABLED (production mode)
2025-10-27T01:55:34.837823487Z [inf]  
2025-10-27T01:55:34.837834855Z [inf]  üîç Checking GitHub integration configuration...
2025-10-27T01:55:34.837846526Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-27T01:55:34.837856141Z [inf]     - Repository: 6-7Development/archetype
2025-10-27T01:55:34.837862780Z [inf]     - Branch: main
2025-10-27T01:55:34.837869388Z [inf]     - Token: ‚úì (configured)
2025-10-27T01:55:34.837876085Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-27T01:55:34.837883883Z [inf]     - Maintenance mode: Available for owner
2025-10-27T01:55:34.837890667Z [inf]  
2025-10-27T01:56:04.630734558Z [err]    code: 128,
2025-10-27T01:56:04.630735511Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T01:56:04.630742304Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T01:56:04.630748672Z [err]  
2025-10-27T01:56:04.630754650Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T01:56:04.630759923Z [err]    killed: false,
2025-10-27T01:56:04.630762376Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T01:56:04.630770314Z [err]    signal: null,
2025-10-27T01:56:04.630770548Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T01:56:04.630778503Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T01:56:04.630784570Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T01:56:04.630786038Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T01:56:04.630792549Z [err]      at Socket.<anonymous> (node:internal/child_process:456:11)
2025-10-27T01:56:04.630797680Z [err]    stdout: '',
2025-10-27T01:56:04.630800054Z [err]      at Socket.emit (node:events:524:28)
2025-10-27T01:56:04.630807198Z [err]      at Pipe.<anonymous> (node:net:343:12) {
2025-10-27T01:56:04.630807536Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T01:56:04.630815323Z [err]  }
2025-10-27T01:56:04.630842243Z [inf]  1:55:54 AM [express] GET /api/deployment-info 200 in 16ms :: {"version":"1.0.0","commitHash":"unknow‚Ä¶
2025-10-27T01:57:24.657219407Z [err]    code: 128,
2025-10-27T01:57:24.657234098Z [err]    killed: false,
2025-10-27T01:57:24.657237181Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T01:57:24.657244529Z [err]    signal: null,
2025-10-27T01:57:24.657246864Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T01:57:24.657252328Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T01:57:24.657256848Z [err]  
2025-10-27T01:57:24.657261056Z [err]    stdout: '',
2025-10-27T01:57:24.657262973Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T01:57:24.657269125Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T01:57:24.657272206Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T01:57:24.657277196Z [err]  }
2025-10-27T01:57:24.657277935Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T01:57:24.657282718Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T01:57:24.657284783Z [inf]  1:57:20 AM [express] GET /api/deployment-info 200 in 6ms :: {"version":"1.0.0","commitHash":"unknown‚Ä¶
2025-10-27T01:57:24.657288991Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T01:57:24.657291184Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-27T01:57:24.657294186Z [err]      at Socket.<anonymous> (node:internal/child_process:456:11)
2025-10-27T01:57:24.657298206Z [err]      at Socket.emit (node:events:524:28)
2025-10-27T01:57:24.657302690Z [err]      at Pipe.<anonymous> (node:net:343:12) {
2025-10-27T01:57:24.657308245Z [inf]  [AUTH] Found users: 1
2025-10-27T01:57:24.657313324Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-27T01:57:24.657318384Z [inf]  [AUTH] Verifying password...
2025-10-27T01:57:24.657323136Z [inf]  [AUTH] Password valid: true
2025-10-27T01:57:24.657957177Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-27T01:57:24.657964747Z [inf]  1:57:23 AM [express] POST /api/auth/login 200 in 281ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-27T01:57:24.657969895Z [inf]  1:57:23 AM [express] GET /api/auth/me 304 in 6ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-27T01:57:24.657975575Z [inf]  1:57:23 AM [express] GET /api/projects 304 in 90ms :: []
2025-10-27T01:57:25.448495493Z [inf]  1:57:25 AM [express] GET /api/platform/status 200 in 12ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T01:57:25.659967978Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T01:57:25.716023498Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T01:57:45.718038732Z [inf]  [META-SYSOP-ENFORCEMENT] Iteration 1 check:
2025-10-27T01:57:45.718047895Z [inf]    - Has tool calls: false
2025-10-27T01:57:45.718054089Z [inf]    - Content blocks: text
2025-10-27T01:57:45.718060370Z [err]  [META-SYSOP-ENFORCEMENT] ‚ùå No tool calls on first response - REJECTING & RETRYING
2025-10-27T01:57:45.718067327Z [inf]  [META-SYSOP-ENFORCEMENT] Added error message to conversation - continuing loop
2025-10-27T01:57:45.718073719Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:57:52.463927282Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T01:57:55.373677074Z [inf]  1:57:55 AM [express] GET /api/platform/status 200 in 12ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T01:57:55.373689924Z [inf]  1:57:55 AM [express] GET /api/auth/me 200 in 85ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T01:57:55.373698026Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T01:57:55.416761164Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T01:58:15.523674620Z [inf]  [META-SYSOP-ENFORCEMENT] Iteration 1 check:
2025-10-27T01:58:15.523776621Z [inf]  [META-SYSOP-ENFORCEMENT] ‚úÖ Tool calls detected on first response - proceeding
2025-10-27T01:58:15.523783705Z [inf]  [PLATFORM-LIST-DIR] üîÑ Source directory not in production build, fetching from GitHub: client/src/components
2025-10-27T01:58:15.523784649Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:58:15.523791377Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Hi there! I'm Meta-SySop, your friendly platform maintenance assistant. 
2025-10-27T01:58:15.523799364Z [inf]  
2025-10-27T01:58:15.523799755Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Great! I found several critical issues that need fixing. Now let me look at the specific toolbar iss
2025-10-27T01:58:15.523806627Z [inf]  [PLATFORM-LIST-DIR] üîÑ Source directory not in production build, fetching from GitHub: client/src
2025-10-27T01:58:15.523807103Z [inf]    - Has tool calls: true
2025-10-27T01:58:15.523812829Z [inf]  I see you've sent several 
2025-10-27T01:58:15.523813107Z [inf]  [GITHUB-SERVICE] Initialized for 6-7Development/archetype on branch main
2025-10-27T01:58:15.523821778Z [inf]  [PLATFORM-LIST-DIR] ‚úÖ Fetched 9 entries from GitHub directory: client/src
2025-10-27T01:58:15.523822782Z [inf]    - Content blocks: text, tool_use
2025-10-27T01:58:15.523823188Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:58:15.523829795Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:58:15.523833620Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Now let me run a comprehensive diagnosis to find any platform issues:
2025-10-27T01:58:15.523839266Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:58:15.524659541Z [inf]  [PLATFORM-LIST-DIR] ‚úÖ Fetched 46 entries from GitHub directory: client/src/components
2025-10-27T01:58:18.677651887Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T01:58:18.677656863Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): I can see there are chat components including `ai-chat.tsx` and `meta-sysop-chat.tsx`. Let me examin
2025-10-27T01:58:18.677663089Z [inf]  [PLATFORM-READ] üîÑ Source file not in production build, fetching from GitHub: client/src/components/ai-chat.tsx
2025-10-27T01:58:18.777821909Z [inf]  [PLATFORM-READ] ‚úÖ Fetched client/src/components/ai-chat.tsx from GitHub (46320 bytes)
2025-10-27T01:58:18.869100531Z [inf]  1:58:18 AM [express] POST /api/meta-sysop/stream 200 in 17884ms