2025-10-27T04:33:26.000000000Z [inf]  Starting Container
2025-10-27T04:33:27.309476162Z [inf]  
2025-10-27T04:33:27.309479678Z [inf]  üöÇ RAILWAY STARTUP SCRIPT
2025-10-27T04:33:27.309487578Z [inf]  ======================================
2025-10-27T04:33:27.309487940Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-27T04:33:27.309494478Z [inf]  Time: Mon Oct 27 04:33:26 UTC 2025
2025-10-27T04:33:27.309496297Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-27T04:33:27.309502725Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-27T04:33:27.309515296Z [inf]  ======================================
2025-10-27T04:33:27.564908857Z [inf]  Using 'pg' driver for database querying
2025-10-27T04:33:27.708369863Z [inf]  [‚£∑] Pulling schema from database...
2025-10-27T04:33:27.827162671Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T04:33:28.366224976Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T04:33:28.366231041Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T04:33:28.366236983Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T04:33:28.366243439Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T04:33:28.470922854Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T04:33:28.594765493Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T04:33:28.725250259Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T04:33:28.873272936Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T04:33:29.364351271Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T04:33:29.364373174Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T04:33:29.364381656Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T04:33:29.364529844Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T04:33:29.493072766Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T04:33:29.651805624Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T04:33:29.803955491Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T04:33:29.803960827Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-27T04:33:29.884326759Z [inf]  [i] No changes detected
2025-10-27T04:33:30.401728602Z [inf]  
2025-10-27T04:33:30.401770738Z [inf]  ‚úÖ Database migrations completed successfully!
2025-10-27T04:33:30.401777762Z [inf]  
2025-10-27T04:33:30.401785242Z [inf]  üöÄ Starting Node.js application...
2025-10-27T04:33:31.383991240Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-27T04:33:31.383996328Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-27T04:33:31.384002506Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-27T04:33:31.384010494Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-27T04:33:31.384020383Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-27T04:33:31.384028689Z [inf]  [db] Connection string includes SSL params: true
2025-10-27T04:33:31.384035739Z [inf]  [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-27T04:33:31.384045487Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-27T04:33:31.384052776Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-27T04:33:31.384058720Z [inf]  üì° WebSocket server initialized at /ws
2025-10-27T04:33:31.384063879Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-27T04:33:31.384069503Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-27T04:33:31.384076747Z [inf]  ‚úÖ All routes registered successfully
2025-10-27T04:33:31.384083872Z [inf]  üîç Testing database connection...
2025-10-27T04:33:31.384089631Z [inf]  4:33:31 AM [express] serving on port 8080
2025-10-27T04:33:31.384096463Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-27T04:33:31.384103316Z [inf]  ‚úÖ Database connected successfully
2025-10-27T04:33:31.384109727Z [inf]  üîß Auto-healing system ENABLED (production mode)
2025-10-27T04:33:31.384116463Z [inf]  
2025-10-27T04:33:31.384123957Z [inf]  üîç Checking GitHub integration configuration...
2025-10-27T04:33:31.384131803Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-27T04:33:31.384137877Z [inf]     - Repository: 6-7Development/archetype
2025-10-27T04:33:31.388326398Z [inf]     - Branch: main
2025-10-27T04:33:31.388337698Z [inf]     - Token: ‚úì (configured)
2025-10-27T04:33:31.388343702Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-27T04:33:31.388349681Z [inf]     - Maintenance mode: Available for owner
2025-10-27T04:33:31.388354178Z [inf]  
2025-10-27T04:33:34.735548631Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:33:34.789044884Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:33:39.958324789Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T04:33:40.492049805Z [inf]  4:33:40 AM [express] GET /api/meta-sysop/history 200 in 26ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:33:40.492056849Z [inf]  4:33:40 AM [express] GET /api/auth/me 304 in 39ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T04:33:40.492063121Z [inf]  4:33:40 AM [express] GET /api/platform/status 200 in 42ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T04:33:40.634716993Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:33:40.694738761Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:33:46.679983348Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T04:33:46.938929162Z [inf]  4:33:46 AM [express] GET /api/auth/me 304 in 11ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T04:33:46.938937560Z [inf]  4:33:46 AM [express] GET /api/platform/status 200 in 16ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T04:33:46.941734191Z [inf]  4:33:46 AM [express] GET /api/meta-sysop/history 304 in 20ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:33:47.618531586Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:33:47.618537878Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:33:49.603806728Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T04:33:49.850193231Z [inf]  4:33:49 AM [express] GET /api/platform/status 200 in 17ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T04:33:49.858296973Z [inf]  4:33:49 AM [express] GET /api/meta-sysop/history 304 in 30ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:33:49.913888519Z [inf]  4:33:49 AM [express] GET /api/auth/me 304 in 84ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T04:33:50.065621491Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:33:50.065627484Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:33:52.874952287Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T04:33:53.565192650Z [inf]  4:33:53 AM [express] GET /api/platform/status 200 in 14ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T04:33:53.565203301Z [inf]  4:33:53 AM [express] GET /api/meta-sysop/history 304 in 21ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:33:53.565232281Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:33:53.565235061Z [inf]  4:33:53 AM [express] GET /api/auth/me 304 in 8ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-27T04:33:53.565241640Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:34:23.142682491Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-27T04:34:23.142694453Z [inf]  [META-SYSOP-CHAT] Message: did you do the requested task? UserId: 723e1301-c729-48fc-810a-39ddef954ae2
2025-10-27T04:34:23.142702433Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-27T04:34:23.142708471Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-27T04:34:23.142714606Z [inf]  [META-SYSOP] Response has tool calls: true
2025-10-27T04:34:23.142721140Z [inf]  [META-SYSOP] Content blocks: text, tool_use
2025-10-27T04:34:23.142726824Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T04:34:23.142732749Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Let me check my task list to see what tasks were requested and their current status.
2025-10-27T04:34:24.940422009Z [inf]  
2025-10-27T04:34:24.940436734Z [inf]  **"Show me you can edit the platform. Put the 
2025-10-27T04:34:24.940471045Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T04:34:24.940475459Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Looking at our recent conversation, you asked me to:
2025-10-27T04:34:27.398360457Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T04:34:29.959752102Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T04:34:31.996886001Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T04:34:31.996893408Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Let me check the main HTML file to see the current structure:
2025-10-27T04:34:31.996900133Z [err]  [META-SYSOP-CLEANUP] ‚ö†Ô∏è No activeTaskListId tracked - skipping cleanup
2025-10-27T04:34:31.996906963Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: Meta-SySop chat: did you do the requested task? - success
2025-10-27T04:34:32.077135488Z [inf]  4:34:32 AM [express] POST /api/meta-sysop/stream 200 in 14820ms
2025-10-27T04:34:32.168393894Z [inf]  4:34:32 AM [express] GET /api/meta-sysop/history 200 in 16ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:35:21.866213733Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T04:35:21.866231811Z [inf]  4:35:12 AM [express] GET /api/meta-sysop/history 304 in 19ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:35:21.866239755Z [inf]  4:35:12 AM [express] GET /api/auth/me 304 in 36ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T04:35:21.866246171Z [inf]  4:35:12 AM [express] GET /api/platform/status 200 in 44ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T04:35:21.866255354Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:35:21.866261700Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:35:21.866267216Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T04:35:21.866273647Z [inf]  4:35:15 AM [express] GET /api/platform/status 200 in 15ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T04:35:21.866281181Z [inf]  4:35:15 AM [express] GET /api/meta-sysop/history 304 in 17ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:35:21.866290474Z [inf]  4:35:15 AM [express] GET /api/auth/me 304 in 85ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T04:35:21.866295980Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:35:21.866302119Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:35:21.866309114Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T04:35:21.866319251Z [inf]  4:35:17 AM [express] GET /api/auth/me 304 in 9ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-27T04:35:21.866328978Z [inf]  4:35:17 AM [express] GET /api/platform/status 200 in 21ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T04:35:21.866336630Z [inf]  4:35:17 AM [express] GET /api/meta-sysop/history 304 in 19ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶
2025-10-27T04:35:21.866343153Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T04:35:21.866960422Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T04:36:11.559848059Z [inf]  [META-SYSOP] Content blocks: text, tool_use
2025-10-27T04:36:11.559848320Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-27T04:36:11.559859010Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T04:36:11.559869506Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Let me check the current system status and see if there are any pending tasks or issues that need at
2025-10-27T04:36:11.559875715Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T04:36:11.559877195Z [inf]  [META-SYSOP-CHAT] Message: update? UserId: 723e1301-c729-48fc-810a-39ddef954ae2
2025-10-27T04:36:11.559881600Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): Let me run a quick diagnostic to see the current platform status:
2025-10-27T04:36:11.559892244Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-27T04:36:11.559901358Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-27T04:36:11.559909341Z [inf]  [META-SYSOP] Response has tool calls: true
2025-10-27T04:36:14.639598135Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): ## üìä Current Platform Status Update
2025-10-27T04:36:14.639607228Z [inf]  
2025-10-27T04:36:14.639613198Z [inf]  Based on my diagnostic scan, here's the current situation:
2025-10-27T04:36:14.639622712Z [inf]  
2025-10-27T04:36:14.639629619Z [inf]  ##
2025-10-27T04:36:14.639636166Z [inf]  [META-SYSOP] No more tool calls - ending session naturally
2025-10-27T04:36:14.647752335Z [err]  [META-SYSOP-CLEANUP] ‚ö†Ô∏è No activeTaskListId tracked - skipping cleanup
2025-10-27T04:36:14.657745427Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: Meta-SySop chat: update? - success
2025-10-27T04:36:14.740132299Z [inf]  4:36:14 AM [express] POST /api/meta-sysop/stream 200 in 13228ms
2025-10-27T04:36:14.840567781Z [inf]  4:36:14 AM [express] GET /api/meta-sysop/history 200 in 23ms :: {"messages":[{"id":"9dd044d9-5587-4e‚Ä¶