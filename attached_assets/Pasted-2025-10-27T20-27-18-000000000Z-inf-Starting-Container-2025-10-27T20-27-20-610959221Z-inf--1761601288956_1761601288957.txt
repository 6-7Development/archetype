2025-10-27T20:27:18.000000000Z [inf]  Starting Container
2025-10-27T20:27:20.610959221Z [inf]  ======================================
2025-10-27T20:27:20.610965912Z [inf]  üöÇ RAILWAY STARTUP SCRIPT
2025-10-27T20:27:20.610972455Z [inf]  ======================================
2025-10-27T20:27:20.610985193Z [inf]  Time: Mon Oct 27 20:27:18 UTC 2025
2025-10-27T20:27:20.611038593Z [inf]  
2025-10-27T20:27:20.611047848Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-27T20:27:20.611055679Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-27T20:27:20.611064106Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-27T20:27:20.611071713Z [inf]  Using 'pg' driver for database querying
2025-10-27T20:27:21.656010050Z [inf]  [‚£∑] Pulling schema from database...
2025-10-27T20:27:21.656019026Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T20:27:21.656026308Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T20:27:21.656033978Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T20:27:21.656041805Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T20:27:21.656049174Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T20:27:21.656069099Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T20:27:21.656075534Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T20:27:22.605039778Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T20:27:22.605049125Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T20:27:22.605055501Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T20:27:22.605062149Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T20:27:22.605072023Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T20:27:22.605077914Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T20:27:22.605086351Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T20:27:22.620236111Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T20:27:23.683180657Z [inf]  üöÄ Starting Node.js application...
2025-10-27T20:27:23.683206199Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T20:27:23.683207559Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T20:27:23.683217341Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T20:27:23.683223881Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T20:27:23.683228881Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T20:27:23.683236102Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-27T20:27:23.683240480Z [inf]  [i] No changes detected
2025-10-27T20:27:23.683251776Z [inf]  
2025-10-27T20:27:23.683260860Z [inf]  ‚úÖ Database migrations completed successfully!
2025-10-27T20:27:23.683271775Z [inf]  
2025-10-27T20:27:25.448999420Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-27T20:27:25.449011312Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-27T20:27:25.449017282Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-27T20:27:25.449023374Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-27T20:27:25.449028780Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-27T20:27:25.449034480Z [inf]  [db] Connection string includes SSL params: true
2025-10-27T20:27:25.449040126Z [inf]  [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-27T20:27:25.449045513Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-27T20:27:25.449051340Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-27T20:27:25.449056958Z [inf]  üì° WebSocket server initialized at /ws
2025-10-27T20:27:25.449061768Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-27T20:27:25.449066379Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-27T20:27:25.449071532Z [inf]  ‚úÖ All routes registered successfully
2025-10-27T20:27:25.449078471Z [inf]  üîç Testing database connection...
2025-10-27T20:27:25.449085227Z [inf]  8:27:24 PM [express] serving on port 8080
2025-10-27T20:27:25.449091805Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-27T20:27:25.449098116Z [inf]  ‚úÖ Database connected successfully
2025-10-27T20:27:25.449105504Z [inf]  üîß Auto-healing system ENABLED (production mode)
2025-10-27T20:27:25.449113643Z [inf]  
2025-10-27T20:27:25.449121411Z [inf]  üîç Checking GitHub integration configuration...
2025-10-27T20:27:25.449127810Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-27T20:27:25.449134323Z [inf]     - Repository: 6-7Development/archetype
2025-10-27T20:27:25.451440215Z [inf]     - Branch: main
2025-10-27T20:27:25.451446463Z [inf]     - Token: ‚úì (configured)
2025-10-27T20:27:25.451473193Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-27T20:27:25.451486302Z [inf]     - Maintenance mode: Available for owner
2025-10-27T20:27:25.451492426Z [inf]  
2025-10-27T20:27:34.852029630Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T20:27:34.852035598Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T20:27:34.852041748Z [err]  
2025-10-27T20:27:34.852048163Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T20:27:34.852060162Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T20:27:34.852074577Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T20:27:34.852082022Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T20:27:34.852091720Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T20:27:34.852115100Z [err]      at Socket.<anonymous> (node:internal/child_process:456:11)
2025-10-27T20:27:34.852131128Z [err]      at Socket.emit (node:events:524:28)
2025-10-27T20:27:34.852139258Z [err]      at Pipe.<anonymous> (node:net:343:12) {
2025-10-27T20:27:34.852157844Z [err]    code: 128,
2025-10-27T20:27:34.852174976Z [err]    killed: false,
2025-10-27T20:27:34.852190514Z [err]    signal: null,
2025-10-27T20:27:34.852198950Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T20:27:34.852207015Z [err]    stdout: '',
2025-10-27T20:27:34.852222935Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T20:27:34.852241269Z [err]  }
2025-10-27T20:27:34.852257576Z [inf]  8:27:34 PM [express] GET /api/deployment-info 200 in 15ms :: {"version":"1.0.0","commitHash":"unknow‚Ä¶
2025-10-27T20:27:38.131369566Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-27T20:27:38.131376979Z [inf]  [AUTH] Found users: 1
2025-10-27T20:27:38.131383813Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-27T20:27:38.131391705Z [inf]  [AUTH] Verifying password...
2025-10-27T20:27:39.092164811Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-27T20:27:39.092195173Z [inf]  8:27:38 PM [express] POST /api/auth/login 200 in 297ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-27T20:27:39.092202197Z [inf]  8:27:38 PM [express] GET /api/auth/me 200 in 11ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T20:27:39.092207930Z [inf]  8:27:39 PM [express] GET /api/projects 304 in 103ms :: []
2025-10-27T20:27:39.092632515Z [inf]  [AUTH] Password valid: true
2025-10-27T20:27:41.994819555Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T20:27:41.994825734Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T20:27:42.160770389Z [inf]  8:27:42 PM [express] GET /api/meta-sysop/pending-changes 200 in 494ms :: {"success":true,"pendingCha‚Ä¶
2025-10-27T20:27:42.172373569Z [inf]  8:27:42 PM [express] GET /api/meta-sysop/history 200 in 524ms :: {"messages":[{"id":"9dd044d9-5587-4‚Ä¶
2025-10-27T20:27:42.217140766Z [inf]  8:27:42 PM [express] GET /api/platform/status 200 in 553ms :: {"overallHealth":100,"activeIncidents"‚Ä¶
2025-10-27T20:27:42.217147960Z [inf]  8:27:42 PM [express] GET /api/meta-sysop/autonomy-level 200 in 567ms :: {"currentLevel":"max","maxAl‚Ä¶
2025-10-27T20:27:47.275350132Z [inf]  8:27:47 PM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T20:27:53.033116700Z [inf]  8:27:52 PM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T20:27:58.005076723Z [inf]  8:27:57 PM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T20:28:02.955514142Z [inf]  8:28:02 PM [express] GET /api/meta-sysop/pending-changes 304 in 20ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T20:28:08.075959918Z [inf]  8:28:07 PM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T20:28:13.548572660Z [inf]  8:28:12 PM [express] GET /api/meta-sysop/pending-changes 304 in 26ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T20:28:17.754606687Z [inf]  8:28:17 PM [express] GET /api/meta-sysop/pending-changes 304 in 23ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T20:37:32.060601232Z [inf]  [CACHE] Stats: {
2025-10-27T20:37:32.060608652Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:37:32.060615787Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:37:32.060671306Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:37:32.060685769Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-27T20:37:32.060696021Z [inf]  }
2025-10-27T20:40:30.522049785Z [inf]  8:40:24 PM [express] GET /api/meta-sysop/pending-changes 304 in 108ms :: {"success":true,"pendingCha‚Ä¶
2025-10-27T20:40:30.522222946Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-27T20:47:30.359298139Z [inf]  [CACHE] Stats: {
2025-10-27T20:47:30.359304368Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:47:30.359310852Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:47:30.359318131Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:47:30.359326983Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-27T20:47:30.359333446Z [inf]  }
2025-10-27T20:57:31.191243434Z [inf]  [CACHE] Stats: {
2025-10-27T20:57:31.191250105Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:57:31.191257111Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:57:31.191262983Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T20:57:31.191268768Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-27T20:57:31.191274953Z [inf]  }
2025-10-27T21:07:30.971292246Z [inf]  [CACHE] Stats: {
2025-10-27T21:07:30.971299815Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:07:30.971306678Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:07:30.971338405Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:07:30.971345132Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-27T21:07:30.971353868Z [inf]  }
2025-10-27T21:17:27.690287649Z [inf]  [CACHE] Stats: {
2025-10-27T21:17:27.690297613Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:17:27.690305661Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:17:27.690313490Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:17:27.690322796Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-27T21:17:27.690331770Z [inf]  }
2025-10-27T21:27:33.950121699Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:27:33.950123180Z [inf]  }
2025-10-27T21:27:33.950131929Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-27T21:27:33.950181759Z [inf]  [CACHE] Stats: {
2025-10-27T21:27:33.950188036Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:27:33.950195086Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:37:32.667625764Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:37:32.667642757Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-27T21:37:32.667652389Z [inf]  }
2025-10-27T21:37:32.667784428Z [inf]  [CACHE] Stats: {
2025-10-27T21:37:32.667797194Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:37:32.667804977Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-27T21:40:27.076359086Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T21:40:27.076360170Z [inf]  9:40:24 PM [express] GET /api/deployment-info 200 in 26ms :: {"version":"1.0.0","commitHash":"unknow‚Ä¶
2025-10-27T21:40:27.076367580Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T21:40:27.076408106Z [err]  
2025-10-27T21:40:27.076417851Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T21:40:27.076425345Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T21:40:27.076433740Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T21:40:27.076441147Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T21:40:27.076452310Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T21:40:27.076459078Z [err]      at ChildProcess._handle.onexit (node:internal/child_process:304:5) {
2025-10-27T21:40:27.076466029Z [err]    code: 128,
2025-10-27T21:40:27.076475251Z [err]    killed: false,
2025-10-27T21:40:27.076489102Z [err]    signal: null,
2025-10-27T21:40:27.076498571Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T21:40:27.076505885Z [err]    stdout: '',
2025-10-27T21:40:27.076516168Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T21:40:27.076524987Z [err]  }
2025-10-27T21:40:27.946391329Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-27T21:40:27.946398073Z [inf]  [AUTH] Found users: 1
2025-10-27T21:40:27.946405751Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-27T21:40:27.946412000Z [inf]  [AUTH] Verifying password...
2025-10-27T21:40:28.041430544Z [inf]  [AUTH] Password valid: true
2025-10-27T21:40:28.041442609Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-27T21:40:28.054127574Z [inf]  9:40:28 PM [express] POST /api/auth/login 200 in 304ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-27T21:40:29.338633704Z [inf]  9:40:28 PM [express] GET /api/auth/me 304 in 12ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T21:40:29.338642347Z [inf]  9:40:28 PM [express] GET /api/projects 304 in 103ms :: []
2025-10-27T21:40:30.461771167Z [inf]  9:40:30 PM [express] GET /api/meta-sysop/autonomy-level 304 in 77ms :: {"currentLevel":"max","maxAll‚Ä¶
2025-10-27T21:40:30.461777279Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T21:40:30.461786559Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T21:40:30.461794632Z [inf]  9:40:30 PM [express] GET /api/meta-sysop/pending-changes 304 in 307ms :: {"success":true,"pendingCha‚Ä¶
2025-10-27T21:40:31.221935824Z [inf]  9:40:30 PM [express] GET /api/platform/status 200 in 464ms :: {"overallHealth":100,"activeIncidents"‚Ä¶
2025-10-27T21:40:31.221944277Z [inf]  9:40:30 PM [express] GET /api/meta-sysop/history 304 in 498ms :: {"messages":[{"id":"9dd044d9-5587-4‚Ä¶
2025-10-27T21:40:35.341634044Z [inf]  9:40:35 PM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T21:40:39.444963881Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-27T21:40:39.444970840Z [inf]  [META-SYSOP-CHAT] Message: Commit all recent changes to GitHub with message:  Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2
2025-10-27T21:40:39.444977568Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-27T21:40:39.444983737Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-27T21:40:39.444994056Z [inf]  [META-SYSOP-CHAT] User autonomy level: max
2025-10-27T21:40:40.415907490Z [inf]  9:40:40 PM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T21:40:42.237510447Z [inf]  [META-SYSOP] Response has tool calls: true
2025-10-27T21:40:42.237518753Z [inf]  [META-SYSOP] Content blocks: text, tool_use
2025-10-27T21:40:42.237524540Z [inf]  [META-SYSOP-ENFORCEMENT] Response has tool calls - allowing conversational text, buffering post-tool text
2025-10-27T21:40:42.237531035Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): I'll commit all recent changes to GitHub with your specified message.
2025-10-27T21:40:45.530825889Z [inf]  9:40:45 PM [express] GET /api/meta-sysop/pending-changes 304 in 21ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T21:40:47.478378341Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming conversational text (pre-tools): I notice there are currently no file changes to commit. It seems the recent changes you mentioned ma
2025-10-27T21:40:47.478432866Z [inf]  [META-SYSOP] No more tool calls - ending session naturally
2025-10-27T21:40:47.478441317Z [err]  [META-SYSOP-CLEANUP] ‚ö†Ô∏è No activeTaskListId tracked - skipping cleanup
2025-10-27T21:40:47.478446741Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: Meta-SySop chat: Commit all recent changes to GitHub with message: Enhanced Meta-SySop - Railway deployment, dual-mod - success
2025-10-27T21:40:47.478453497Z [inf]  9:40:46 PM [express] POST /api/meta-sysop/stream 200 in 7493ms
2025-10-27T21:40:50.570145843Z [inf]  9:40:50 PM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T21:40:55.740980313Z [inf]  9:40:55 PM [express] GET /api/meta-sysop/pending-changes 304 in 20ms :: {"success":true,"pendingChan‚Ä¶