2025-10-27T22:52:40.000000000Z [inf]  Starting Container
2025-10-27T22:52:41.693716984Z [inf]  ======================================
2025-10-27T22:52:41.693723714Z [inf]  üöÇ RAILWAY STARTUP SCRIPT
2025-10-27T22:52:41.693730182Z [inf]  ======================================
2025-10-27T22:52:41.693737201Z [inf]  Time: Mon Oct 27 22:52:40 UTC 2025
2025-10-27T22:52:41.693744161Z [inf]  
2025-10-27T22:52:41.693751987Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-27T22:52:41.693761366Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-27T22:52:41.693768353Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-27T22:52:41.875671082Z [inf]  Using 'pg' driver for database querying
2025-10-27T22:52:42.036737642Z [inf]  [‚£∑] Pulling schema from database...
2025-10-27T22:52:42.139914378Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T22:52:42.269223012Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T22:52:42.405154647Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T22:52:42.679346239Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T22:52:42.679351269Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T22:52:42.783934288Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T22:52:42.905390218Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T22:52:43.035872561Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T22:52:43.166173863Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T22:52:43.290837259Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T22:52:43.423636447Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T22:52:43.733829361Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-27T22:52:43.733943034Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T22:52:43.811088631Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-27T22:52:43.938486172Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-27T22:52:44.064897323Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-27T22:52:44.191572487Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-27T22:52:44.320495020Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-27T22:52:44.775502438Z [inf]  üöÄ Starting Node.js application...
2025-10-27T22:52:44.775549759Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-27T22:52:44.775559268Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-27T22:52:44.775567203Z [inf]  [i] No changes detected
2025-10-27T22:52:44.775580751Z [inf]  
2025-10-27T22:52:44.775589172Z [inf]  ‚úÖ Database migrations completed successfully!
2025-10-27T22:52:44.775596852Z [inf]  
2025-10-27T22:52:45.759928588Z [inf]  [db] Connection string includes SSL params: true
2025-10-27T22:52:45.759934213Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-27T22:52:45.759940748Z [inf]  [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-27T22:52:45.759942154Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-27T22:52:45.759944849Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-27T22:52:45.759954174Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-27T22:52:45.759955886Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-27T22:52:45.761378350Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-27T22:52:45.768384370Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-27T22:52:45.775517013Z [inf]  üì° WebSocket server initialized at /ws
2025-10-27T22:52:45.775524354Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-27T22:52:45.775531700Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-27T22:52:45.781565625Z [inf]  ‚úÖ All routes registered successfully
2025-10-27T22:52:45.783137305Z [inf]  üîç Testing database connection...
2025-10-27T22:52:45.819600716Z [inf]  10:52:45 PM [express] serving on port 8080
2025-10-27T22:52:45.819608743Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-27T22:52:45.922371947Z [inf]  ‚úÖ Database connected successfully
2025-10-27T22:52:45.922376607Z [inf]  üîß Auto-healing system ENABLED (production mode)
2025-10-27T22:52:45.922382621Z [inf]  
2025-10-27T22:52:45.922387809Z [inf]  üîç Checking GitHub integration configuration...
2025-10-27T22:52:45.922393903Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-27T22:52:45.922398423Z [inf]     - Repository: 6-7Development/archetype
2025-10-27T22:52:45.922402950Z [inf]     - Branch: main
2025-10-27T22:52:45.922408151Z [inf]     - Token: ‚úì (configured)
2025-10-27T22:52:45.922412180Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-27T22:52:45.922421772Z [inf]     - Maintenance mode: Available for owner
2025-10-27T22:52:45.922426309Z [inf]  
2025-10-27T22:53:25.926155254Z [err]  }
2025-10-27T22:53:25.926169910Z [inf]  10:53:18 PM [express] GET /api/deployment-info 200 in 13ms :: {"version":"1.0.0","commitHash":"unknow‚Ä¶
2025-10-27T22:53:25.926177211Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T22:53:25.926182423Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T22:53:25.926186262Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T22:53:25.926192083Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T22:53:25.926195615Z [err]  
2025-10-27T22:53:25.926202710Z [err]  
2025-10-27T22:53:25.926204670Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T22:53:25.926212419Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T22:53:25.926219540Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T22:53:25.926227577Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T22:53:25.926234666Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T22:53:25.926240427Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T22:53:25.926247191Z [err]      at Socket.<anonymous> (node:internal/child_process:456:11)
2025-10-27T22:53:25.926253398Z [err]      at Socket.emit (node:events:524:28)
2025-10-27T22:53:25.926262357Z [err]      at Pipe.<anonymous> (node:net:343:12) {
2025-10-27T22:53:25.926270815Z [err]    code: 128,
2025-10-27T22:53:25.926277851Z [err]    killed: false,
2025-10-27T22:53:25.926284144Z [err]    signal: null,
2025-10-27T22:53:25.926290153Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T22:53:25.926294782Z [err]    stdout: '',
2025-10-27T22:53:25.926299584Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T22:53:25.927784067Z [err]    stdout: '',
2025-10-27T22:53:25.927788534Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T22:53:25.927793754Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T22:53:25.927794522Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T22:53:25.927802363Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T22:53:25.927803126Z [err]  }
2025-10-27T22:53:25.927810350Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T22:53:25.927811475Z [inf]  10:53:21 PM [express] GET /api/deployment-info 200 in 5ms :: {"version":"1.0.0","commitHash":"unknown‚Ä¶
2025-10-27T22:53:25.927816378Z [err]      at Socket.<anonymous> (node:internal/child_process:456:11)
2025-10-27T22:53:25.927819761Z [err]  Failed to get git info, using defaults: Error: Command failed: git rev-parse HEAD
2025-10-27T22:53:25.927821147Z [err]      at Socket.emit (node:events:524:28)
2025-10-27T22:53:25.927826998Z [err]      at Pipe.<anonymous> (node:net:343:12) {
2025-10-27T22:53:25.927828048Z [err]  fatal: not a git repository (or any of the parent directories): .git
2025-10-27T22:53:25.927831740Z [err]    code: 128,
2025-10-27T22:53:25.927836040Z [err]  
2025-10-27T22:53:25.927840552Z [err]    killed: false,
2025-10-27T22:53:25.927845150Z [err]      at genericNodeError (node:internal/errors:984:15)
2025-10-27T22:53:25.927848183Z [err]    signal: null,
2025-10-27T22:53:25.927853162Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T22:53:25.927854734Z [err]      at wrappedFn (node:internal/errors:538:14)
2025-10-27T22:53:25.927864404Z [err]      at ChildProcess.exithandler (node:child_process:422:12)
2025-10-27T22:53:25.927871450Z [err]      at ChildProcess.emit (node:events:524:28)
2025-10-27T22:53:25.927877793Z [err]      at maybeClose (node:internal/child_process:1104:16)
2025-10-27T22:53:25.929255188Z [err]      at Socket.<anonymous> (node:internal/child_process:456:11)
2025-10-27T22:53:25.929267572Z [err]      at Socket.emit (node:events:524:28)
2025-10-27T22:53:25.929276192Z [err]      at Pipe.<anonymous> (node:net:343:12) {
2025-10-27T22:53:25.929283956Z [err]    code: 128,
2025-10-27T22:53:25.929292141Z [err]    killed: false,
2025-10-27T22:53:25.929301340Z [err]    signal: null,
2025-10-27T22:53:25.929310003Z [err]    cmd: 'git rev-parse HEAD',
2025-10-27T22:53:25.929320156Z [err]    stdout: '',
2025-10-27T22:53:25.929328589Z [err]    stderr: 'fatal: not a git repository (or any of the parent directories): .git\n'
2025-10-27T22:53:25.929337418Z [err]  }
2025-10-27T22:53:25.929345217Z [inf]  10:53:25 PM [express] GET /api/deployment-info 200 in 6ms :: {"version":"1.0.0","commitHash":"unknown‚Ä¶
2025-10-27T22:53:28.081276556Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-27T22:53:28.083024230Z [inf]  [AUTH] Found users: 1
2025-10-27T22:53:28.083034202Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-27T22:53:28.083041226Z [inf]  [AUTH] Verifying password...
2025-10-27T22:53:28.347657898Z [inf]  [AUTH] Password valid: true
2025-10-27T22:53:28.347663986Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-27T22:53:28.357481787Z [inf]  10:53:28 PM [express] POST /api/auth/login 200 in 283ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-27T22:53:28.969931449Z [inf]  10:53:28 PM [express] GET /api/auth/me 304 in 10ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-27T22:53:28.969941893Z [inf]  10:53:28 PM [express] GET /api/projects 304 in 15ms :: []
2025-10-27T22:53:31.872320688Z [inf]  10:53:31 PM [express] GET /api/meta-sysop/projects 304 in 95ms :: []
2025-10-27T22:53:31.872331539Z [inf]  ‚úÖ WebSocket client connected
2025-10-27T22:53:31.872338500Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-27T22:53:31.872424233Z [inf]  10:53:31 PM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:53:31.872433108Z [inf]  10:53:31 PM [express] GET /api/meta-sysop/autonomy-level 304 in 20ms :: {"currentLevel":"max","maxAll‚Ä¶
2025-10-27T22:53:31.872442546Z [inf]  10:53:31 PM [express] GET /api/platform/status 200 in 95ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-27T22:53:31.872451752Z [inf]  [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-27T22:53:36.868524506Z [inf]  10:53:36 PM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:53:41.895642325Z [inf]  10:53:41 PM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:53:42.603867590Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-27T22:53:42.603881664Z [inf]  [META-SYSOP-CHAT] Message: Diagnoze system issues and fix them Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-10-27T22:53:42.603891115Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-27T22:53:42.603899155Z [inf]  [META-SYSOP-CHAT] Heartbeat started - will send keepalive every 15s
2025-10-27T22:53:42.603907356Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-27T22:53:42.603914187Z [inf]  [META-SYSOP-CHAT] User autonomy level: max
2025-10-27T22:53:44.964676309Z [err]      'cf-cache-status': 'DYNAMIC',
2025-10-27T22:53:44.964686132Z [err]      'x-robots-tag': 'none',
2025-10-27T22:53:44.964687216Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-27T22:53:44.964700695Z [err]      at async file:///app/dist/index.js:11695:24 {
2025-10-27T22:53:44.964708475Z [err]    status: 500,
2025-10-27T22:53:44.964715291Z [err]    headers: Headers {
2025-10-27T22:53:44.964721849Z [err]      date: 'Mon, 27 Oct 2025 22:53:44 GMT',
2025-10-27T22:53:44.964728927Z [err]      'content-type': 'application/json',
2025-10-27T22:53:44.964735273Z [err]      'content-length': '97',
2025-10-27T22:53:44.964743566Z [err]      connection: 'keep-alive',
2025-10-27T22:53:44.964751515Z [err]      'cf-ray': '9955c56599fe7ff1-IAD',
2025-10-27T22:53:44.964753686Z [err]  [META-SYSOP-CHAT] Stream error: InternalServerError: 500 {"type":"error","error":{"type":"api_error","message":"Internal server error"},"request_id":null}
2025-10-27T22:53:44.964761149Z [err]      at APIError.generate (file:///app/node_modules/@anthropic-ai/sdk/core/error.mjs:58:20)
2025-10-27T22:53:44.964761365Z [err]      'x-should-retry': 'false',
2025-10-27T22:53:44.964769331Z [err]      'request-id': 'req_011CUYXRSbrHBSkCstJVtLNF',
2025-10-27T22:53:44.964770469Z [err]      at Anthropic.makeStatusError (file:///app/node_modules/@anthropic-ai/sdk/client.mjs:152:32)
2025-10-27T22:53:44.964778144Z [err]      at Anthropic.makeRequest (file:///app/node_modules/@anthropic-ai/sdk/client.mjs:306:30)
2025-10-27T22:53:44.964779951Z [err]      'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
2025-10-27T22:53:44.964786385Z [err]      'anthropic-organization-id': '60f9e9aa-d58b-44f4-aa91-af881dd8f26a',
2025-10-27T22:53:44.964792553Z [err]      'x-envoy-upstream-service-time': '2186',
2025-10-27T22:53:44.964798492Z [err]      via: '1.1 google',
2025-10-27T22:53:44.965328090Z [err]      server: 'cloudflare'
2025-10-27T22:53:44.965334977Z [err]    },
2025-10-27T22:53:44.965341781Z [err]    requestID: 'req_011CUYXRSbrHBSkCstJVtLNF',
2025-10-27T22:53:44.965348181Z [err]    error: {
2025-10-27T22:53:44.965354141Z [err]      type: 'error',
2025-10-27T22:53:44.965360454Z [err]      error: { type: 'api_error', message: 'Internal server error' },
2025-10-27T22:53:44.965365867Z [err]      request_id: null
2025-10-27T22:53:44.965371495Z [err]    }
2025-10-27T22:53:44.965380100Z [err]  }
2025-10-27T22:53:44.965385908Z [inf]  [META-SYSOP-HEARTBEAT] Cleared on error
2025-10-27T22:53:44.965391070Z [inf]  [META-SYSOP-CHAT] Terminating stream: 81696c99-b23f-4a00-96fe-dceb0b33af59 Error: 500 {"type":"error","error":{"type":"api_error","message":"Internal server error"},"request_id":null}
2025-10-27T22:53:44.965396682Z [inf]  [META-SYSOP-HEARTBEAT] Cleared on stream end
2025-10-27T22:53:44.965402646Z [inf]  10:53:44 PM [express] POST /api/meta-sysop/stream 200 in 2309ms
2025-10-27T22:53:46.960923886Z [inf]  10:53:46 PM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:53:51.958994874Z [inf]  10:53:51 PM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:53:56.996845347Z [inf]  10:53:56 PM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:54:02.261453997Z [inf]  10:54:02 PM [express] GET /api/meta-sysop/pending-changes 304 in 19ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:54:07.152617392Z [inf]  10:54:07 PM [express] GET /api/meta-sysop/pending-changes 304 in 15ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:54:12.215839964Z [inf]  10:54:12 PM [express] GET /api/meta-sysop/pending-changes 304 in 9ms :: {"success":true,"pendingChang‚Ä¶
2025-10-27T22:54:17.288620926Z [inf]  10:54:17 PM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:54:22.358051989Z [inf]  10:54:22 PM [express] GET /api/meta-sysop/pending-changes 304 in 10ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:54:27.447570086Z [inf]  10:54:27 PM [express] GET /api/meta-sysop/pending-changes 304 in 18ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:54:32.510496690Z [inf]  10:54:32 PM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {"success":true,"pendingChan‚Ä¶
2025-10-27T22:54:37.619664316Z [inf]  10:54:37 PM [express] GET /api/meta-sysop/pending-changes 304 in 45ms :: {"success":true,"pendingChan‚Ä¶