2025-10-28T02:26:31.000000000Z [inf]  Starting Container
2025-10-28T02:26:32.129741262Z [inf]  
2025-10-28T02:26:32.129755605Z [inf]  ======================================
2025-10-28T02:26:32.129757087Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-28T02:26:32.129894391Z [inf]  üöÇ RAILWAY STARTUP SCRIPT
2025-10-28T02:26:32.129912061Z [inf]  ======================================
2025-10-28T02:26:32.129928431Z [inf]  Time: Tue Oct 28 02:26:31 UTC 2025
2025-10-28T02:26:33.416248877Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-28T02:26:33.416256332Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-28T02:26:33.553545240Z [inf]  Using 'pg' driver for database querying
2025-10-28T02:26:34.394683065Z [inf]  [‚£∑] Pulling schema from database...
2025-10-28T02:26:34.394689937Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-28T02:26:34.394696977Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-28T02:26:34.394703685Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-28T02:26:34.394711255Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-28T02:26:34.421405349Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-28T02:26:34.545950351Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-28T02:26:35.249774241Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-28T02:26:35.249781618Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-28T02:26:35.249789177Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-28T02:26:35.249796419Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-28T02:26:35.249805293Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-28T02:26:35.319963209Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-28T02:26:35.445079867Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-28T02:26:36.139875075Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-28T02:26:36.139928999Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-28T02:26:36.139942107Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-28T02:26:36.140349417Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-28T02:26:36.140355496Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-28T02:26:36.145831847Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-28T02:26:36.251814135Z [inf]  [i] No changes detected
2025-10-28T02:26:36.291120514Z [inf]  
2025-10-28T02:26:36.291130991Z [inf]  ‚úÖ Database migrations completed successfully!
2025-10-28T02:26:36.291136015Z [inf]  
2025-10-28T02:26:36.291140794Z [inf]  üöÄ Starting Node.js application...
2025-10-28T02:26:37.343364468Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-28T02:26:37.346291948Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-28T02:26:37.346301346Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-28T02:26:37.346309880Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-28T02:26:37.346316331Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-28T02:26:37.346322961Z [inf]  [db] Connection string includes SSL params: true
2025-10-28T02:26:37.353454770Z [inf]  [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-28T02:26:37.356395391Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-28T02:26:37.361540428Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-28T02:26:37.365405296Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-28T02:26:37.365411622Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-28T02:26:37.365426609Z [inf]  üì° WebSocket server initialized at /ws
2025-10-28T02:26:37.380870847Z [inf]  ‚úÖ All routes registered successfully
2025-10-28T02:26:37.380880674Z [inf]  üîç Testing database connection...
2025-10-28T02:26:37.421825193Z [inf]  2:26:37 AM [express] serving on port 8080
2025-10-28T02:26:37.421831988Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-28T02:26:37.524220330Z [inf]  
2025-10-28T02:26:37.524233385Z [inf]  ‚úÖ Database connected successfully
2025-10-28T02:26:37.524246057Z [inf]  üîß Auto-healing system ENABLED (production mode)
2025-10-28T02:26:37.524254786Z [inf]  
2025-10-28T02:26:37.524262703Z [inf]  üîç Checking GitHub integration configuration...
2025-10-28T02:26:37.524269807Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-28T02:26:37.524277713Z [inf]     - Repository: 6-7Development/archetype
2025-10-28T02:26:37.524285073Z [inf]     - Branch: main
2025-10-28T02:26:37.524292540Z [inf]     - Token: ‚úì (configured)
2025-10-28T02:26:37.524299893Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-28T02:26:37.524309476Z [inf]     - Maintenance mode: Available for owner
2025-10-28T02:28:37.807801177Z [inf]  [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-28T02:28:37.807814411Z [inf]  2:28:30 AM [express] GET /api/deployment-info 200 in 3ms :: {"version":"1.0.0","commitHash":"715e1c1‚Ä¶
2025-10-28T02:28:37.807824093Z [inf]  2:28:34 AM [express] GET /api/deployment-info 200 in 2ms :: {"version":"1.0.0","commitHash":"715e1c1‚Ä¶
2025-10-28T02:28:38.157175745Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-28T02:28:38.160780436Z [inf]  [AUTH] Found users: 1
2025-10-28T02:28:38.160788759Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-28T02:28:38.160794770Z [inf]  [AUTH] Verifying password...
2025-10-28T02:28:38.671431385Z [inf]  [AUTH] Password valid: true
2025-10-28T02:28:38.671438807Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-28T02:28:38.671445014Z [inf]  2:28:38 AM [express] POST /api/auth/login 200 in 290ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-28T02:28:39.062739767Z [inf]  2:28:39 AM [express] GET /api/auth/me 304 in 5ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-28T02:28:39.067868972Z [inf]  2:28:39 AM [express] GET /api/projects 304 in 8ms :: []
2025-10-28T02:28:40.994200328Z [inf]  2:28:40 AM [express] GET /api/meta-sysop/pending-changes 304 in 24ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:28:41.000065319Z [inf]  2:28:40 AM [express] GET /api/meta-sysop/autonomy-level 304 in 27ms :: {"currentLevel":"max","maxAll‚Ä¶
2025-10-28T02:28:41.076113070Z [inf]  2:28:41 AM [express] GET /api/platform/status 200 in 98ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-28T02:28:41.076117747Z [inf]  [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-28T02:28:41.080464853Z [inf]  2:28:41 AM [express] GET /api/meta-sysop/projects 304 in 100ms :: []
2025-10-28T02:28:41.205553084Z [inf]  ‚úÖ WebSocket client connected
2025-10-28T02:28:41.770464214Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-28T02:28:44.947417323Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-28T02:28:46.229135932Z [inf]  2:28:46 AM [express] GET /api/auth/me 304 in 5ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-28T02:28:46.757361924Z [inf]  2:28:46 AM [express] GET /api/platform/status 200 in 20ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-28T02:28:46.757366689Z [inf]  ‚úÖ WebSocket client connected
2025-10-28T02:28:46.757377919Z [inf]  2:28:46 AM [express] GET /api/meta-sysop/pending-changes 304 in 19ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:28:46.757387341Z [inf]  [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-28T02:28:46.757398843Z [inf]  2:28:46 AM [express] GET /api/meta-sysop/autonomy-level 304 in 92ms :: {"currentLevel":"max","maxAll‚Ä¶
2025-10-28T02:28:46.757402452Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-28T02:28:46.757409352Z [inf]  2:28:46 AM [express] GET /api/meta-sysop/projects 304 in 91ms :: []
2025-10-28T02:28:48.745105409Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-28T02:28:50.760510238Z [inf]  2:28:50 AM [express] GET /api/auth/me 304 in 9ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-28T02:28:50.760550039Z [inf]  2:28:50 AM [express] GET /api/meta-sysop/autonomy-level 304 in 16ms :: {"currentLevel":"max","maxAll‚Ä¶
2025-10-28T02:28:50.760556346Z [inf]  [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-28T02:28:50.760562643Z [inf]  2:28:50 AM [express] GET /api/platform/status 200 in 18ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-28T02:28:50.760569193Z [inf]  2:28:50 AM [express] GET /api/meta-sysop/projects 304 in 17ms :: []
2025-10-28T02:28:50.760575625Z [inf]  2:28:50 AM [express] GET /api/meta-sysop/pending-changes 304 in 19ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:28:50.760581882Z [inf]  ‚úÖ WebSocket client connected
2025-10-28T02:28:50.765847135Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-28T02:28:55.742857614Z [inf]  2:28:55 AM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:29:00.856856480Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-28T02:29:00.856864425Z [inf]  [META-SYSOP-CHAT] Heartbeat started - will send keepalive every 15s
2025-10-28T02:29:00.856869576Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-28T02:29:00.856876859Z [inf]  [META-SYSOP-CHAT] User autonomy level: max
2025-10-28T02:29:00.856885068Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-28T02:29:00.856894296Z [inf]  [META-SYSOP-CHAT] Message: delete jesus on top header Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-10-28T02:29:00.856903428Z [inf]  2:29:00 AM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:29:03.868801834Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: I'll help you diagnose the system and fix the issues you've mentioned. Let me create a task list to 
2025-10-28T02:29:05.898398399Z [inf]  2:29:05 AM [express] GET /api/meta-sysop/pending-changes 304 in 19ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:29:07.958561571Z [inf]  [META-SYSOP] Response has tool calls: true
2025-10-28T02:29:07.958569800Z [inf]  [META-SYSOP] Content blocks: text, text, tool_use
2025-10-28T02:29:07.958577438Z [inf]  [META-SYSOP] Task list created: df05e208-add4-418d-a741-c735f0b22038
2025-10-28T02:29:09.794585048Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: Now let me start working on these tasks:
2025-10-28T02:29:10.796062865Z [inf]  2:29:10 AM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:29:12.754023350Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: Let me check the task list first:
2025-10-28T02:29:13.003020987Z [err]  [META-SYSOP-CHAT] Stream error: BadRequestError: 400 {"type":"error","error":{"type":"invalid_request_error","message":"messages.11.content.2.tool_use._inputStr: Extra inputs are not permitted"},"request_id":"req_011CUYorb8Nrxukwz4ukahtf"}
2025-10-28T02:29:13.003030922Z [err]      at APIError.generate (file:///app/node_modules/@anthropic-ai/sdk/core/error.mjs:37:20)
2025-10-28T02:29:13.003037024Z [err]      at Anthropic.makeStatusError (file:///app/node_modules/@anthropic-ai/sdk/client.mjs:152:32)
2025-10-28T02:29:13.003042509Z [err]      at Anthropic.makeRequest (file:///app/node_modules/@anthropic-ai/sdk/client.mjs:306:30)
2025-10-28T02:29:13.003047795Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-28T02:29:13.003053685Z [err]      at async file:///app/dist/index.js:11767:22 {
2025-10-28T02:29:13.003061576Z [err]    status: 400,
2025-10-28T02:29:13.003067607Z [err]    headers: Headers {
2025-10-28T02:29:13.003073199Z [err]      date: 'Tue, 28 Oct 2025 02:29:12 GMT',
2025-10-28T02:29:13.003078495Z [err]      'content-type': 'application/json',
2025-10-28T02:29:13.003083878Z [err]      'content-length': '186',
2025-10-28T02:29:13.003089303Z [err]      connection: 'keep-alive',
2025-10-28T02:29:13.003095142Z [err]      'cf-ray': '99570113cd36d600-IAD',
2025-10-28T02:29:13.003100472Z [err]      'x-should-retry': 'false',
2025-10-28T02:29:13.003106418Z [err]      'request-id': 'req_011CUYorb8Nrxukwz4ukahtf',
2025-10-28T02:29:13.003112003Z [err]      'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
2025-10-28T02:29:13.003118569Z [err]      'anthropic-organization-id': '60f9e9aa-d58b-44f4-aa91-af881dd8f26a',
2025-10-28T02:29:13.003124074Z [err]      'x-envoy-upstream-service-time': '24',
2025-10-28T02:29:13.003129047Z [err]      via: '1.1 google',
2025-10-28T02:29:13.003134202Z [err]      'cf-cache-status': 'DYNAMIC',
2025-10-28T02:29:13.006054952Z [err]      'x-robots-tag': 'none',
2025-10-28T02:29:13.006070943Z [err]      server: 'cloudflare'
2025-10-28T02:29:13.006079855Z [err]    },
2025-10-28T02:29:13.006088736Z [err]    requestID: 'req_011CUYorb8Nrxukwz4ukahtf',
2025-10-28T02:29:13.006097309Z [err]    error: {
2025-10-28T02:29:13.006104903Z [err]      type: 'error',
2025-10-28T02:29:13.006111713Z [err]      error: {
2025-10-28T02:29:13.006121645Z [err]        type: 'invalid_request_error',
2025-10-28T02:29:13.006128809Z [err]        message: 'messages.11.content.2.tool_use._inputStr: Extra inputs are not permitted'
2025-10-28T02:29:13.006136123Z [err]      },
2025-10-28T02:29:13.006143915Z [err]      request_id: 'req_011CUYorb8Nrxukwz4ukahtf'
2025-10-28T02:29:13.006151492Z [err]    }
2025-10-28T02:29:13.006158659Z [err]  }
2025-10-28T02:29:13.006165953Z [inf]  [META-SYSOP-HEARTBEAT] Cleared on error
2025-10-28T02:29:13.007478070Z [inf]  [META-SYSOP-CHAT] Terminating stream: 350e57f0-2a13-4dc9-9786-2f1714e0a06b Error: 400 {"type":"error","error":{"type":"invalid_request_error","message":"messages.11.content.2.tool_use._inputStr: Extra inputs are not permitted"},"request_id":"req_011CUYorb8Nrxukwz4ukahtf"}
2025-10-28T02:29:13.009901216Z [inf]  [META-SYSOP-HEARTBEAT] Cleared on stream end
2025-10-28T02:29:13.012989849Z [inf]  2:29:13 AM [express] POST /api/meta-sysop/stream 200 in 12477ms
2025-10-28T02:29:13.115837089Z [inf]  [META-SYSOP] Fetched 4 tasks for task list df05e208-add4-418d-a741-c735f0b22038
2025-10-28T02:29:13.118494602Z [inf]  2:29:13 AM [express] GET /api/meta-sysop/task-list/df05e208-add4-418d-a741-c735f0b22038 200 in 12ms ‚Ä¶
2025-10-28T02:29:15.884302193Z [inf]  2:29:15 AM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:29:20.963280942Z [inf]  2:29:20 AM [express] GET /api/meta-sysop/pending-changes 304 in 10ms :: {"success":true,"pendingChan‚Ä¶