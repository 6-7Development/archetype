2025-10-28T02:50:03.000000000Z [inf]  Starting Container
2025-10-28T02:50:04.284379343Z [inf]  ======================================
2025-10-28T02:50:04.284386091Z [inf]  üöÇ RAILWAY STARTUP SCRIPT
2025-10-28T02:50:04.284397378Z [inf]  ======================================
2025-10-28T02:50:04.284408605Z [inf]  Time: Tue Oct 28 02:50:03 UTC 2025
2025-10-28T02:50:04.284415019Z [inf]  
2025-10-28T02:50:04.284428567Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-28T02:50:04.299738125Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-28T02:50:04.299749106Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-28T02:50:05.327890810Z [inf]  Using 'pg' driver for database querying
2025-10-28T02:50:05.327899856Z [inf]  [‚£∑] Pulling schema from database...
2025-10-28T02:50:05.327908621Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-28T02:50:05.327921760Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-28T02:50:05.327930939Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-28T02:50:05.327949710Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-28T02:50:05.421536272Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-28T02:50:05.537999768Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-28T02:50:06.217559179Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-28T02:50:06.217565507Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-28T02:50:06.217572531Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-28T02:50:06.217579725Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-28T02:50:06.217613290Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-28T02:50:06.310075934Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-28T02:50:06.433965460Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-28T02:50:06.562681720Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-28T02:50:07.243258775Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-28T02:50:07.243262601Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-28T02:50:07.243266702Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-28T02:50:07.243270717Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-28T02:50:07.243276101Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-28T02:50:07.332848855Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-28T02:50:07.351783818Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-28T02:50:07.422822575Z [inf]  [i] No changes detected
2025-10-28T02:50:07.453860485Z [inf]  
2025-10-28T02:50:07.453868504Z [inf]  ‚úÖ Database migrations completed successfully!
2025-10-28T02:50:07.453874995Z [inf]  
2025-10-28T02:50:07.453881210Z [inf]  üöÄ Starting Node.js application...
2025-10-28T02:50:09.248123856Z [inf]  [db] Connection string includes SSL params: true
2025-10-28T02:50:09.248124718Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-28T02:50:09.248137067Z [inf]  [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-28T02:50:09.248137876Z [inf]  
2025-10-28T02:50:09.248140525Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-28T02:50:09.248146247Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-28T02:50:09.248152800Z [inf]  üîç Checking GitHub integration configuration...
2025-10-28T02:50:09.248154719Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-28T02:50:09.248155865Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-28T02:50:09.248162883Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-28T02:50:09.248165427Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-28T02:50:09.248168189Z [inf]  üì° WebSocket server initialized at /ws
2025-10-28T02:50:09.248173928Z [inf]  ‚úÖ All routes registered successfully
2025-10-28T02:50:09.248177925Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-28T02:50:09.248184114Z [inf]     - Repository: 6-7Development/archetype
2025-10-28T02:50:09.248188403Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-28T02:50:09.248189027Z [inf]  üîç Testing database connection...
2025-10-28T02:50:09.248199486Z [inf]  2:50:08 AM [express] serving on port 8080
2025-10-28T02:50:09.248206972Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-28T02:50:09.248219286Z [inf]  ‚úÖ Database connected successfully
2025-10-28T02:50:09.248234838Z [inf]  üîß Auto-healing system ENABLED (production mode)
2025-10-28T02:50:09.248292322Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-28T02:50:09.253609258Z [inf]     - Branch: main
2025-10-28T02:50:09.253619441Z [inf]     - Token: ‚úì (configured)
2025-10-28T02:50:09.253625950Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-28T02:50:09.253632173Z [inf]     - Maintenance mode: Available for owner
2025-10-28T02:50:09.253638367Z [inf]  
2025-10-28T02:50:29.293637276Z [inf]  [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-28T02:50:29.293651007Z [inf]  2:50:23 AM [express] GET /api/deployment-info 200 in 3ms :: {"version":"1.0.0","commitHash":"a8f3d4f‚Ä¶
2025-10-28T02:50:29.293843252Z [inf]  2:50:27 AM [express] GET /api/projects 304 in 11ms :: []
2025-10-28T02:50:29.293881283Z [inf]  2:50:24 AM [express] GET /api/deployment-info 200 in 1ms :: {"version":"1.0.0","commitHash":"a8f3d4f‚Ä¶
2025-10-28T02:50:29.293893607Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-28T02:50:29.293901863Z [inf]  [AUTH] Found users: 1
2025-10-28T02:50:29.293909043Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-28T02:50:29.293916928Z [inf]  [AUTH] Verifying password...
2025-10-28T02:50:29.293926748Z [inf]  [AUTH] Password valid: true
2025-10-28T02:50:29.293934552Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-28T02:50:29.293942301Z [inf]  2:50:27 AM [express] POST /api/auth/login 200 in 280ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-28T02:50:29.293949836Z [inf]  2:50:27 AM [express] GET /api/auth/me 304 in 7ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-28T02:50:29.363454572Z [inf]  [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-28T02:50:29.367622206Z [inf]  2:50:29 AM [express] GET /api/meta-sysop/autonomy-level 304 in 27ms :: {"currentLevel":"max","maxAll‚Ä¶
2025-10-28T02:50:29.367632189Z [inf]  2:50:29 AM [express] GET /api/meta-sysop/projects 304 in 26ms :: []
2025-10-28T02:50:29.459157735Z [inf]  2:50:29 AM [express] GET /api/meta-sysop/pending-changes 304 in 110ms :: {"success":true,"pendingCha‚Ä¶
2025-10-28T02:50:29.469555889Z [inf]  2:50:29 AM [express] GET /api/platform/status 200 in 120ms :: {"overallHealth":100,"activeIncidents"‚Ä¶
2025-10-28T02:50:29.532604632Z [inf]  ‚úÖ WebSocket client connected
2025-10-28T02:50:29.594564298Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-28T02:50:31.370300749Z [inf]  ‚ùå WebSocket client disconnected (user: admin)
2025-10-28T02:50:32.313287486Z [inf]  2:50:32 AM [express] GET /api/auth/me 304 in 8ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-28T02:50:32.313293003Z [inf]  [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-28T02:50:32.313298344Z [inf]  2:50:32 AM [express] GET /api/meta-sysop/autonomy-level 304 in 20ms :: {"currentLevel":"max","maxAll‚Ä¶
2025-10-28T02:50:32.313304976Z [inf]  2:50:32 AM [express] GET /api/meta-sysop/pending-changes 304 in 20ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:50:32.313310630Z [inf]  2:50:32 AM [express] GET /api/meta-sysop/projects 304 in 22ms :: []
2025-10-28T02:50:32.315349232Z [inf]  2:50:32 AM [express] GET /api/platform/status 200 in 92ms :: {"overallHealth":100,"activeIncidents":‚Ä¶
2025-10-28T02:50:32.328966368Z [inf]  ‚úÖ WebSocket client connected
2025-10-28T02:50:32.376243988Z [inf]  üì° [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-28T02:50:37.316698358Z [inf]  2:50:37 AM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:50:38.146728904Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-28T02:50:38.146735391Z [inf]  [META-SYSOP-CHAT] Message: hi Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-10-28T02:50:38.146741356Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-28T02:50:38.146747328Z [inf]  [META-SYSOP-CHAT] Heartbeat started - will send keepalive every 15s
2025-10-28T02:50:38.146753891Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-28T02:50:38.146759706Z [inf]  [META-SYSOP-CHAT] User autonomy level: max
2025-10-28T02:50:38.146766867Z [inf]  [META-SYSOP] Casual greeting detected - sending friendly response WITHOUT calling Claude
2025-10-28T02:50:38.146773086Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: Meta-SySop chat: hi - success
2025-10-28T02:50:38.146778728Z [inf]  [META-SYSOP-CHAT] Terminating stream: 26682ec8-9d3a-46a0-9e3f-8b21068af030 Success
2025-10-28T02:50:38.146784863Z [inf]  [META-SYSOP-HEARTBEAT] Cleared on stream end
2025-10-28T02:50:38.146791332Z [inf]  2:50:37 AM [express] POST /api/meta-sysop/stream 200 in 41ms
2025-10-28T02:50:42.414417411Z [inf]  2:50:42 AM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:50:47.594116484Z [inf]  2:50:47 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:50:53.178891305Z [inf]  2:50:52 AM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:50:58.282267550Z [inf]  2:50:57 AM [express] GET /api/meta-sysop/pending-changes 304 in 15ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:50:59.232781667Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-28T02:50:59.232786721Z [inf]  [META-SYSOP-CHAT] Message: how are you feeling after update? Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-10-28T02:50:59.232791021Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-28T02:50:59.232800947Z [inf]  [META-SYSOP-CHAT] Heartbeat started - will send keepalive every 15s
2025-10-28T02:50:59.232805850Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-28T02:50:59.232810392Z [inf]  [META-SYSOP-CHAT] User autonomy level: max
2025-10-28T02:50:59.232814882Z [inf]  [META-SYSOP] Casual greeting detected - sending friendly response WITHOUT calling Claude
2025-10-28T02:50:59.232819594Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: Meta-SySop chat: how are you feeling after update? - success
2025-10-28T02:50:59.232824641Z [inf]  [META-SYSOP-CHAT] Terminating stream: d31b4de8-b63b-4fb3-9167-5bca0b23797d Success
2025-10-28T02:50:59.232829360Z [inf]  [META-SYSOP-HEARTBEAT] Cleared on stream end
2025-10-28T02:50:59.232833587Z [inf]  2:50:58 AM [express] POST /api/meta-sysop/stream 200 in 20ms
2025-10-28T02:51:03.195092297Z [inf]  2:51:02 AM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:08.180453026Z [inf]  2:51:07 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:13.270148182Z [inf]  2:51:12 AM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:17.337039625Z [inf]  [META-SYSOP-CHAT] Heartbeat started - will send keepalive every 15s
2025-10-28T02:51:17.337053342Z [inf]  [META-SYSOP-CHAT] Entering try block
2025-10-28T02:51:17.337060980Z [inf]  [META-SYSOP-CHAT] User autonomy level: max
2025-10-28T02:51:17.337125509Z [inf]  [META-SYSOP-CHAT] Stream request received
2025-10-28T02:51:17.337133446Z [inf]  [META-SYSOP-CHAT] Message: diagnose platform Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-10-28T02:51:17.337140633Z [inf]  [META-SYSOP-CHAT] Setting up SSE headers
2025-10-28T02:51:18.289857741Z [inf]  2:51:18 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:20.320672012Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: I'll diagnose the platform to find issues and fix the toolbar problems in the chat. Let me start by 
2025-10-28T02:51:25.416013133Z [inf]  [META-SYSOP] Response has tool calls: true
2025-10-28T02:51:25.416020750Z [inf]  [META-SYSOP] Content blocks: text, text, tool_use
2025-10-28T02:51:25.426621786Z [inf]  [META-SYSOP] Task list created: 660a7dc9-d3b1-42f2-a15d-23ed544f2543
2025-10-28T02:51:25.426629001Z [inf]  [META-SYSOP-AUTO] Auto-executing first task: Run comprehensive platform diagnostics
2025-10-28T02:51:26.356343848Z [err]  [META-SYSOP-AUTO] Auto-execution failed: TypeError: Cannot read properties of undefined (reading 'length')
2025-10-28T02:51:26.356355678Z [err]      at file:///app/dist/index.js:11930:96
2025-10-28T02:51:26.356362135Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-28T02:51:26.356479671Z [inf]  [META-SYSOP-AUTO] Marked task 1db7b610-e5f8-43a0-a805-9427ea097ccc in_progress
2025-10-28T02:51:27.545040125Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: Now let me start the comprehensive diagnostics:
2025-10-28T02:51:30.604139119Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: Let me check the task list first:
2025-10-28T02:51:32.220363827Z [inf]  [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-28T02:51:33.256375368Z [inf]  2:51:33 AM [express] GET /api/meta-sysop/pending-changes 304 in 87ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:34.249455109Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: I see there's already a task list with the chat toolbar fix task. Let me update the diagnostics task
2025-10-28T02:51:38.446860061Z [inf]  2:51:38 AM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:38.446865809Z [inf]  [META-SYSOP-CHAT] üí¨ Streaming text: Now let me investigate the chat toolbar issue specifically. Let me check the chat component files:No
2025-10-28T02:51:40.445494859Z [err]  [META-SYSOP-ANTI-LYING] Blocked out-of-order task completion
2025-10-28T02:51:40.445499348Z [inf]  [META-SYSOP-CLEANUP] Safety passed - checking task list 660a7dc9-d3b1-42f2-a15d-23ed544f2543 for incomplete tasks...
2025-10-28T02:51:40.445503860Z [inf]  [META-SYSOP-CLEANUP] Found 1 stuck in_progress tasks - will auto-complete
2025-10-28T02:51:40.445508498Z [inf]  [META-SYSOP-CLEANUP] Marked stuck task "Run comprehensive platform diagnostics" as completed
2025-10-28T02:51:40.445513172Z [inf]  [META-SYSOP-CLEANUP] ‚úÖ Task list 660a7dc9-d3b1-42f2-a15d-23ed544f2543 marked as completed (had stuck tasks)
2025-10-28T02:51:40.445519785Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: Meta-SySop chat: diagnose platform - success
2025-10-28T02:51:40.445526835Z [inf]  [META-SYSOP-HEARTBEAT] Cleared on stream end
2025-10-28T02:51:40.445532646Z [inf]  2:51:40 AM [express] POST /api/meta-sysop/stream 200 in 23049ms
2025-10-28T02:51:40.445539486Z [inf]  [META-SYSOP] Fetched 4 tasks for task list 660a7dc9-d3b1-42f2-a15d-23ed544f2543
2025-10-28T02:51:40.445545783Z [inf]  2:51:40 AM [express] GET /api/meta-sysop/task-list/660a7dc9-d3b1-42f2-a15d-23ed544f2543 200 in 14ms ‚Ä¶
2025-10-28T02:51:43.415027075Z [inf]  2:51:43 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:48.511855467Z [inf]  2:51:48 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:53.471530838Z [inf]  2:51:53 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:51:58.595043004Z [inf]  2:51:58 AM [express] GET /api/meta-sysop/pending-changes 304 in 17ms :: {"success":true,"pendingChan‚Ä¶
2025-10-28T02:52:38.585936856Z [inf]  2:52:28 AM [express] GET /api/meta-sysop/pending-changes 304 in 89ms :: {"success":true,"pendingChan‚Ä¶