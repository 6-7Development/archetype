2025-10-28T03:29:39.000000000Z [info] Starting Container
2025-10-28T03:29:39.852808037Z [info] ðŸ”„ Running database migrations with drizzle-kit...
2025-10-28T03:29:39.852823928Z [info] ======================================
2025-10-28T03:29:39.852845038Z [info] ðŸš‚ RAILWAY STARTUP SCRIPT
2025-10-28T03:29:39.852856510Z [info] ======================================
2025-10-28T03:29:39.852864303Z [info] Time: Tue Oct 28 03:29:39 UTC 2025
2025-10-28T03:29:39.852872294Z [info] 
2025-10-28T03:29:39.898704874Z [info] No config path provided, using default 'drizzle.config.ts'
2025-10-28T03:29:39.898710123Z [info] Reading config file '/app/drizzle.config.ts'
2025-10-28T03:29:40.216099625Z [info] Using 'pg' driver for database querying
2025-10-28T03:29:40.843855403Z [info] a from database...
2025-10-28T03:29:40.843866019Z [info] a from database...
2025-10-28T03:29:40.843921433Z [info] [â£·] Pulling schema from database...
2025-10-28T03:29:40.843925997Z [info] a from database...
2025-10-28T03:29:40.865871398Z [info] a from database...
2025-10-28T03:29:40.991711734Z [info] a from database...
2025-10-28T03:29:41.120556826Z [info] a from database...
2025-10-28T03:29:41.249703850Z [info] a from database...
2025-10-28T03:29:41.778135706Z [info] a from database...
2025-10-28T03:29:41.778146227Z [info] a from database...
2025-10-28T03:29:41.778154050Z [info] a from database...
2025-10-28T03:29:41.778221043Z [info] a from database...
2025-10-28T03:29:41.890112717Z [info] a from database...
2025-10-28T03:29:42.018691905Z [info] a from database...
2025-10-28T03:29:42.145643551Z [info] a from database...
2025-10-28T03:29:42.274462118Z [info] a from database...
2025-10-28T03:29:42.908475517Z [info] a from database...
2025-10-28T03:29:42.908585077Z [info] a from database...
2025-10-28T03:29:42.908610678Z [info] a from database...
2025-10-28T03:29:42.908617713Z [info] [i] No changes detected
2025-10-28T03:29:42.908624468Z [info] 
2025-10-28T03:29:42.908631188Z [info] âœ… Database migrations completed successfully!
2025-10-28T03:29:42.908636807Z [info] 
2025-10-28T03:29:42.908643911Z [info] ðŸš€ Starting Node.js application...
2025-10-28T03:29:43.962011951Z [info] ðŸŒ Server accessible at http://0.0.0.0:8080
2025-10-28T03:29:43.962089961Z [info] [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller
2025-10-28T03:29:43.962097414Z [info] [db] Connection string includes SSL params: true
2025-10-28T03:29:43.962097923Z [info] ðŸ“¡ WebSocket server initialized at /ws
2025-10-28T03:29:43.962107044Z [info] [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-28T03:29:43.962115271Z [info] [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-28T03:29:43.962115349Z [info] [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-28T03:29:43.962122613Z [info] âœ… All routes registered successfully
2025-10-28T03:29:43.962128166Z [info] ðŸ” Testing database connection...
2025-10-28T03:29:43.962132425Z [info] [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-28T03:29:43.962134081Z [info] 3:29:43 AM [express] serving on port 8080
2025-10-28T03:29:43.962148339Z [info] [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-28T03:29:43.962150665Z [info] [db] âœ… Added sslmode=no-verify to connection string for production
2025-10-28T03:29:43.962157695Z [info] [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-28T03:29:43.962165641Z [info] [db] SSL Configuration: {rejectUnauthorized:false}
2025-10-28T03:29:43.962170528Z [info] [db] Environment: NODE_ENV=production, PORT=8080
2025-10-28T03:29:43.995478624Z [info] âœ… Database connected successfully
2025-10-28T03:29:43.995488754Z [info] ðŸ”§ Auto-healing system ENABLED (production mode)
2025-10-28T03:29:43.995495828Z [info] 
2025-10-28T03:29:43.995502340Z [info] ðŸ” Checking GitHub integration configuration...
2025-10-28T03:29:43.995509069Z [info] âœ… GitHub integration configured successfully
2025-10-28T03:29:43.995516126Z [info]    - Repository: 6-7Development/archetype
2025-10-28T03:29:43.995526205Z [info]    - Branch: main
2025-10-28T03:29:43.995533413Z [info]    - Token: âœ“ (configured)
2025-10-28T03:29:43.995539704Z [info]    - Owner User ID: Not set (owner must be manually marked in database)
2025-10-28T03:29:43.995546493Z [info]    - Maintenance mode: Available for owner
2025-10-28T03:29:43.995552377Z [info] 
2025-10-28T03:29:47.194642369Z [info] âœ… WebSocket client connected
2025-10-28T03:29:47.306907076Z [info] ðŸ“¡ [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-28T03:29:56.967447512Z [info] [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-28T03:29:56.967458498Z [info] 3:29:56 AM [express] GET /api/deployment-info 200 in 4ms :: {version:"1.0.0",commitHash:"c2bb98bâ€¦
2025-10-28T03:30:04.342178225Z [info] [AUTH] Login attempt for email: root@getdc360.com
2025-10-28T03:30:04.342186574Z [info] [AUTH] Found users: 1
2025-10-28T03:30:04.342194248Z [info] [AUTH] User found: root@getdc360.com has password: true
2025-10-28T03:30:04.342201365Z [info] [AUTH] Verifying password...
2025-10-28T03:30:04.342238932Z [info] [AUTH] Password valid: true
2025-10-28T03:30:04.342248996Z [info] [AUTH] Authentication successful for: root@getdc360.com
2025-10-28T03:30:04.342256940Z [info] 3:30:04 AM [express] POST /api/auth/login 200 in 327ms :: {success:true,user:{id:"723e1301-c72â€¦
2025-10-28T03:30:05.312310784Z [info] 3:30:04 AM [express] GET /api/projects 304 in 15ms :: []
2025-10-28T03:30:05.312320830Z [info] 3:30:04 AM [express] GET /api/auth/me 304 in 97ms :: {user:{id:"723e1301-c729-48fc-810a-39ddef95â€¦
2025-10-28T03:30:09.162026967Z [info] âŒ WebSocket client disconnected (user: admin)
2025-10-28T03:30:13.371210124Z [info] [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-28T03:30:13.371216719Z [info] 3:30:12 AM [express] GET /api/meta-sysop/projects 304 in 27ms :: []
2025-10-28T03:30:13.371222354Z [info] 3:30:12 AM [express] GET /api/meta-sysop/pending-changes 304 in 29ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:13.371228441Z [info] 3:30:12 AM [express] GET /api/meta-sysop/autonomy-level 304 in 36ms :: {currentLevel:"max","maxAllâ€¦
2025-10-28T03:30:13.371293897Z [info] 3:30:12 AM [express] GET /api/platform/status 200 in 98ms :: {overallHealth:100,activeIncidents:â€¦
2025-10-28T03:30:13.371303647Z [info] âœ… WebSocket client connected
2025-10-28T03:30:13.371310203Z [info] ðŸ“¡ [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-28T03:30:17.993057615Z [info] 3:30:17 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:22.955411039Z [info] 3:30:22 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:27.961592259Z [info] 3:30:27 AM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:33.000488722Z [info] 3:30:32 AM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:38.083356845Z [info] 3:30:38 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:43.197784196Z [info] 3:30:43 AM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:48.357590895Z [info] 3:30:48 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:53.458177407Z [info] 3:30:53 AM [express] GET /api/meta-sysop/pending-changes 304 in 10ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:30:57.145728624Z [info] [META-SYSOP-CHAT] Message: Diagnose platform Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-10-28T03:30:57.145736861Z [info] [META-SYSOP-CHAT] Setting up SSE headers
2025-10-28T03:30:57.145743918Z [info] [META-SYSOP-CHAT] Heartbeat started - will send keepalive every 15s
2025-10-28T03:30:57.145748942Z [info] [META-SYSOP-CHAT] Entering try block
2025-10-28T03:30:57.145819773Z [info] [META-SYSOP-CHAT] Stream request received
2025-10-28T03:30:57.147712703Z [info] [META-SYSOP-CHAT] User autonomy level: max
2025-10-28T03:30:58.938930532Z [info] 3:30:58 AM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:31:00.143920959Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: I'll diagnose the platform to find issues and fix the chat toolbar problems. Let me start by creatin
2025-10-28T03:31:04.942306329Z [info] [META-SYSOP] Response has tool calls: true
2025-10-28T03:31:04.942310864Z [info] [META-SYSOP] Content blocks: text, text, tool_use
2025-10-28T03:31:04.942315524Z [info] [META-SYSOP] Task list created: b1c0e29e-808d-4ff9-b8ad-0d2d762a0b6f
2025-10-28T03:31:07.028001033Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: Now let me start the diagnosis to find platform issues.
2025-10-28T03:31:11.056847318Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: Let me check the task list to get the correct task IDs.Let me check the task list to get the correct
2025-10-28T03:31:12.147057388Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-28T03:31:15.449351975Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: I see there's already a task list with the diagnostic task in progress. Let me run the comprehensive
2025-10-28T03:31:19.076104057Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: Now let me check the chat toolbar implementation to understand why it's not working.Now let me check
2025-10-28T03:31:20.080116682Z [info] [META-SYSOP-CLEANUP] Safety passed - checking task list b1c0e29e-808d-4ff9-b8ad-0d2d762a0b6f for incomplete tasks...
2025-10-28T03:31:20.080120700Z [info] [META-SYSOP-CLEANUP] â„¹ï¸ No stuck tasks. Status: 0 completed, 4 pending - no cleanup needed
2025-10-28T03:31:20.080126085Z [info] [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: Meta-SySop chat: Diagnose platform - success
2025-10-28T03:31:20.080130874Z [info] [META-SYSOP-HEARTBEAT] Cleared on stream end
2025-10-28T03:31:20.080136493Z [info] 3:31:20 AM [express] POST /api/meta-sysop/stream 200 in 22932ms
2025-10-28T03:31:20.194770321Z [info] [META-SYSOP] Fetched 4 tasks for task list b1c0e29e-808d-4ff9-b8ad-0d2d762a0b6f
2025-10-28T03:31:20.199613178Z [info] 3:31:20 AM [express] GET /api/meta-sysop/task-list/b1c0e29e-808d-4ff9-b8ad-0d2d762a0b6f 200 in 13ms â€¦
2025-10-28T03:32:10.204739058Z [info] 3:32:03 AM [express] GET /api/meta-sysop/pending-changes 304 in 85ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:32:10.204753434Z [info] 3:32:08 AM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:32:14.200939535Z [info] 3:32:14 AM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:32:19.115187909Z [info] 3:32:19 AM [express] GET /api/meta-sysop/pending-changes 304 in 10ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:32:24.219543426Z [info] 3:32:24 AM [express] GET /api/meta-sysop/pending-changes 304 in 22ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:32:29.362739175Z [info] 3:32:29 AM [express] GET /api/meta-sysop/pending-changes 304 in 10ms :: {success:true,"pendingChanâ€¦
2025-10-28T03:32:34.468421630Z [info] 3:32:34 AM [express] GET /api/meta-sysop/pending-changes 304 in 11ms :: {success:true,"pendingChanâ€¦