2025-10-29T01:40:00.000000000Z [info] Starting Container
2025-10-29T01:40:01.730932075Z [info] ======================================
2025-10-29T01:40:01.730941224Z [info] ðŸš‚ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-10-29T01:40:01.730951881Z [info] ======================================
2025-10-29T01:40:01.730967937Z [info] Time: Wed Oct 29 01:40:00 UTC 2025
2025-10-29T01:40:01.730974251Z [info] Node version: v20.19.5
2025-10-29T01:40:01.730980541Z [info] NPM version: 10.8.2
2025-10-29T01:40:01.730997728Z [info] 
2025-10-29T01:40:01.731008296Z [info] ðŸ“ Current directory: /app
2025-10-29T01:40:01.731015013Z [info] ðŸ“‚ Listing root files:
2025-10-29T01:40:01.731024509Z [info] total 404
2025-10-29T01:40:01.731032696Z [info] drwxr-xr-x    1 root     root          4096 Oct 29 01:38 .
2025-10-29T01:40:01.731040163Z [info] dr-xr-xr-x    1 root     root          4096 Oct 29 01:39 ..
2025-10-29T01:40:01.731046522Z [info] drwxr-xr-x    3 root     root          4096 Oct 29 01:38 dist
2025-10-29T01:40:01.731055378Z [info] -rw-rw-r--    1 root     root           325 Oct 29 01:38 drizzle.config.ts
2025-10-29T01:40:01.731065139Z [info] drwxr-xr-x    1 root     root          4096 Oct 29 00:32 node_modules
2025-10-29T01:40:01.731072308Z [info] -rw-rw-r--    1 root     root        352670 Oct 29 00:32 package-lock.json
2025-10-29T01:40:01.731081101Z [info] -rw-rw-r--    1 root     root          4529 Oct 29 00:32 package.json
2025-10-29T01:40:01.731087912Z [info] -rwxrwxr-x    1 root     root          1865 Oct 29 01:38 railway-start.sh
2025-10-29T01:40:01.731095356Z [info] -rw-rw-r--    1 root     root         10062 Oct 29 01:38 replit.md
2025-10-29T01:40:01.731105183Z [info] drwxr-xr-x   10 root     root          4096 Oct 29 01:38 server
2025-10-29T01:40:01.731112592Z [info] drwxr-xr-x    2 root     root          4096 Oct 29 01:38 shared
2025-10-29T01:40:01.731119783Z [info] -rw-rw-r--    1 root     root           657 Oct 29 01:38 tsconfig.json
2025-10-29T01:40:01.731129039Z [info] 
2025-10-29T01:40:02.998178765Z [info] ðŸ” Checking for dist directory...
2025-10-29T01:40:02.998190026Z [info] âœ… dist directory exists
2025-10-29T01:40:02.998201625Z [info] ðŸ“‚ Contents:
2025-10-29T01:40:02.998737525Z [info] total 736
2025-10-29T01:40:02.998747395Z [info] drwxr-xr-x    3 root     root          4096 Oct 29 01:38 .
2025-10-29T01:40:02.998756524Z [info] drwxr-xr-x    1 root     root          4096 Oct 29 01:38 ..
2025-10-29T01:40:02.998763118Z [info] -rw-r--r--    1 root     root        741297 Oct 29 01:38 index.js
2025-10-29T01:40:02.998775395Z [info] drwxr-xr-x    3 root     root          4096 Oct 29 01:38 public
2025-10-29T01:40:02.998783466Z [info] âœ… dist/index.js found
2025-10-29T01:40:02.998791666Z [info] 
2025-10-29T01:40:02.998799829Z [info] ðŸ”„ Running database migrations with drizzle-kit...
2025-10-29T01:40:02.998806990Z [info] No config path provided, using default 'drizzle.config.ts'
2025-10-29T01:40:02.998814442Z [info] Reading config file '/app/drizzle.config.ts'
2025-10-29T01:40:02.998821729Z [info] Using 'pg' driver for database querying
2025-10-29T01:40:04.329817903Z [info] [â£·] Pulling schema from database...
2025-10-29T01:40:04.329827461Z [info] a from database...
2025-10-29T01:40:04.335465937Z [info] a from database...
2025-10-29T01:40:04.335492576Z [info] a from database...
2025-10-29T01:40:04.335502496Z [info] a from database...
2025-10-29T01:40:04.335510328Z [info] a from database...
2025-10-29T01:40:04.335522375Z [info] a from database...
2025-10-29T01:40:04.335534029Z [info] a from database...
2025-10-29T01:40:04.335542180Z [info] a from database...
2025-10-29T01:40:04.335548568Z [info] a from database...
2025-10-29T01:40:04.335556239Z [info] a from database...
2025-10-29T01:40:05.566864717Z [info] a from database...
2025-10-29T01:40:05.566871265Z [info] a from database...
2025-10-29T01:40:05.566879026Z [info] a from database...
2025-10-29T01:40:05.566884678Z [info] a from database...
2025-10-29T01:40:05.566890635Z [info] a from database...
2025-10-29T01:40:05.566897060Z [info] a from database...
2025-10-29T01:40:05.566903709Z [info] a from database...
2025-10-29T01:40:05.566908728Z [info] a from database...
2025-10-29T01:40:05.566913376Z [info] a from database...
2025-10-29T01:40:06.485526888Z [info] a from database...
2025-10-29T01:40:06.485695622Z [info] a from database...
2025-10-29T01:40:06.485707958Z [info] a from database...
2025-10-29T01:40:06.485717316Z [info] [i] No changes detected
2025-10-29T01:40:06.485724880Z [info] âœ… Database migrations completed successfully!
2025-10-29T01:40:06.485732314Z [info] 
2025-10-29T01:40:06.485740762Z [info] ðŸ” Environment Check:
2025-10-29T01:40:06.485747991Z [info] NODE_ENV: production
2025-10-29T01:40:06.485759758Z [info] PORT: 8080
2025-10-29T01:40:06.485766694Z [info] DATABASE_URL: âœ“ SET (hidden for security)
2025-10-29T01:40:06.485775300Z [info] GITHUB_TOKEN: âœ“ SET
2025-10-29T01:40:06.485782197Z [info] GITHUB_REPO: 6-7Development/archetype
2025-10-29T01:40:06.485789459Z [info] GITHUB_BRANCH: main
2025-10-29T01:40:06.485797045Z [info] ANTHROPIC_API_KEY: âœ“ SET
2025-10-29T01:40:06.485804039Z [info] 
2025-10-29T01:40:06.485810857Z [info] ðŸ“„ Ensuring replit.md is available...
2025-10-29T01:40:06.485818537Z [info] âœ… replit.md already present
2025-10-29T01:40:06.485833198Z [info] 
2025-10-29T01:40:06.485841904Z [info] ðŸš€ Starting Node.js application...
2025-10-29T01:40:06.485849273Z [info] Command: node dist/index.js
2025-10-29T01:40:06.485878767Z [info] 
2025-10-29T01:40:07.625295322Z [info] [db] âœ… Added sslmode=no-verify to connection string for production
2025-10-29T01:40:07.625308381Z [info] [db] Environment: NODE_ENV=production, PORT=8080
2025-10-29T01:40:07.625317011Z [info] [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-29T01:40:07.625324306Z [info] [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-29T01:40:07.625330880Z [info] [db] SSL Configuration: {rejectUnauthorized:false}
2025-10-29T01:40:07.625337919Z [info] [db] Connection string includes SSL params: true
2025-10-29T01:40:07.663503426Z [info] [PERFORMANCE] System prompt base cached (21338 chars) - saves ~4KB per request
2025-10-29T01:40:07.663510805Z [info] [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-29T01:40:08.177333277Z [info] [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-10-29T01:40:08.177359283Z [info] [META-SYSOP-JOB-MANAGER] Job manager connected to WebSocket
2025-10-29T01:40:08.177368694Z [info] âœ… All routes registered successfully
2025-10-29T01:40:08.177376405Z [info] ðŸ” Testing database connection...
2025-10-29T01:40:08.177385193Z [info] 1:40:07 AM [express] serving on port 8080
2025-10-29T01:40:08.177385716Z [info]    - Branch: main
2025-10-29T01:40:08.177397477Z [info]    - Token: âœ“ (configured)
2025-10-29T01:40:08.177399298Z [info] ðŸ” Checking GitHub integration configuration...
2025-10-29T01:40:08.177408870Z [info] âœ… GitHub integration configured successfully
2025-10-29T01:40:08.177409727Z [info]    - Owner User ID: Not set (owner must be manually marked in database)
2025-10-29T01:40:08.177415983Z [info] ðŸ“¡ WebSocket server initialized at /ws
2025-10-29T01:40:08.177419155Z [info]    - Repository: 6-7Development/archetype
2025-10-29T01:40:08.177420302Z [info]    - Maintenance mode: Available for owner
2025-10-29T01:40:08.177429642Z [info] 
2025-10-29T01:40:08.177433126Z [info] [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-29T01:40:08.177435539Z [info] ðŸŒ Server accessible at http://0.0.0.0:8080
2025-10-29T01:40:08.177443505Z [info] [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-29T01:40:08.177452017Z [info] âœ… Database connected successfully
2025-10-29T01:40:08.177453297Z [info] [META-SYSOP-JOB-MANAGER] Initialized with WebSocket support
2025-10-29T01:40:08.177462382Z [info] ðŸ”§ Auto-healing system ENABLED (production mode)
2025-10-29T01:40:08.177471149Z [info] 
2025-10-29T01:40:10.455823296Z [info] âœ… WebSocket client connected
2025-10-29T01:40:10.455836201Z [info] ðŸ“¡ [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-29T01:40:52.048156892Z [info] [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-29T01:40:52.048163624Z [info] 1:40:42 AM [express] GET /api/deployment-info 200 in 8ms :: {version:"1.0.0",commitHash:"38024f1â€¦
2025-10-29T01:40:52.048172247Z [info] [AUTH] Login attempt for email: root@getdc360.com
2025-10-29T01:40:52.048177732Z [info] [AUTH] Found users: 1
2025-10-29T01:40:52.048184056Z [info] [AUTH] User found: root@getdc360.com has password: true
2025-10-29T01:40:52.048190597Z [info] [AUTH] Verifying password...
2025-10-29T01:40:52.048196413Z [info] [AUTH] Password valid: true
2025-10-29T01:40:52.048205039Z [info] [AUTH] Authentication successful for: root@getdc360.com
2025-10-29T01:40:52.048224746Z [info] 1:40:46 AM [express] POST /api/auth/login 200 in 340ms :: {success:true,user:{id:"723e1301-c72â€¦
2025-10-29T01:40:52.048231914Z [info] 1:40:47 AM [express] GET /api/auth/me 304 in 13ms :: {user:{id:"723e1301-c729-48fc-810a-39ddef95â€¦
2025-10-29T01:40:52.048239459Z [info] 1:40:47 AM [express] GET /api/projects 304 in 19ms :: []
2025-10-29T01:40:52.048246164Z [info] [GITHUB-SERVICE] Initialized for 6-7Development/archetype on branch main
2025-10-29T01:40:52.048255266Z [info] 1:40:50 AM [express] GET /api/platform/status 200 in 51ms :: {overallHealth:100,activeIncidents:â€¦
2025-10-29T01:40:52.048261814Z [info] 1:40:50 AM [express] GET /api/meta-sysop/autonomy-level 304 in 55ms :: {currentLevel:"max","maxAllâ€¦
2025-10-29T01:40:52.048278789Z [info] [META-SYSOP] Fetched 0 projects for admin project selector
2025-10-29T01:40:52.048285975Z [info] 1:40:50 AM [express] GET /api/meta-sysop/projects 304 in 129ms :: []
2025-10-29T01:40:52.048293845Z [info] 1:40:50 AM [express] GET /api/meta-sysop/pending-changes 304 in 151ms :: {success:true,"pendingChaâ€¦
2025-10-29T01:40:52.048315292Z [info] âœ… WebSocket client connected
2025-10-29T01:40:52.048323130Z [info] ðŸ“¡ [WS] Session registered: userId=admin, sessionId=platform-healing
2025-10-29T01:40:52.744153727Z [info] 1:40:51 AM [express] GET /api/platform/deployment-history 200 in 241ms :: {success:true,"deploymenâ€¦
2025-10-29T01:40:56.712563854Z [info] 1:40:56 AM [express] GET /api/meta-sysop/pending-changes 304 in 15ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:40:59.251443824Z [info] [META-SYSOP-CHAT] Stream request received
2025-10-29T01:40:59.251452493Z [info] [META-SYSOP-CHAT] Message: Diagnose system Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-10-29T01:40:59.251459727Z [info] [META-SYSOP-CHAT] Setting up SSE headers
2025-10-29T01:40:59.251480424Z [info] [META-SYSOP-CHAT] Heartbeat started - will send keepalive every 15s
2025-10-29T01:40:59.251505298Z [info] [META-SYSOP-CHAT] Entering try block
2025-10-29T01:40:59.251516751Z [info] [META-SYSOP-CHAT] User autonomy level: max
2025-10-29T01:41:02.323606208Z [info] 1:41:01 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:04.121331294Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: I'll remove the glowing Bible icon from the header and then diagnose the system for you. Let me crea
2025-10-29T01:41:07.522354130Z [info] 1:41:07 AM [express] GET /api/meta-sysop/pending-changes 304 in 10ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:07.864778498Z [info] [META-SYSOP] Response has tool calls: true
2025-10-29T01:41:07.864787085Z [info] [META-SYSOP] Content blocks: text, text, tool_use
2025-10-29T01:41:07.864831738Z [info] [META-SYSOP-FORCE] === ITERATION 1 CHECK ===
2025-10-29T01:41:07.864838738Z [info] [META-SYSOP-FORCE] Tools called this iteration: createTaskList
2025-10-29T01:41:07.864845789Z [info] [META-SYSOP] Task list created: a9b0c383-6b0e-4fa7-b6d0-46a83206bcc1
2025-10-29T01:41:07.864852514Z [info] [META-SYSOP-FORCE] Created task list: true
2025-10-29T01:41:07.864857142Z [info] [META-SYSOP-FORCE] Called diagnosis tools: false
2025-10-29T01:41:07.864863128Z [info] [META-SYSOP-FORCE] Iteration count: 1
2025-10-29T01:41:07.864869555Z [info] [META-SYSOP-FORCE] âŒâŒâŒ FORCING TRIGGERED! Meta-SySop skipped perform_diagnosis!
2025-10-29T01:41:07.864883049Z [info] [META-SYSOP-FORCE] All tools executed and results added - now adding forcing message...
2025-10-29T01:41:07.864890754Z [info] [META-SYSOP-FORCE] âœ… Forcing message added. Conversation length: 103
2025-10-29T01:41:07.864897970Z [info] [META-SYSOP-FORCE] âœ… Continuing to iteration 2...
2025-10-29T01:41:07.864907963Z [info] [META-SYSOP] Fetched 3 tasks for task list a9b0c383-6b0e-4fa7-b6d0-46a83206bcc1
2025-10-29T01:41:07.864914601Z [info] 1:41:07 AM [express] GET /api/meta-sysop/task-list/a9b0c383-6b0e-4fa7-b6d0-46a83206bcc1 200 in 21ms â€¦
2025-10-29T01:41:11.583903375Z [info] [META-SYSOP-FORCE] === ITERATION 2 CHECK ===
2025-10-29T01:41:11.583916803Z [info] [META-SYSOP-FORCE] Tools called this iteration: perform_diagnosis
2025-10-29T01:41:11.583928051Z [info] [DIAGNOSIS] Raw files to check: []
2025-10-29T01:41:11.583939650Z [info] [DIAGNOSIS] After sanitization: []
2025-10-29T01:41:11.583949835Z [error] [DIAGNOSIS] All paths rejected, falling back to DEFAULT_FILES
2025-10-29T01:41:11.583972674Z [info] [DIAGNOSIS] Using 4 default files
2025-10-29T01:41:11.849758057Z [info] [META-SYSOP-FORCE] Created task list: false
2025-10-29T01:41:11.849772542Z [info] [META-SYSOP-FORCE] Called diagnosis tools: true
2025-10-29T01:41:11.849781270Z [info] [META-SYSOP-FORCE] Iteration count: 2
2025-10-29T01:41:11.849790359Z [info] [META-SYSOP-FORCE] âœ“ No forcing needed - proceeding normally
2025-10-29T01:41:12.898669338Z [info] 1:41:12 AM [express] GET /api/meta-sysop/pending-changes 304 in 13ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:14.156123007Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-29T01:41:16.235943945Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: Now let me update the first task and remove the Bible icon:
2025-10-29T01:41:17.265824257Z [info] [META-SYSOP-FORCE] === ITERATION 3 CHECK ===
2025-10-29T01:41:17.265831235Z [info] [META-SYSOP-FORCE] Tools called this iteration: updateTask
2025-10-29T01:41:17.265839417Z [info] [META-SYSOP-FORCE] Created task list: false
2025-10-29T01:41:17.265846199Z [info] [META-SYSOP-FORCE] Called diagnosis tools: false
2025-10-29T01:41:17.265853319Z [info] [META-SYSOP-FORCE] Iteration count: 3
2025-10-29T01:41:17.265867198Z [info] [META-SYSOP-FORCE] âœ“ No forcing needed - proceeding normally
2025-10-29T01:41:18.231891607Z [info] 1:41:17 AM [express] GET /api/meta-sysop/pending-changes 304 in 22ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:20.086699096Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: Let me check the task list to get the correct IDs:Let me check the task list to get the correct IDs:
2025-10-29T01:41:20.158793370Z [info] [META-SYSOP-FORCE] === ITERATION 4 CHECK ===
2025-10-29T01:41:20.158800024Z [info] [META-SYSOP-FORCE] Tools called this iteration: readTaskList
2025-10-29T01:41:21.309374432Z [info] [META-SYSOP-FORCE] Created task list: false
2025-10-29T01:41:21.309382000Z [info] [META-SYSOP-FORCE] Called diagnosis tools: false
2025-10-29T01:41:21.309389470Z [info] [META-SYSOP-FORCE] Iteration count: 4
2025-10-29T01:41:21.309397813Z [info] [META-SYSOP-FORCE] âœ“ No forcing needed - proceeding normally
2025-10-29T01:41:22.338123444Z [info] 1:41:21 AM [express] GET /api/platform/deployment-history 304 in 158ms :: {success:true,"deploymenâ€¦
2025-10-29T01:41:23.039807965Z [info] 1:41:22 AM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:27.052079121Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: I see the current task list is an old one. Let me read the file to remove the Bible icon:I see the c
2025-10-29T01:41:28.035924318Z [info] [META-SYSOP-FORCE] Tools called this iteration: readPlatformFile
2025-10-29T01:41:28.036099704Z [info] [PLATFORM-READ] ðŸ”„ Source file not in production build, fetching from GitHub: client/src/components/meta-sysop-chat.tsx
2025-10-29T01:41:28.036110981Z [info] [PLATFORM-READ] âœ… Fetched client/src/components/meta-sysop-chat.tsx from GitHub (31335 bytes)
2025-10-29T01:41:28.036120002Z [info] [META-SYSOP-FORCE] Created task list: false
2025-10-29T01:41:28.036131464Z [info] [META-SYSOP-FORCE] Called diagnosis tools: false
2025-10-29T01:41:28.036140861Z [info] [META-SYSOP-FORCE] Iteration count: 5
2025-10-29T01:41:28.036149665Z [info] [META-SYSOP-FORCE] âœ“ No forcing needed - proceeding normally
2025-10-29T01:41:28.036695077Z [info] [META-SYSOP-FORCE] === ITERATION 5 CHECK ===
2025-10-29T01:41:28.189983289Z [info] 1:41:28 AM [express] GET /api/meta-sysop/pending-changes 304 in 19ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:29.225582423Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-29T01:41:32.695170830Z [info] [META-SYSOP-CHAT] ðŸ’¬ Streaming text: Now I'll remove the Bible icon that I added earlier:Now I'll remove the Bible icon that I added earl
2025-10-29T01:41:36.967003170Z [info] 1:41:36 AM [express] GET /api/meta-sysop/pending-changes 304 in 17ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:41.865116947Z [info] 1:41:41 AM [express] GET /api/meta-sysop/pending-changes 304 in 26ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:44.266977131Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-29T01:41:48.176229323Z [info] 1:41:46 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:52.163262015Z [info] 1:41:51 AM [express] GET /api/platform/deployment-history 304 in 155ms :: {success:true,"deploymenâ€¦
2025-10-29T01:41:52.163269210Z [info] 1:41:52 AM [express] GET /api/meta-sysop/pending-changes 304 in 12ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:57.295132326Z [info] 1:41:57 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:41:58.854885747Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-29T01:42:02.728089612Z [info] 1:42:02 AM [express] GET /api/meta-sysop/pending-changes 304 in 17ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:42:08.549906809Z [info] 1:42:07 AM [express] GET /api/meta-sysop/pending-changes 304 in 22ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:42:13.848060984Z [info] 1:42:13 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {success:true,"pendingChanâ€¦
2025-10-29T01:42:13.848093176Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-29T01:42:34.448853720Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-29T01:42:54.102744133Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout
2025-10-29T01:42:54.102748983Z [info] 1:42:48 AM [express] GET /api/meta-sysop/pending-changes 304 in 100ms :: {success:true,"pendingChaâ€¦
2025-10-29T01:42:59.269557908Z [info] [META-SYSOP-HEARTBEAT] Sent keepalive to prevent timeout