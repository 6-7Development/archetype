2025-10-31T05:44:55.496128878Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-10-31T05:44:55.496137698Z [inf]  }
2025-10-31T05:44:55.496162630Z [inf]  [CACHE] Stats: {
2025-10-31T05:44:55.496168060Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-31T05:44:55.496172785Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-31T05:44:55.496177735Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-10-31T05:48:34.000000000Z [inf]  Starting Container
2025-10-31T05:48:35.184234955Z [inf]  ======================================
2025-10-31T05:48:35.184242741Z [inf]  üöÇ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-10-31T05:48:35.184249395Z [inf]  ======================================
2025-10-31T05:48:35.184257603Z [inf]  Time: Fri Oct 31 05:48:34 UTC 2025
2025-10-31T05:48:35.184265170Z [inf]  Node version: v20.19.5
2025-10-31T05:48:35.184278624Z [inf]  NPM version: 10.8.2
2025-10-31T05:48:35.184289925Z [inf]  
2025-10-31T05:48:35.184297518Z [inf]  üìÅ Current directory: /app
2025-10-31T05:48:35.184303766Z [inf]  üìÇ Listing root files:
2025-10-31T05:48:35.185081691Z [inf]  total 404
2025-10-31T05:48:35.185089158Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:43 .
2025-10-31T05:48:35.185093655Z [inf]  dr-xr-xr-x    1 root     root          4096 Oct 31 05:48 ..
2025-10-31T05:48:35.185098062Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 dist
2025-10-31T05:48:35.185102112Z [inf]  -rw-rw-r--    1 root     root           325 Oct 31 05:41 drizzle.config.ts
2025-10-31T05:48:35.185106296Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:33 node_modules
2025-10-31T05:48:35.185110698Z [inf]  -rw-rw-r--    1 root     root        355683 Oct 31 05:33 package-lock.json
2025-10-31T05:48:35.185115108Z [inf]  -rw-rw-r--    1 root     root          4586 Oct 31 05:33 package.json
2025-10-31T05:48:35.185120971Z [inf]  -rwxrwxr-x    1 root     root          1865 Oct 31 05:41 railway-start.sh
2025-10-31T05:48:35.185126102Z [inf]  -rw-rw-r--    1 root     root          9465 Oct 31 05:41 replit.md
2025-10-31T05:48:35.185131055Z [inf]  drwxr-xr-x   12 root     root          4096 Oct 31 05:41 server
2025-10-31T05:48:35.185135765Z [inf]  drwxr-xr-x    2 root     root          4096 Oct 31 05:41 shared
2025-10-31T05:48:35.185140493Z [inf]  -rw-rw-r--    1 root     root           960 Oct 31 05:41 tsconfig.json
2025-10-31T05:48:35.185145277Z [inf]  
2025-10-31T05:48:35.185822428Z [inf]  üîç Checking for dist directory...
2025-10-31T05:48:35.185829433Z [inf]  ‚úÖ dist directory exists
2025-10-31T05:48:35.185867665Z [inf]  üìÇ Contents:
2025-10-31T05:48:35.185872242Z [inf]  total 812
2025-10-31T05:48:35.185876220Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 .
2025-10-31T05:48:35.185880455Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:43 ..
2025-10-31T05:48:35.185884538Z [inf]  -rw-r--r--    1 root     root        817191 Oct 31 05:43 index.js
2025-10-31T05:48:35.185888650Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 public
2025-10-31T05:48:35.185893010Z [inf]  ‚úÖ dist/index.js found
2025-10-31T05:48:35.185897248Z [inf]  
2025-10-31T05:48:35.185907963Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-31T05:48:35.288778580Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-31T05:48:35.288791949Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-31T05:48:35.611824164Z [inf]  Using 'pg' driver for database querying
2025-10-31T05:48:36.265565534Z [inf]  [‚£∑] Pulling schema from database...
2025-10-31T05:48:36.265572838Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:48:36.265579837Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:48:36.268834178Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:48:36.276405843Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:48:36.404671873Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T05:48:36.538049293Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T05:48:36.666374674Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T05:48:37.244238031Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:48:37.244244340Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:48:37.244250876Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:48:37.244256901Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:48:37.300496624Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T05:48:37.430184114Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T05:48:37.557656841Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T05:48:37.694564809Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:48:38.233294119Z [inf]    ~ meta_sysop_automation ‚Ä∫ ai_fix_attempts   rename table
2025-10-31T05:48:38.233306429Z [inf]    ~ meta_sysop_instructions ‚Ä∫ ai_fix_attempts rename table
2025-10-31T05:48:38.233314766Z [inf]    ~ meta_sysop_knowledge ‚Ä∫ ai_fix_attempts    rename table
2025-10-31T05:48:38.233321791Z [inf]    ~ meta_sysop_memory ‚Ä∫ ai_fix_attempts       rename table
2025-10-31T05:48:38.233328902Z [inf]    ~ meta_sysop_attachments ‚Ä∫ ai_fix_attempts  rename table
2025-10-31T05:48:38.233336241Z [inf]    ~ meta_sysop_sessions ‚Ä∫ ai_fix_attempts     rename table
2025-10-31T05:48:38.233906653Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:48:38.233913742Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:48:38.233920221Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-31T05:48:38.233927325Z [inf]  [?25l
2025-10-31T05:48:38.233934740Z [inf]  Is ai_fix_attempts table created or renamed from another table?
2025-10-31T05:48:38.233942569Z [inf]  ‚ùØ + ai_fix_attempts                           create table
2025-10-31T05:48:41.567062824Z [err]  2025-10-31 05:48:39.570 UTC [23760] LOG:  could not receive data from client: Connection reset by peer
2025-10-31T05:48:42.000000000Z [inf]  Stopping Container
2025-10-31T05:48:49.653552239Z [err]  2025-10-31 05:48:49.232 UTC [23805] ERROR:  relation "platform_incidents" does not exist at character 298
2025-10-31T05:48:49.653556936Z [err]  2025-10-31 05:48:49.232 UTC [23805] STATEMENT:  select "id", "type", "severity", "title", "description", "source", "detected_at", "resolved_at", "status", "healing_session_id", "stack_trace", "affected_files", "metrics", "logs", "root_cause", "fix_description", "commit_hash", "attempt_count", "last_attempt_at", "created_at", "updated_at" from "platform_incidents" where ("platform_incidents"."status" = $1 and "platform_incidents"."resolved_at" is null)
2025-10-31T05:48:57.778577299Z [inf]    ~ meta_sysop_jobs ‚Ä∫ ai_fix_attempts         rename table‚úÖ Database migrations completed successfully!
2025-10-31T05:48:57.778584908Z [inf]  
2025-10-31T05:48:57.778589831Z [inf]  üîç Environment Check:
2025-10-31T05:48:57.778591641Z [inf]  
2025-10-31T05:48:57.778605295Z [inf]  üöÄ Starting Node.js application...
2025-10-31T05:48:57.778606560Z [inf]  NODE_ENV: production
2025-10-31T05:48:57.778612084Z [inf]  PORT: 8080
2025-10-31T05:48:57.778616482Z [inf]  Command: node dist/index.js
2025-10-31T05:48:57.778617014Z [inf]  DATABASE_URL: ‚úì SET (hidden for security)
2025-10-31T05:48:57.778622784Z [inf]  GITHUB_TOKEN: ‚úì SET
2025-10-31T05:48:57.778628108Z [inf]  GITHUB_REPO: 6-7Development/archetype
2025-10-31T05:48:57.778629301Z [inf]  
2025-10-31T05:48:57.778633027Z [inf]  GITHUB_BRANCH: main
2025-10-31T05:48:57.778638914Z [inf]  ANTHROPIC_API_KEY: ‚úì SET
2025-10-31T05:48:57.778641289Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-31T05:48:57.778643764Z [inf]  
2025-10-31T05:48:57.778650006Z [inf]  üìÑ Ensuring replit.md is available...
2025-10-31T05:48:57.778652891Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-31T05:48:57.778656557Z [inf]  ‚úÖ replit.md already present
2025-10-31T05:48:57.778662209Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-31T05:48:57.778670509Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-31T05:48:57.778677724Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-31T05:48:57.778686493Z [inf]  [db] Connection string includes SSL params: true
2025-10-31T05:48:57.778695307Z [inf]  [PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
2025-10-31T05:48:57.778702379Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-31T05:48:57.778709223Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-10-31T05:48:57.780800229Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-31T05:48:57.780809915Z [inf]  ‚úÖ Database connected successfully
2025-10-31T05:48:57.780816016Z [inf]  üì° WebSocket server initialized at /ws
2025-10-31T05:48:57.780816608Z [inf]  üîß Auto-healing system ENABLED
2025-10-31T05:48:57.780821642Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-31T05:48:57.780822791Z [inf]     ‚ö° Kill-switch: Disabled after 3 consecutive failures (1 hour cooldown)
2025-10-31T05:48:57.780829843Z [inf]  [PLATFORM-HEALING] WebSocket server attached for preview broadcasts
2025-10-31T05:48:57.780830443Z [inf]     ‚è±Ô∏è Rate limit: Max 3 healing sessions per hour
2025-10-31T05:48:57.780836640Z [inf]  [PLATFORM-HEALING] Platform healing service connected to WebSocket
2025-10-31T05:48:57.780836959Z [inf]     üìã Audit trail: All attempts logged to platformHealAttempts
2025-10-31T05:48:57.780841959Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-31T05:48:57.780842769Z [inf]     üîÑ Rollback: Automatic rollback on verification/deployment failure
2025-10-31T05:48:57.780848919Z [inf]  [HEAL-ORCHESTRATOR] Metrics broadcaster connected
2025-10-31T05:48:57.780853263Z [inf]  [WEBHOOKS] Webhooks router connected to metrics broadcaster
2025-10-31T05:48:57.780857244Z [inf]  [LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
2025-10-31T05:48:57.780862820Z [inf]  [LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
2025-10-31T05:48:57.780866667Z [inf]  [LOMU-AI] WebSocket server initialized for live preview broadcasts
2025-10-31T05:48:57.780870990Z [inf]  [LOMU-AI-CHAT] Live preview WebSocket initialized
2025-10-31T05:48:57.780875234Z [inf]  [WEBHOOKS] Webhooks router mounted at /api/webhooks
2025-10-31T05:48:57.780879102Z [inf]  ‚úÖ All routes registered successfully
2025-10-31T05:48:57.780882798Z [inf]  üîç Testing database connection...
2025-10-31T05:48:57.780886555Z [inf]  5:48:49 AM [express] serving on port 8080
2025-10-31T05:48:57.782850173Z [inf]  [HEALTH-MONITOR] Starting platform health monitoring...
2025-10-31T05:48:57.782856215Z [err]  [HEALTH-MONITOR] Failed to load open incidents: error: relation "platform_incidents" does not exist
2025-10-31T05:48:57.782860412Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T05:48:57.782865228Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T05:48:57.782867761Z [err]    constraint: undefined,
2025-10-31T05:48:57.782870151Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T05:48:57.782875378Z [err]      at async PlatformHealthMonitor.loadOpenIncidents (file:///app/dist/index.js:11307:29)
2025-10-31T05:48:57.782879373Z [err]    file: 'parse_relation.c',
2025-10-31T05:48:57.782881459Z [err]      at async PlatformHealthMonitor.start (file:///app/dist/index.js:11286:9)
2025-10-31T05:48:57.782881810Z [err]    code: '42P01',
2025-10-31T05:48:57.782886929Z [err]      at async file:///app/dist/index.js:20042:3 {
2025-10-31T05:48:57.782889733Z [err]    line: '1449',
2025-10-31T05:48:57.782893259Z [err]    length: 118,
2025-10-31T05:48:57.782894886Z [err]    detail: undefined,
2025-10-31T05:48:57.782898760Z [err]    routine: 'parserOpenTable'
2025-10-31T05:48:57.782898848Z [err]    severity: 'ERROR',
2025-10-31T05:48:57.782903837Z [err]    hint: undefined,
2025-10-31T05:48:57.782910909Z [err]    position: '298',
2025-10-31T05:48:57.782918216Z [err]    internalPosition: undefined,
2025-10-31T05:48:57.782926389Z [err]    internalQuery: undefined,
2025-10-31T05:48:57.782941981Z [err]    where: undefined,
2025-10-31T05:48:57.782950087Z [err]    schema: undefined,
2025-10-31T05:48:57.782955090Z [err]    table: undefined,
2025-10-31T05:48:57.782960859Z [err]    column: undefined,
2025-10-31T05:48:57.782965650Z [err]    dataType: undefined,
2025-10-31T05:48:57.784630504Z [inf]     - Branch: main
2025-10-31T05:48:57.784633834Z [err]  }
2025-10-31T05:48:57.784642973Z [inf]     - Token: ‚úì (configured)
2025-10-31T05:48:57.784643419Z [inf]  [HEALTH-MONITOR] Monitoring started
2025-10-31T05:48:57.784651192Z [inf]  [HEAL-ORCHESTRATOR] Starting autonomous healing orchestrator...
2025-10-31T05:48:57.784652349Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-31T05:48:57.784659279Z [inf]  [HEAL-ORCHESTRATOR] Orchestrator started
2025-10-31T05:48:57.784660348Z [inf]     - Maintenance mode: Available for owner
2025-10-31T05:48:57.784667371Z [inf]  
2025-10-31T05:48:57.784668944Z [inf]  
2025-10-31T05:48:57.784675625Z [inf]  üîç Checking GitHub integration configuration...
2025-10-31T05:48:57.784677284Z [inf]  [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-31T05:48:57.784683759Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-31T05:48:57.784685565Z [inf]  5:48:54 AM [express] GET /api/deployment-info 200 in 3ms :: {"version":"1.0.0","commitHash":"095c5a1‚Ä¶
2025-10-31T05:48:57.784691944Z [inf]     - Repository: 6-7Development/archetype
2025-10-31T05:48:57.784693482Z [inf]  5:48:54 AM [express] GET /api/auth/me 304 in 10ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-31T05:49:00.338507335Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-31T05:49:00.338517473Z [inf]  5:49:00 AM [express] POST /api/auth/login 200 in 284ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-31T05:49:00.338559386Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-31T05:49:00.338567882Z [inf]  [AUTH] Found users: 1
2025-10-31T05:49:00.338573663Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-31T05:49:00.338580666Z [inf]  [AUTH] Verifying password...
2025-10-31T05:49:00.338585845Z [inf]  [AUTH] Password valid: true
2025-10-31T05:49:00.790652424Z [inf]  5:49:00 AM [express] GET /api/auth/me 304 in 8ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-31T05:49:01.310459112Z [inf]  5:49:00 AM [express] GET /api/projects 304 in 90ms :: []
2025-10-31T05:49:04.688172750Z [err]  [HEALING] Error fetching targets: error: relation "healing_targets" does not exist
2025-10-31T05:49:04.688176888Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T05:49:04.688180927Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T05:49:04.688184938Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T05:49:04.688188928Z [err]      at async DatabaseStorage.getHealingTargets (file:///app/dist/index.js:3630:16)
2025-10-31T05:49:04.688192941Z [err]      at async file:///app/dist/index.js:19036:21 {
2025-10-31T05:49:04.688197070Z [err]    length: 115,
2025-10-31T05:49:04.688205966Z [err]    severity: 'ERROR',
2025-10-31T05:49:04.688209556Z [err]    code: '42P01',
2025-10-31T05:49:04.688213384Z [err]    detail: undefined,
2025-10-31T05:49:04.688235014Z [err]    hint: undefined,
2025-10-31T05:49:04.688248128Z [err]    position: '182',
2025-10-31T05:49:04.688255005Z [err]    internalPosition: undefined,
2025-10-31T05:49:04.688261097Z [err]    internalQuery: undefined,
2025-10-31T05:49:04.688270495Z [err]    where: undefined,
2025-10-31T05:49:04.688277796Z [err]    schema: undefined,
2025-10-31T05:49:04.688285068Z [err]    table: undefined,
2025-10-31T05:49:04.688291896Z [err]    column: undefined,
2025-10-31T05:49:04.688299318Z [err]    dataType: undefined,
2025-10-31T05:49:04.688306749Z [err]    constraint: undefined,
2025-10-31T05:49:04.688313273Z [err]    file: 'parse_relation.c',
2025-10-31T05:49:04.688318923Z [err]    line: '1449',
2025-10-31T05:49:04.688324690Z [err]    routine: 'parserOpenTable'
2025-10-31T05:49:04.688330239Z [err]  }
2025-10-31T05:49:04.690065608Z [inf]  5:49:04 AM [express] GET /api/healing/targets 500 in 14ms :: {"error":"Failed to fetch healing targe‚Ä¶
2025-10-31T05:49:09.316943209Z [err]  2025-10-31 05:49:04.676 UTC [23807] ERROR:  relation "healing_targets" does not exist at character 182
2025-10-31T05:49:09.316954655Z [err]  2025-10-31 05:49:04.676 UTC [23807] STATEMENT:  select "id", "user_id", "type", "name", "project_id", "customer_id", "railway_project_id", "repository_url", "last_synced_at", "status", "metadata", "created_at", "updated_at" from "healing_targets" where "healing_targets"."user_id" = $1 order by "healing_targets"."updated_at" desc
2025-10-31T05:53:11.264450977Z [err]  2025-10-31 05:53:08.893 UTC [76] LOG:  checkpoint starting: time
2025-10-31T05:53:11.264461711Z [err]  2025-10-31 05:53:09.424 UTC [76] LOG:  checkpoint complete: wrote 6 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.506 s, sync=0.006 s, total=0.531 s; sync files=5, longest=0.005 s, average=0.002 s; distance=20 kB, estimate=55 kB; lsn=0/27F53F8, redo lsn=0/27F53A0
2025-10-31T05:54:19.000000000Z [inf]  Starting Container
2025-10-31T05:54:19.737943019Z [inf]  ======================================
2025-10-31T05:54:19.737957603Z [inf]  üöÇ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-10-31T05:54:19.737973123Z [inf]  ======================================
2025-10-31T05:54:19.737990361Z [inf]  Time: Fri Oct 31 05:54:19 UTC 2025
2025-10-31T05:54:19.738005408Z [inf]  Node version: v20.19.5
2025-10-31T05:54:19.743091645Z [inf]  NPM version: 10.8.2
2025-10-31T05:54:19.743099900Z [inf]  
2025-10-31T05:54:19.743107280Z [inf]  üìÅ Current directory: /app
2025-10-31T05:54:19.743113683Z [inf]  üìÇ Listing root files:
2025-10-31T05:54:19.745394635Z [inf]  -rw-rw-r--    1 root     root          4586 Oct 31 05:33 package.json
2025-10-31T05:54:19.745410779Z [inf]  -rwxrwxr-x    1 root     root          1865 Oct 31 05:41 railway-start.sh
2025-10-31T05:54:19.745420934Z [inf]  -rw-rw-r--    1 root     root          9465 Oct 31 05:41 replit.md
2025-10-31T05:54:19.745431108Z [inf]  drwxr-xr-x   12 root     root          4096 Oct 31 05:41 server
2025-10-31T05:54:19.745439719Z [inf]  drwxr-xr-x    2 root     root          4096 Oct 31 05:41 shared
2025-10-31T05:54:19.745448718Z [inf]  -rw-rw-r--    1 root     root           960 Oct 31 05:41 tsconfig.json
2025-10-31T05:54:19.745457262Z [inf]  
2025-10-31T05:54:19.745465615Z [inf]  üîç Checking for dist directory...
2025-10-31T05:54:19.745473957Z [inf]  ‚úÖ dist directory exists
2025-10-31T05:54:19.745482477Z [inf]  üìÇ Contents:
2025-10-31T05:54:19.745490566Z [inf]  total 404
2025-10-31T05:54:19.745496775Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:43 .
2025-10-31T05:54:19.745503511Z [inf]  dr-xr-xr-x    1 root     root          4096 Oct 31 05:54 ..
2025-10-31T05:54:19.745510122Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 dist
2025-10-31T05:54:19.745515517Z [inf]  -rw-rw-r--    1 root     root           325 Oct 31 05:41 drizzle.config.ts
2025-10-31T05:54:19.745521157Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:33 node_modules
2025-10-31T05:54:19.745527070Z [inf]  -rw-rw-r--    1 root     root        355683 Oct 31 05:33 package-lock.json
2025-10-31T05:54:19.745932145Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-31T05:54:19.745955496Z [inf]  total 812
2025-10-31T05:54:19.745962027Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 .
2025-10-31T05:54:19.745968817Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:43 ..
2025-10-31T05:54:19.745975864Z [inf]  -rw-r--r--    1 root     root        817191 Oct 31 05:43 index.js
2025-10-31T05:54:19.745982281Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 public
2025-10-31T05:54:19.745989400Z [inf]  ‚úÖ dist/index.js found
2025-10-31T05:54:19.745996913Z [inf]  
2025-10-31T05:54:20.742570660Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-31T05:54:20.742581182Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-31T05:54:21.114580944Z [inf]  Using 'pg' driver for database querying
2025-10-31T05:54:21.356924612Z [inf]  [‚£∑] Pulling schema from database...
2025-10-31T05:54:21.477789702Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:54:21.788491980Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:54:21.788498528Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:54:21.864326808Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:54:22.012817470Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T05:54:22.117474945Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T05:54:22.264891891Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T05:54:22.389203922Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:54:22.510086682Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:54:22.749515520Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:54:22.761112537Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:54:22.885295424Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T05:54:23.072594111Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T05:54:23.172754692Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T05:54:23.332303471Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:54:23.405067137Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:54:23.551989100Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:54:23.808910452Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:54:23.808929158Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-31T05:54:23.842082590Z [inf]  [?25l
2025-10-31T05:54:23.842094411Z [inf]  Is ai_fix_attempts table created or renamed from another table?
2025-10-31T05:54:23.842103817Z [inf]  ‚ùØ + ai_fix_attempts                           create table
2025-10-31T05:54:23.842113053Z [inf]    ~ meta_sysop_automation ‚Ä∫ ai_fix_attempts   rename table
2025-10-31T05:54:23.842121860Z [inf]    ~ meta_sysop_instructions ‚Ä∫ ai_fix_attempts rename table
2025-10-31T05:54:23.842131633Z [inf]    ~ meta_sysop_knowledge ‚Ä∫ ai_fix_attempts    rename table
2025-10-31T05:54:23.842140523Z [inf]    ~ meta_sysop_memory ‚Ä∫ ai_fix_attempts       rename table
2025-10-31T05:54:23.842149250Z [inf]    ~ meta_sysop_attachments ‚Ä∫ ai_fix_attempts  rename table
2025-10-31T05:54:23.842159571Z [inf]    ~ meta_sysop_sessions ‚Ä∫ ai_fix_attempts     rename table
2025-10-31T05:54:25.000000000Z [inf]  Stopping Container
2025-10-31T05:54:31.710362441Z [err]  2025-10-31 05:54:24.853 UTC [23809] LOG:  could not receive data from client: Connection reset by peer
2025-10-31T05:54:35.826897975Z [err]  2025-10-31 05:54:35.548 UTC [23829] ERROR:  relation "platform_incidents" does not exist at character 298
2025-10-31T05:54:35.826908975Z [err]  2025-10-31 05:54:35.548 UTC [23829] STATEMENT:  select "id", "type", "severity", "title", "description", "source", "detected_at", "resolved_at", "status", "healing_session_id", "stack_trace", "affected_files", "metrics", "logs", "root_cause", "fix_description", "commit_hash", "attempt_count", "last_attempt_at", "created_at", "updated_at" from "platform_incidents" where ("platform_incidents"."status" = $1 and "platform_incidents"."resolved_at" is null)
2025-10-31T05:54:43.799693726Z [inf]  üöÄ Starting Node.js application...
2025-10-31T05:54:43.799715018Z [inf]  Command: node dist/index.js
2025-10-31T05:54:43.799733632Z [inf]  
2025-10-31T05:54:43.799747196Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-31T05:54:43.799756709Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-31T05:54:43.799768391Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-31T05:54:43.799779288Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-31T05:54:43.799789681Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-31T05:54:43.799801177Z [inf]  [db] Connection string includes SSL params: true
2025-10-31T05:54:43.799816247Z [inf]  [PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
2025-10-31T05:54:43.799820566Z [inf]    ~ meta_sysop_jobs ‚Ä∫ ai_fix_attempts         rename table‚úÖ Database migrations completed successfully!
2025-10-31T05:54:43.799834778Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-31T05:54:43.799835579Z [inf]  
2025-10-31T05:54:43.799850108Z [inf]  üîç Environment Check:
2025-10-31T05:54:43.799852246Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-10-31T05:54:43.799869571Z [inf]  NODE_ENV: production
2025-10-31T05:54:43.799879572Z [inf]  PORT: 8080
2025-10-31T05:54:43.799888595Z [inf]  DATABASE_URL: ‚úì SET (hidden for security)
2025-10-31T05:54:43.799897740Z [inf]  GITHUB_TOKEN: ‚úì SET
2025-10-31T05:54:43.799907106Z [inf]  GITHUB_REPO: 6-7Development/archetype
2025-10-31T05:54:43.799916998Z [inf]  GITHUB_BRANCH: main
2025-10-31T05:54:43.799926528Z [inf]  ANTHROPIC_API_KEY: ‚úì SET
2025-10-31T05:54:43.799937143Z [inf]  
2025-10-31T05:54:43.799945696Z [inf]  üìÑ Ensuring replit.md is available...
2025-10-31T05:54:43.799954782Z [inf]  ‚úÖ replit.md already present
2025-10-31T05:54:43.799964544Z [inf]  
2025-10-31T05:54:43.803720375Z [inf]     ‚ö° Kill-switch: Disabled after 3 consecutive failures (1 hour cooldown)
2025-10-31T05:54:43.803754971Z [inf]     ‚è±Ô∏è Rate limit: Max 3 healing sessions per hour
2025-10-31T05:54:43.803766202Z [inf]  üì° WebSocket server initialized at /ws
2025-10-31T05:54:43.803777640Z [inf]     üìã Audit trail: All attempts logged to platformHealAttempts
2025-10-31T05:54:43.803781641Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-31T05:54:43.803795434Z [inf]  [PLATFORM-HEALING] WebSocket server attached for preview broadcasts
2025-10-31T05:54:43.803800579Z [inf]     üîÑ Rollback: Automatic rollback on verification/deployment failure
2025-10-31T05:54:43.803812900Z [inf]  [PLATFORM-HEALING] Platform healing service connected to WebSocket
2025-10-31T05:54:43.803821142Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-31T05:54:43.803828666Z [inf]  [HEAL-ORCHESTRATOR] Metrics broadcaster connected
2025-10-31T05:54:43.803835272Z [inf]  [WEBHOOKS] Webhooks router connected to metrics broadcaster
2025-10-31T05:54:43.803844135Z [inf]  [LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
2025-10-31T05:54:43.803854579Z [inf]  [LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
2025-10-31T05:54:43.803863643Z [inf]  [LOMU-AI] WebSocket server initialized for live preview broadcasts
2025-10-31T05:54:43.803875440Z [inf]  [LOMU-AI-CHAT] Live preview WebSocket initialized
2025-10-31T05:54:43.803883993Z [inf]  [WEBHOOKS] Webhooks router mounted at /api/webhooks
2025-10-31T05:54:43.803892818Z [inf]  ‚úÖ All routes registered successfully
2025-10-31T05:54:43.803901039Z [inf]  üîç Testing database connection...
2025-10-31T05:54:43.803910817Z [inf]  5:54:35 AM [express] serving on port 8080
2025-10-31T05:54:43.803920453Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-31T05:54:43.803928148Z [inf]  ‚úÖ Database connected successfully
2025-10-31T05:54:43.803939372Z [inf]  üîß Auto-healing system ENABLED
2025-10-31T05:54:43.807641542Z [err]    routine: 'parserOpenTable'
2025-10-31T05:54:43.807719725Z [err]    dataType: undefined,
2025-10-31T05:54:43.807719900Z [err]    position: '298',
2025-10-31T05:54:43.807748567Z [err]    constraint: undefined,
2025-10-31T05:54:43.807759800Z [err]    internalPosition: undefined,
2025-10-31T05:54:43.807772535Z [inf]  [HEALTH-MONITOR] Starting platform health monitoring...
2025-10-31T05:54:43.807778385Z [err]    file: 'parse_relation.c',
2025-10-31T05:54:43.807793842Z [err]    internalQuery: undefined,
2025-10-31T05:54:43.807800412Z [err]  [HEALTH-MONITOR] Failed to load open incidents: error: relation "platform_incidents" does not exist
2025-10-31T05:54:43.807809063Z [err]    line: '1449',
2025-10-31T05:54:43.807827476Z [err]    where: undefined,
2025-10-31T05:54:43.807828196Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T05:54:43.807856514Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T05:54:43.807857487Z [err]    schema: undefined,
2025-10-31T05:54:43.807879070Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T05:54:43.807888744Z [err]    table: undefined,
2025-10-31T05:54:43.807904106Z [err]      at async PlatformHealthMonitor.loadOpenIncidents (file:///app/dist/index.js:11307:29)
2025-10-31T05:54:43.807914444Z [err]    column: undefined,
2025-10-31T05:54:43.807927110Z [err]      at async PlatformHealthMonitor.start (file:///app/dist/index.js:11286:9)
2025-10-31T05:54:43.807941637Z [err]      at async file:///app/dist/index.js:20042:3 {
2025-10-31T05:54:43.807955454Z [err]    length: 118,
2025-10-31T05:54:43.807968964Z [err]    severity: 'ERROR',
2025-10-31T05:54:43.807982574Z [err]    code: '42P01',
2025-10-31T05:54:43.807994709Z [err]    detail: undefined,
2025-10-31T05:54:43.808007961Z [err]    hint: undefined,
2025-10-31T05:54:43.808860441Z [err]  }
2025-10-31T05:54:43.808871568Z [inf]  [HEALTH-MONITOR] Monitoring started
2025-10-31T05:54:43.808883217Z [inf]  [HEAL-ORCHESTRATOR] Starting autonomous healing orchestrator...
2025-10-31T05:54:43.808895426Z [inf]  [HEAL-ORCHESTRATOR] Orchestrator started
2025-10-31T05:54:43.808908013Z [inf]  
2025-10-31T05:54:43.808923949Z [inf]  üîç Checking GitHub integration configuration...
2025-10-31T05:54:43.808935517Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-31T05:54:43.808947671Z [inf]     - Repository: 6-7Development/archetype
2025-10-31T05:54:43.808960306Z [inf]     - Branch: main
2025-10-31T05:54:43.808972105Z [inf]     - Token: ‚úì (configured)
2025-10-31T05:54:43.808984927Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-31T05:54:43.808996909Z [inf]     - Maintenance mode: Available for owner
2025-10-31T05:54:43.809012096Z [inf]  
2025-10-31T05:54:47.339025738Z [inf]  [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-31T05:54:47.339053817Z [inf]  5:54:47 AM [express] GET /api/deployment-info 200 in 6ms :: {"version":"1.0.0","commitHash":"4b7c012‚Ä¶
2025-10-31T05:54:47.352075559Z [inf]  5:54:47 AM [express] GET /api/auth/me 304 in 10ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-31T05:54:50.746220350Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-31T05:54:50.746240459Z [inf]  [AUTH] Found users: 1
2025-10-31T05:54:50.746258659Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-31T05:54:50.746272041Z [inf]  [AUTH] Verifying password...
2025-10-31T05:54:51.160052078Z [inf]  [AUTH] Password valid: true
2025-10-31T05:54:51.160062850Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-31T05:54:51.160073483Z [inf]  5:54:51 AM [express] POST /api/auth/login 200 in 391ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-31T05:54:51.718131805Z [inf]  5:54:51 AM [express] GET /api/projects 304 in 20ms :: []
2025-10-31T05:54:51.805336684Z [inf]  5:54:51 AM [express] GET /api/auth/me 304 in 101ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef9‚Ä¶
2025-10-31T05:54:55.746842752Z [err]    internalPosition: undefined,
2025-10-31T05:54:55.746861662Z [err]    internalQuery: undefined,
2025-10-31T05:54:55.746872399Z [err]    where: undefined,
2025-10-31T05:54:55.746883028Z [err]    schema: undefined,
2025-10-31T05:54:55.746890441Z [err]  [HEALING] Error fetching targets: error: relation "healing_targets" does not exist
2025-10-31T05:54:55.746895867Z [err]    table: undefined,
2025-10-31T05:54:55.746916119Z [err]    column: undefined,
2025-10-31T05:54:55.746926808Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T05:54:55.746929783Z [err]    dataType: undefined,
2025-10-31T05:54:55.746941780Z [err]    constraint: undefined,
2025-10-31T05:54:55.746951019Z [err]    file: 'parse_relation.c',
2025-10-31T05:54:55.746961297Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T05:54:55.746966082Z [err]    line: '1449',
2025-10-31T05:54:55.746978766Z [err]    routine: 'parserOpenTable'
2025-10-31T05:54:55.746983461Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T05:54:55.746992967Z [err]  }
2025-10-31T05:54:55.747011471Z [err]      at async DatabaseStorage.getHealingTargets (file:///app/dist/index.js:3630:16)
2025-10-31T05:54:55.747019806Z [err]      at async file:///app/dist/index.js:19036:21 {
2025-10-31T05:54:55.747028492Z [err]    length: 115,
2025-10-31T05:54:55.747035901Z [err]    severity: 'ERROR',
2025-10-31T05:54:55.747045086Z [err]    code: '42P01',
2025-10-31T05:54:55.747052239Z [err]    detail: undefined,
2025-10-31T05:54:55.747059944Z [err]    hint: undefined,
2025-10-31T05:54:55.747066984Z [err]    position: '182',
2025-10-31T05:54:55.751152161Z [inf]  5:54:55 AM [express] GET /api/healing/targets 500 in 16ms :: {"error":"Failed to fetch healing targe‚Ä¶
2025-10-31T05:55:05.498720329Z [err]  2025-10-31 05:54:55.736 UTC [23835] ERROR:  relation "healing_targets" does not exist at character 182
2025-10-31T05:55:05.498726888Z [err]  2025-10-31 05:54:55.736 UTC [23835] STATEMENT:  select "id", "user_id", "type", "name", "project_id", "customer_id", "railway_project_id", "repository_url", "last_synced_at", "status", "metadata", "created_at", "updated_at" from "healing_targets" where "healing_targets"."user_id" = $1 order by "healing_targets"."updated_at" desc
2025-10-31T05:58:16.626264621Z [err]  2025-10-31 05:58:08.521 UTC [76] LOG:  checkpoint starting: time
2025-10-31T05:58:16.626274219Z [err]  2025-10-31 05:58:09.057 UTC [76] LOG:  checkpoint complete: wrote 6 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.504 s, sync=0.018 s, total=0.537 s; sync files=5, longest=0.017 s, average=0.004 s; distance=14 kB, estimate=51 kB; lsn=0/27F8F28, redo lsn=0/27F8ED0
2025-10-31T05:58:29.000000000Z [inf]  Starting Container
2025-10-31T05:58:30.999151177Z [inf]  ======================================
2025-10-31T05:58:30.999157723Z [inf]  üöÇ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-10-31T05:58:30.999164821Z [inf]  ======================================
2025-10-31T05:58:30.999170858Z [inf]  Time: Fri Oct 31 05:58:29 UTC 2025
2025-10-31T05:58:30.999176844Z [inf]  Node version: v20.19.5
2025-10-31T05:58:30.999183364Z [inf]  NPM version: 10.8.2
2025-10-31T05:58:30.999189346Z [inf]  
2025-10-31T05:58:30.999196508Z [inf]  üìÅ Current directory: /app
2025-10-31T05:58:30.999202952Z [inf]  üìÇ Listing root files:
2025-10-31T05:58:30.999229583Z [inf]  total 404
2025-10-31T05:58:30.999235814Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:57 .
2025-10-31T05:58:30.999240783Z [inf]  dr-xr-xr-x    1 root     root          4096 Oct 31 05:58 ..
2025-10-31T05:58:30.999245331Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 dist
2025-10-31T05:58:30.999249370Z [inf]  -rw-rw-r--    1 root     root           325 Oct 31 05:41 drizzle.config.ts
2025-10-31T05:58:30.999253718Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:33 node_modules
2025-10-31T05:58:30.999260071Z [inf]  -rw-rw-r--    1 root     root        355683 Oct 31 05:33 package-lock.json
2025-10-31T05:58:30.999265007Z [inf]  -rw-rw-r--    1 root     root          4586 Oct 31 05:33 package.json
2025-10-31T05:58:30.999269982Z [inf]  -rwxrwxr-x    1 root     root          1873 Oct 31 05:56 railway-start.sh
2025-10-31T05:58:30.999273983Z [inf]  -rw-rw-r--    1 root     root          9465 Oct 31 05:41 replit.md
2025-10-31T05:58:30.999278198Z [inf]  drwxr-xr-x   12 root     root          4096 Oct 31 05:41 server
2025-10-31T05:58:30.999284286Z [inf]  drwxr-xr-x    2 root     root          4096 Oct 31 05:41 shared
2025-10-31T05:58:30.999288652Z [inf]  -rw-rw-r--    1 root     root           960 Oct 31 05:41 tsconfig.json
2025-10-31T05:58:30.999292686Z [inf]  
2025-10-31T05:58:32.169238725Z [inf]  üîç Checking for dist directory...
2025-10-31T05:58:32.169245544Z [inf]  ‚úÖ dist directory exists
2025-10-31T05:58:32.169252558Z [inf]  üìÇ Contents:
2025-10-31T05:58:32.169258681Z [inf]  total 812
2025-10-31T05:58:32.169267675Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 .
2025-10-31T05:58:32.169275066Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 05:57 ..
2025-10-31T05:58:32.169662144Z [inf]  -rw-r--r--    1 root     root        817191 Oct 31 05:43 index.js
2025-10-31T05:58:32.169671264Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 05:43 public
2025-10-31T05:58:32.169691925Z [inf]  ‚úÖ dist/index.js found
2025-10-31T05:58:32.169700136Z [inf]  
2025-10-31T05:58:32.169706188Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-31T05:58:32.169712723Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-31T05:58:32.169718824Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-31T05:58:32.169725537Z [inf]  Using 'pg' driver for database querying
2025-10-31T05:58:32.169731832Z [inf]  [‚£∑] Pulling schema from database...
2025-10-31T05:58:32.169741706Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:58:32.169748217Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:58:32.169754797Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:58:32.169761654Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:58:32.853844440Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T05:58:32.853852549Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T05:58:32.853858332Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T05:58:32.853864114Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:58:32.853870135Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:58:32.865552986Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:58:32.987377887Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:58:34.029912549Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T05:58:34.029921614Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T05:58:34.029928300Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T05:58:34.029940968Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T05:58:34.029948027Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T05:58:34.030255524Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T05:58:34.030265671Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T05:58:34.030272248Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-31T05:58:34.054929449Z [inf]  [?25l
2025-10-31T05:58:34.054935707Z [inf]  Is ai_fix_attempts table created or renamed from another table?
2025-10-31T05:58:34.054942686Z [inf]  ‚ùØ + ai_fix_attempts                           create table
2025-10-31T05:58:34.054949404Z [inf]    ~ meta_sysop_automation ‚Ä∫ ai_fix_attempts   rename table
2025-10-31T05:58:34.054963467Z [inf]    ~ meta_sysop_instructions ‚Ä∫ ai_fix_attempts rename table
2025-10-31T05:58:34.054968214Z [inf]    ~ meta_sysop_knowledge ‚Ä∫ ai_fix_attempts    rename table
2025-10-31T05:58:34.054975476Z [inf]    ~ meta_sysop_memory ‚Ä∫ ai_fix_attempts       rename table
2025-10-31T05:58:34.054984381Z [inf]    ~ meta_sysop_attachments ‚Ä∫ ai_fix_attempts  rename table
2025-10-31T05:58:34.054989875Z [inf]    ~ meta_sysop_sessions ‚Ä∫ ai_fix_attempts     rename table
2025-10-31T05:58:35.000000000Z [inf]  Stopping Container
2025-10-31T05:58:36.329780759Z [err]  2025-10-31 05:58:34.579 UTC [23834] LOG:  could not receive data from client: Connection reset by peer
2025-10-31T05:58:45.564514918Z [err]  2025-10-31 05:58:45.557 UTC [23849] ERROR:  relation "platform_incidents" does not exist at character 298
2025-10-31T05:58:45.564522326Z [err]  2025-10-31 05:58:45.557 UTC [23849] STATEMENT:  select "id", "type", "severity", "title", "description", "source", "detected_at", "resolved_at", "status", "healing_session_id", "stack_trace", "affected_files", "metrics", "logs", "root_cause", "fix_description", "commit_hash", "attempt_count", "last_attempt_at", "created_at", "updated_at" from "platform_incidents" where ("platform_incidents"."status" = $1 and "platform_incidents"."resolved_at" is null)
2025-10-31T05:58:53.151879480Z [inf]    ~ meta_sysop_jobs ‚Ä∫ ai_fix_attempts         rename table‚úÖ Database migrations completed successfully!
2025-10-31T05:58:53.151889691Z [inf]  
2025-10-31T05:58:53.151899080Z [inf]  üîç Environment Check:
2025-10-31T05:58:53.151904764Z [inf]  NODE_ENV: production
2025-10-31T05:58:53.151910463Z [inf]  PORT: 8080
2025-10-31T05:58:53.151916069Z [inf]  DATABASE_URL: ‚úì SET (hidden for security)
2025-10-31T05:58:53.151921703Z [inf]  GITHUB_TOKEN: ‚úì SET
2025-10-31T05:58:53.151927249Z [inf]  GITHUB_REPO: 6-7Development/archetype
2025-10-31T05:58:53.151932916Z [inf]  GITHUB_BRANCH: main
2025-10-31T05:58:53.151939036Z [inf]  ANTHROPIC_API_KEY: ‚úì SET
2025-10-31T05:58:53.151943918Z [inf]  
2025-10-31T05:58:53.151949108Z [inf]  üìÑ Ensuring replit.md is available...
2025-10-31T05:58:53.151954116Z [inf]  ‚úÖ replit.md already present
2025-10-31T05:58:53.151959573Z [inf]  
2025-10-31T05:58:53.151964791Z [inf]  üöÄ Starting Node.js application...
2025-10-31T05:58:53.151970404Z [inf]  Command: node dist/index.js
2025-10-31T05:58:53.151976179Z [inf]  
2025-10-31T05:58:53.151981704Z [inf]  [db] ‚úÖ Added sslmode=no-verify to connection string for production
2025-10-31T05:58:53.151987508Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-31T05:58:53.151992861Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-31T05:58:53.152000157Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-31T05:58:53.152255171Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-31T05:58:53.152266516Z [inf]  [db] Connection string includes SSL params: true
2025-10-31T05:58:53.152273930Z [inf]  [PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
2025-10-31T05:58:53.152282811Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-31T05:58:53.152289533Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-10-31T05:58:53.154344598Z [inf]  üì° WebSocket server initialized at /ws
2025-10-31T05:58:53.154360013Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-31T05:58:53.154367706Z [inf]  [PLATFORM-HEALING] WebSocket server attached for preview broadcasts
2025-10-31T05:58:53.154374352Z [inf]  [PLATFORM-HEALING] Platform healing service connected to WebSocket
2025-10-31T05:58:53.154382360Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-31T05:58:53.154388621Z [inf]  [HEAL-ORCHESTRATOR] Metrics broadcaster connected
2025-10-31T05:58:53.154394958Z [inf]  [WEBHOOKS] Webhooks router connected to metrics broadcaster
2025-10-31T05:58:53.154401994Z [inf]  [LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
2025-10-31T05:58:53.154408271Z [inf]  [LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
2025-10-31T05:58:53.154415806Z [inf]  [LOMU-AI] WebSocket server initialized for live preview broadcasts
2025-10-31T05:58:53.154422149Z [inf]  [LOMU-AI-CHAT] Live preview WebSocket initialized
2025-10-31T05:58:53.154427685Z [inf]  [WEBHOOKS] Webhooks router mounted at /api/webhooks
2025-10-31T05:58:53.154432601Z [inf]  ‚úÖ All routes registered successfully
2025-10-31T05:58:53.154462006Z [inf]  üîç Testing database connection...
2025-10-31T05:58:53.154466943Z [inf]  5:58:45 AM [express] serving on port 8080
2025-10-31T05:58:53.154472405Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-31T05:58:53.154478822Z [inf]  ‚úÖ Database connected successfully
2025-10-31T05:58:53.154484954Z [inf]  üîß Auto-healing system ENABLED
2025-10-31T05:58:53.154577821Z [inf]     ‚ö° Kill-switch: Disabled after 3 consecutive failures (1 hour cooldown)
2025-10-31T05:58:53.154584670Z [inf]     ‚è±Ô∏è Rate limit: Max 3 healing sessions per hour
2025-10-31T05:58:53.154590439Z [inf]     üìã Audit trail: All attempts logged to platformHealAttempts
2025-10-31T05:58:53.154595538Z [inf]     üîÑ Rollback: Automatic rollback on verification/deployment failure
2025-10-31T05:58:53.157125153Z [inf]  [HEALTH-MONITOR] Starting platform health monitoring...
2025-10-31T05:58:53.157133072Z [err]  [HEALTH-MONITOR] Failed to load open incidents: error: relation "platform_incidents" does not exist
2025-10-31T05:58:53.157138800Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T05:58:53.157144469Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T05:58:53.157150346Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T05:58:53.157156548Z [err]      at async PlatformHealthMonitor.loadOpenIncidents (file:///app/dist/index.js:11307:29)
2025-10-31T05:58:53.157162463Z [err]      at async PlatformHealthMonitor.start (file:///app/dist/index.js:11286:9)
2025-10-31T05:58:53.157168987Z [err]      at async file:///app/dist/index.js:20042:3 {
2025-10-31T05:58:53.157176054Z [err]    length: 118,
2025-10-31T05:58:53.157182628Z [err]    severity: 'ERROR',
2025-10-31T05:58:53.157186819Z [err]    schema: undefined,
2025-10-31T05:58:53.157187675Z [err]    code: '42P01',
2025-10-31T05:58:53.157197737Z [err]    table: undefined,
2025-10-31T05:58:53.157200932Z [err]    detail: undefined,
2025-10-31T05:58:53.157206581Z [err]    column: undefined,
2025-10-31T05:58:53.157207694Z [err]    hint: undefined,
2025-10-31T05:58:53.157214868Z [err]    dataType: undefined,
2025-10-31T05:58:53.157215242Z [err]    position: '298',
2025-10-31T05:58:53.157224724Z [err]    internalPosition: undefined,
2025-10-31T05:58:53.157226618Z [err]    constraint: undefined,
2025-10-31T05:58:53.157230201Z [err]    internalQuery: undefined,
2025-10-31T05:58:53.157235952Z [err]    file: 'parse_relation.c',
2025-10-31T05:58:53.157236049Z [err]    where: undefined,
2025-10-31T05:58:53.157907767Z [err]    line: '1449',
2025-10-31T05:58:53.157918589Z [err]    routine: 'parserOpenTable'
2025-10-31T05:58:53.160496209Z [err]  }
2025-10-31T05:58:53.160506679Z [inf]  [HEALTH-MONITOR] Monitoring started
2025-10-31T05:58:53.160515116Z [inf]  [HEAL-ORCHESTRATOR] Starting autonomous healing orchestrator...
2025-10-31T05:58:53.160522413Z [inf]  [HEAL-ORCHESTRATOR] Orchestrator started
2025-10-31T05:58:53.160530832Z [inf]  
2025-10-31T05:58:53.160540472Z [inf]  üîç Checking GitHub integration configuration...
2025-10-31T05:58:53.160548088Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-31T05:58:53.160557756Z [inf]     - Repository: 6-7Development/archetype
2025-10-31T05:58:53.160564919Z [inf]     - Branch: main
2025-10-31T05:58:53.160572959Z [inf]     - Token: ‚úì (configured)
2025-10-31T05:58:53.160579838Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-31T05:58:53.160588666Z [inf]     - Maintenance mode: Available for owner
2025-10-31T05:58:53.160589348Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-31T05:58:53.160598139Z [inf]  
2025-10-31T05:58:53.160600900Z [inf]  [AUTH] Verifying password...
2025-10-31T05:58:53.160607036Z [inf]  [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-31T05:58:53.160609614Z [inf]  [AUTH] Password valid: true
2025-10-31T05:58:53.160616704Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-31T05:58:53.160617806Z [inf]  5:58:48 AM [express] GET /api/deployment-info 200 in 4ms :: {"version":"1.0.0","commitHash":"924e2bd‚Ä¶
2025-10-31T05:58:53.160626732Z [inf]  5:58:48 AM [express] GET /api/auth/me 304 in 7ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-31T05:58:53.160636281Z [inf]  5:58:52 AM [express] POST /api/auth/login 200 in 287ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-31T05:58:53.160636651Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-31T05:58:53.160645911Z [inf]  [AUTH] Found users: 1
2025-10-31T05:58:53.162153098Z [inf]  5:58:53 AM [express] GET /api/auth/me 304 in 9ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-31T05:58:53.222616704Z [inf]  5:58:53 AM [express] GET /api/projects 304 in 91ms :: []
2025-10-31T05:58:57.177371641Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T05:58:57.177424364Z [err]  [HEALING] Error fetching targets: error: relation "healing_targets" does not exist
2025-10-31T05:58:57.177432190Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T05:58:57.177439709Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T05:58:57.184916269Z [err]      at async DatabaseStorage.getHealingTargets (file:///app/dist/index.js:3630:16)
2025-10-31T05:58:57.184929738Z [err]      at async file:///app/dist/index.js:19036:21 {
2025-10-31T05:58:57.184936323Z [err]    length: 115,
2025-10-31T05:58:57.184942783Z [err]    severity: 'ERROR',
2025-10-31T05:58:57.184948802Z [err]    code: '42P01',
2025-10-31T05:58:57.184955436Z [err]    detail: undefined,
2025-10-31T05:58:57.184962060Z [err]    hint: undefined,
2025-10-31T05:58:57.184968797Z [err]    position: '182',
2025-10-31T05:58:57.184975032Z [err]    internalPosition: undefined,
2025-10-31T05:58:57.184981076Z [err]    internalQuery: undefined,
2025-10-31T05:58:57.184988035Z [err]    where: undefined,
2025-10-31T05:58:57.184993719Z [err]    schema: undefined,
2025-10-31T05:58:57.184999217Z [err]    table: undefined,
2025-10-31T05:58:57.185004830Z [err]    column: undefined,
2025-10-31T05:58:57.185010177Z [err]    dataType: undefined,
2025-10-31T05:58:57.185016926Z [err]    constraint: undefined,
2025-10-31T05:58:57.185023233Z [err]    file: 'parse_relation.c',
2025-10-31T05:58:57.185029701Z [err]    line: '1449',
2025-10-31T05:58:57.185035123Z [err]    routine: 'parserOpenTable'
2025-10-31T05:58:57.185041270Z [err]  }
2025-10-31T05:58:57.185671159Z [inf]  5:58:57 AM [express] GET /api/healing/targets 500 in 13ms :: {"error":"Failed to fetch healing targe‚Ä¶
2025-10-31T05:59:05.576539931Z [err]  2025-10-31 05:58:57.061 UTC [23851] ERROR:  relation "healing_targets" does not exist at character 182
2025-10-31T05:59:05.576546067Z [err]  2025-10-31 05:58:57.061 UTC [23851] STATEMENT:  select "id", "user_id", "type", "name", "project_id", "customer_id", "railway_project_id", "repository_url", "last_synced_at", "status", "metadata", "created_at", "updated_at" from "healing_targets" where "healing_targets"."user_id" = $1 order by "healing_targets"."updated_at" desc