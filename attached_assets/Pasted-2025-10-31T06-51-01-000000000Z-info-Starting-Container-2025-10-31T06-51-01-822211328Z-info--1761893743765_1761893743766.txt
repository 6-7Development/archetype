2025-10-31T06:51:01.000000000Z [info] Starting Container
2025-10-31T06:51:01.822211328Z [info] ======================================
2025-10-31T06:51:01.822215718Z [info] dr-xr-xr-x    1 root     root          4096 Oct 31 06:50 ..
2025-10-31T06:51:01.822218843Z [info] ðŸš‚ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-10-31T06:51:01.822227081Z [info] ======================================
2025-10-31T06:51:01.822227700Z [info] drwxr-xr-x    3 root     root          4096 Oct 31 06:50 dist
2025-10-31T06:51:01.822234580Z [info] Time: Fri Oct 31 06:51:01 UTC 2025
2025-10-31T06:51:01.822253355Z [info] Node version: v20.19.5
2025-10-31T06:51:01.822259851Z [info] NPM version: 10.8.2
2025-10-31T06:51:01.822267358Z [info] 
2025-10-31T06:51:01.822273653Z [info] ðŸ“ Current directory: /app
2025-10-31T06:51:01.822285983Z [info] ðŸ“‚ Listing root files:
2025-10-31T06:51:01.822296008Z [info] total 404
2025-10-31T06:51:01.822302498Z [info] drwxr-xr-x    1 root     root          4096 Oct 31 06:50 .
2025-10-31T06:51:01.822358237Z [info] -rw-rw-r--    1 root     root           325 Oct 31 06:48 drizzle.config.ts
2025-10-31T06:51:01.822365352Z [info] drwxr-xr-x    1 root     root          4096 Oct 31 05:33 node_modules
2025-10-31T06:51:01.822372008Z [info] -rw-rw-r--    1 root     root        355683 Oct 31 05:33 package-lock.json
2025-10-31T06:51:01.822378972Z [info] -rw-rw-r--    1 root     root          4586 Oct 31 05:33 package.json
2025-10-31T06:51:01.825506063Z [info] -rwxrwxr-x    1 root     root          1784 Oct 31 06:48 railway-start.sh
2025-10-31T06:51:01.825514290Z [info] -rw-rw-r--    1 root     root          9465 Oct 31 06:48 replit.md
2025-10-31T06:51:01.825518659Z [info] drwxr-xr-x   12 root     root          4096 Oct 31 06:48 server
2025-10-31T06:51:01.825522747Z [info] drwxr-xr-x    2 root     root          4096 Oct 31 06:48 shared
2025-10-31T06:51:01.825526829Z [info] -rw-rw-r--    1 root     root           960 Oct 31 06:48 tsconfig.json
2025-10-31T06:51:01.825531093Z [info] 
2025-10-31T06:51:01.825750732Z [info] ðŸ” Checking for dist directory...
2025-10-31T06:51:01.825754470Z [info] âœ… dist directory exists
2025-10-31T06:51:01.825758327Z [info] ðŸ“‚ Contents:
2025-10-31T06:51:01.825763272Z [info] total 812
2025-10-31T06:51:01.825767137Z [info] drwxr-xr-x    3 root     root          4096 Oct 31 06:50 .
2025-10-31T06:51:01.825770967Z [info] drwxr-xr-x    1 root     root          4096 Oct 31 06:50 ..
2025-10-31T06:51:01.825774975Z [info] -rw-r--r--    1 root     root        817114 Oct 31 06:50 index.js
2025-10-31T06:51:01.825778684Z [info] drwxr-xr-x    3 root     root          4096 Oct 31 06:50 public
2025-10-31T06:51:01.825782374Z [info] âœ… dist/index.js found
2025-10-31T06:51:01.825786200Z [info] 
2025-10-31T06:51:01.825791620Z [info] â­ï¸ Skipping database migrations (handled by application)
2025-10-31T06:51:01.825795277Z [info] âœ… Database schema will be created automatically on startup
2025-10-31T06:51:01.825799005Z [info] 
2025-10-31T06:51:01.825803300Z [info] ðŸ” Environment Check:
2025-10-31T06:51:01.825806825Z [info] NODE_ENV: production
2025-10-31T06:51:01.825811204Z [info] PORT: 8080
2025-10-31T06:51:01.825815481Z [info] DATABASE_URL: âœ“ SET (hidden for security)
2025-10-31T06:51:01.825819940Z [info] GITHUB_TOKEN: âœ“ SET
2025-10-31T06:51:01.825823434Z [info] GITHUB_REPO: 6-7Development/archetype
2025-10-31T06:51:01.825827143Z [info] GITHUB_BRANCH: main
2025-10-31T06:51:01.825830753Z [info] ANTHROPIC_API_KEY: âœ“ SET
2025-10-31T06:51:01.825834966Z [info] 
2025-10-31T06:51:01.825839465Z [info] ðŸ“„ Ensuring replit.md is available...
2025-10-31T06:51:01.825843392Z [info] âœ… replit.md already present
2025-10-31T06:51:01.825848254Z [info] 
2025-10-31T06:51:01.825852215Z [info] ðŸš€ Starting Node.js application...
2025-10-31T06:51:01.825856048Z [info] Command: node dist/index.js
2025-10-31T06:51:01.825859870Z [info] 
2025-10-31T06:51:02.887900051Z [info] [WEBHOOKS] Webhooks router mounted at /api/webhooks
2025-10-31T06:51:02.887904694Z [info] âœ… All routes registered successfully
2025-10-31T06:51:02.887910440Z [info] ðŸ” Testing database connection...
2025-10-31T06:51:02.887916000Z [info] 6:51:02 AM [express] serving on port 8080
2025-10-31T06:51:02.887921069Z [info] ðŸŒ Server accessible at http://0.0.0.0:8080
2025-10-31T06:51:02.887927476Z [info] âœ… Database connected successfully
2025-10-31T06:51:02.887933498Z [info] ðŸ”§ Auto-healing system ENABLED
2025-10-31T06:51:02.887939918Z [info]    âš¡ Kill-switch: Disabled after 3 consecutive failures (1 hour cooldown)
2025-10-31T06:51:02.887945832Z [info]    â±ï¸ Rate limit: Max 3 healing sessions per hour
2025-10-31T06:51:02.887950419Z [info]    ðŸ“‹ Audit trail: All attempts logged to platformHealAttempts
2025-10-31T06:51:02.887955573Z [info]    ðŸ”„ Rollback: Automatic rollback on verification/deployment failure
2025-10-31T06:51:02.887960664Z [info] [HEALTH-MONITOR] Starting platform health monitoring...
2025-10-31T06:51:02.887965810Z [error] [HEALTH-MONITOR] Failed to load open incidents: error: relation "platform_incidents" does not exist
2025-10-31T06:51:02.887975782Z [error]     at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T06:51:02.887981553Z [error]     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T06:51:02.887986214Z [error]     at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T06:51:02.887990691Z [error]     at async PlatformHealthMonitor.loadOpenIncidents (file:///app/dist/index.js:11305:29)
2025-10-31T06:51:02.887995460Z [error]     at async PlatformHealthMonitor.start (file:///app/dist/index.js:11284:9)
2025-10-31T06:51:02.888000715Z [error]     at async file:///app/dist/index.js:20040:3 {
2025-10-31T06:51:02.888008307Z [error]   length: 118,
2025-10-31T06:51:02.888011795Z [info] [db] âœ… Added sslmode=no-verify to connection string for production
2025-10-31T06:51:02.888016274Z [error]   severity: 'ERROR',
2025-10-31T06:51:02.888021117Z [info] [db] Environment: NODE_ENV=production, PORT=8080
2025-10-31T06:51:02.888027546Z [info] [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-31T06:51:02.888033704Z [info] [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-31T06:51:02.888040688Z [info] [db] SSL Configuration: {rejectUnauthorized:false}
2025-10-31T06:51:02.888046404Z [info] [db] Connection string includes SSL params: true
2025-10-31T06:51:02.888053865Z [info] [PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
2025-10-31T06:51:02.888059746Z [info] [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-31T06:51:02.888066304Z [info] [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-10-31T06:51:02.888072501Z [info] ðŸ“¡ WebSocket server initialized at /ws
2025-10-31T06:51:02.888079144Z [info] [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-31T06:51:02.888084979Z [info] [PLATFORM-HEALING] WebSocket server attached for preview broadcasts
2025-10-31T06:51:02.888091425Z [info] [PLATFORM-HEALING] Platform healing service connected to WebSocket
2025-10-31T06:51:02.888101635Z [info] [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-31T06:51:02.888108077Z [info] [HEAL-ORCHESTRATOR] Metrics broadcaster connected
2025-10-31T06:51:02.888116727Z [info] [WEBHOOKS] Webhooks router connected to metrics broadcaster
2025-10-31T06:51:02.888123231Z [info] [LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
2025-10-31T06:51:02.888134117Z [info] [LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
2025-10-31T06:51:02.888140221Z [info] [LOMU-AI] WebSocket server initialized for live preview broadcasts
2025-10-31T06:51:02.888145393Z [info] [LOMU-AI-CHAT] Live preview WebSocket initialized
2025-10-31T06:51:02.889943973Z [error]   code: '42P01',
2025-10-31T06:51:02.889948004Z [error]   detail: undefined,
2025-10-31T06:51:02.889951830Z [error]   hint: undefined,
2025-10-31T06:51:02.889955889Z [error]   position: '298',
2025-10-31T06:51:02.889960563Z [error]   internalPosition: undefined,
2025-10-31T06:51:02.889964343Z [error]   internalQuery: undefined,
2025-10-31T06:51:02.889969648Z [error]   where: undefined,
2025-10-31T06:51:02.889973772Z [error]   schema: undefined,
2025-10-31T06:51:02.889977669Z [error]   table: undefined,
2025-10-31T06:51:02.889981969Z [error]   column: undefined,
2025-10-31T06:51:02.889986104Z [error]   dataType: undefined,
2025-10-31T06:51:02.889990285Z [error]   constraint: undefined,
2025-10-31T06:51:02.889994033Z [error]   file: 'parse_relation.c',
2025-10-31T06:51:02.889998317Z [error]   line: '1449',
2025-10-31T06:51:02.890002228Z [error]   routine: 'parserOpenTable'
2025-10-31T06:51:02.890007515Z [error] }
2025-10-31T06:51:02.890011363Z [info] [HEALTH-MONITOR] Monitoring started
2025-10-31T06:51:02.890015876Z [info] [HEAL-ORCHESTRATOR] Starting autonomous healing orchestrator...
2025-10-31T06:51:02.890019588Z [info] [HEAL-ORCHESTRATOR] Orchestrator started
2025-10-31T06:51:02.890024081Z [info] 
2025-10-31T06:51:02.890029160Z [info] ðŸ” Checking GitHub integration configuration...
2025-10-31T06:51:02.890032917Z [info] âœ… GitHub integration configured successfully
2025-10-31T06:51:02.890036562Z [info]    - Repository: 6-7Development/archetype
2025-10-31T06:51:02.890040383Z [info]    - Branch: main
2025-10-31T06:51:02.890044513Z [info]    - Token: âœ“ (configured)
2025-10-31T06:51:02.890059759Z [info]    - Owner User ID: Not set (owner must be manually marked in database)
2025-10-31T06:51:02.890064449Z [info]    - Maintenance mode: Available for owner
2025-10-31T06:51:02.890069367Z [info] 