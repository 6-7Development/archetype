2025-10-31T21:43:55.000000000Z [inf]  Starting Container
2025-10-31T21:43:55.494405576Z [inf]  drwxr-xr-x   12 root     root          4096 Oct 31 21:03 server
2025-10-31T21:43:55.494409147Z [inf]  üìÇ Listing root files:
2025-10-31T21:43:55.494420882Z [inf]  -rw-rw-r--    1 root     root        355683 Oct 31 21:16 package-lock.json
2025-10-31T21:43:55.494423439Z [inf]  -rw-rw-r--    1 root     root          1195 Oct 31 21:42 drop-old-tables.js
2025-10-31T21:43:55.494426654Z [inf]  -rw-rw-r--    1 root     root          4586 Oct 31 21:16 package.json
2025-10-31T21:43:55.494434460Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 21:16 node_modules
2025-10-31T21:43:55.494435345Z [inf]  -rwxrwxr-x    1 root     root          3254 Oct 31 21:42 railway-start.sh
2025-10-31T21:43:55.494440409Z [inf]  -rw-rw-r--    1 root     root          9465 Oct 31 21:03 replit.md
2025-10-31T21:43:55.494462973Z [inf]  total 412
2025-10-31T21:43:55.494463164Z [inf]  -rw-rw-r--    1 root     root          2846 Oct 31 21:42 create-healing-tables.sql
2025-10-31T21:43:55.494473820Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 21:43 .
2025-10-31T21:43:55.494477264Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 21:16 dist
2025-10-31T21:43:55.494480504Z [inf]  ======================================
2025-10-31T21:43:55.494484934Z [inf]  üöÇ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-10-31T21:43:55.494485417Z [inf]  dr-xr-xr-x    1 root     root          4096 Oct 31 21:43 ..
2025-10-31T21:43:55.494487471Z [inf]  -rw-rw-r--    1 root     root           325 Oct 31 21:03 drizzle.config.ts
2025-10-31T21:43:55.494489585Z [inf]  NPM version: 10.8.2
2025-10-31T21:43:55.494494819Z [inf]  ======================================
2025-10-31T21:43:55.494499701Z [inf]  
2025-10-31T21:43:55.494503085Z [inf]  Time: Fri Oct 31 21:43:55 UTC 2025
2025-10-31T21:43:55.494508113Z [inf]  üìÅ Current directory: /app
2025-10-31T21:43:55.494513771Z [inf]  Node version: v20.19.5
2025-10-31T21:43:55.498102725Z [inf]  drwxr-xr-x    2 root     root          4096 Oct 31 21:03 shared
2025-10-31T21:43:55.498110735Z [inf]  -rw-rw-r--    1 root     root           960 Oct 31 21:03 tsconfig.json
2025-10-31T21:43:55.498119111Z [inf]  
2025-10-31T21:43:55.498126316Z [inf]  üîç Checking for dist directory...
2025-10-31T21:43:55.498133198Z [inf]  ‚úÖ dist directory exists
2025-10-31T21:43:55.498139800Z [inf]  üìÇ Contents:
2025-10-31T21:43:55.498148369Z [inf]  total 812
2025-10-31T21:43:55.498154660Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 21:16 .
2025-10-31T21:43:55.498160880Z [inf]  drwxr-xr-x    1 root     root          4096 Oct 31 21:43 ..
2025-10-31T21:43:55.498167702Z [inf]  -rw-r--r--    1 root     root        817114 Oct 31 21:16 index.js
2025-10-31T21:43:55.498174582Z [inf]  drwxr-xr-x    3 root     root          4096 Oct 31 21:16 public
2025-10-31T21:43:55.498180786Z [inf]  ‚úÖ dist/index.js found
2025-10-31T21:43:55.498186850Z [inf]  
2025-10-31T21:43:55.498192738Z [inf]  üóëÔ∏è Dropping old tables with incorrect schema...
2025-10-31T21:43:55.498200592Z [inf]  [DROP-TABLES] Dropping old healing tables with incorrect schema...
2025-10-31T21:43:55.604015150Z [inf]  [DROP-TABLES] ‚úÖ Dropped ai_fix_attempts
2025-10-31T21:43:55.604025988Z [inf]  [DROP-TABLES] ‚úÖ Dropped platform_incidents
2025-10-31T21:43:55.604031312Z [inf]  [DROP-TABLES] ‚úÖ Dropped healing_targets
2025-10-31T21:43:55.604036585Z [inf]  [DROP-TABLES] ‚úÖ All old tables dropped successfully
2025-10-31T21:43:55.614235842Z [inf]  
2025-10-31T21:43:55.614244004Z [inf]  üîß Creating healing tables with correct schema...
2025-10-31T21:43:55.614251012Z [inf]  ‚ö†Ô∏è psql not found, using node-postgres...
2025-10-31T21:43:55.818200060Z [inf]  ‚úÖ Tables created
2025-10-31T21:43:55.818209572Z [inf]  
2025-10-31T21:43:55.818218078Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-10-31T21:43:55.818223979Z [inf]  ‚úÖ Added sslmode=no-verify to DATABASE_URL for drizzle-kit
2025-10-31T21:43:56.542620453Z [inf]  No config path provided, using default 'drizzle.config.ts'
2025-10-31T21:43:56.542627190Z [inf]  Reading config file '/app/drizzle.config.ts'
2025-10-31T21:43:56.886751013Z [inf]  Using 'pg' driver for database querying
2025-10-31T21:43:57.039518373Z [inf]  [‚£∑] Pulling schema from database...
2025-10-31T21:43:57.343470056Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T21:43:57.343621891Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T21:43:57.410439678Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T21:43:57.541566725Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T21:43:57.669750182Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T21:43:57.796630354Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T21:43:57.929568189Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T21:43:58.052385560Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T21:43:58.450672254Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T21:43:58.450679689Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T21:43:58.450688157Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T21:43:58.562993492Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T21:43:58.714405076Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T21:43:58.818017555Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T21:43:58.945047045Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T21:43:59.089797629Z [inf]  [2K[1G[‚£ü] Pulling schema from database...
2025-10-31T21:43:59.463076649Z [inf]  [2K[1G[‚°ø] Pulling schema from database...
2025-10-31T21:43:59.463081498Z [inf]  [2K[1G[‚¢ø] Pulling schema from database...
2025-10-31T21:43:59.463085835Z [inf]  [2K[1G[‚£ª] Pulling schema from database...
2025-10-31T21:43:59.591528935Z [inf]  [2K[1G[‚£Ω] Pulling schema from database...
2025-10-31T21:43:59.717295706Z [inf]  [2K[1G[‚£∑] Pulling schema from database...
2025-10-31T21:43:59.842727729Z [inf]  [2K[1G[‚£Ø] Pulling schema from database...
2025-10-31T21:43:59.924296602Z [inf]  [2K[1G[‚úì] Pulling schema from database...
2025-10-31T21:43:59.970659742Z [inf]  [?25l
2025-10-31T21:43:59.970666552Z [inf]  Is ai_knowledge_base table created or renamed from another table?
2025-10-31T21:43:59.970671738Z [inf]  ‚ùØ + ai_knowledge_base                           create table
2025-10-31T21:43:59.970676763Z [inf]    ~ meta_sysop_automation ‚Ä∫ ai_knowledge_base   rename table
2025-10-31T21:43:59.970682491Z [inf]    ~ meta_sysop_instructions ‚Ä∫ ai_knowledge_base rename table
2025-10-31T21:43:59.970690328Z [inf]    ~ meta_sysop_knowledge ‚Ä∫ ai_knowledge_base    rename table
2025-10-31T21:43:59.970696629Z [inf]    ~ meta_sysop_memory ‚Ä∫ ai_knowledge_base       rename table
2025-10-31T21:43:59.970702185Z [inf]    ~ meta_sysop_attachments ‚Ä∫ ai_knowledge_base  rename table
2025-10-31T21:43:59.970707746Z [inf]    ~ meta_sysop_sessions ‚Ä∫ ai_knowledge_base     rename table
2025-10-31T21:44:09.953300447Z [inf]    ~ meta_sysop_jobs ‚Ä∫ ai_knowledge_base         rename table‚úÖ Database schema ready!
2025-10-31T21:44:09.953306932Z [inf]  
2025-10-31T21:44:09.953312786Z [inf]  üîç Environment Check:
2025-10-31T21:44:09.953318535Z [inf]  NODE_ENV: production
2025-10-31T21:44:09.953328656Z [inf]  PORT: 8080
2025-10-31T21:44:09.953337637Z [inf]  DATABASE_URL: ‚úì SET (hidden for security)
2025-10-31T21:44:09.953343079Z [inf]  GITHUB_TOKEN: ‚úì SET
2025-10-31T21:44:09.953350009Z [inf]  GITHUB_REPO: 6-7Development/archetype
2025-10-31T21:44:09.953357138Z [inf]  GITHUB_BRANCH: main
2025-10-31T21:44:09.953363749Z [inf]  ANTHROPIC_API_KEY: ‚úì SET
2025-10-31T21:44:09.953369309Z [inf]  
2025-10-31T21:44:09.953374998Z [inf]  üìÑ Ensuring replit.md is available...
2025-10-31T21:44:09.953380141Z [inf]  ‚úÖ replit.md already present
2025-10-31T21:44:09.953384949Z [inf]  
2025-10-31T21:44:09.953389952Z [inf]  üöÄ Starting Node.js application...
2025-10-31T21:44:09.953395845Z [inf]  Command: node dist/index.js
2025-10-31T21:44:09.953401203Z [inf]  
2025-10-31T21:44:10.944532251Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-10-31T21:44:10.944537182Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-10-31T21:44:10.944542342Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-10-31T21:44:10.944547241Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-10-31T21:44:10.944554130Z [inf]  [db] Connection string includes SSL params: true
2025-10-31T21:44:10.951548977Z [inf]  [PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
2025-10-31T21:44:10.951567791Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-10-31T21:44:10.959537327Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-10-31T21:44:10.966849958Z [inf]  üì° WebSocket server initialized at /ws
2025-10-31T21:44:10.966855397Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-10-31T21:44:10.966860173Z [inf]  [PLATFORM-HEALING] WebSocket server attached for preview broadcasts
2025-10-31T21:44:10.966864384Z [inf]  [PLATFORM-HEALING] Platform healing service connected to WebSocket
2025-10-31T21:44:10.966868937Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-10-31T21:44:10.966873146Z [inf]  [HEAL-ORCHESTRATOR] Metrics broadcaster connected
2025-10-31T21:44:10.966879537Z [inf]  [WEBHOOKS] Webhooks router connected to metrics broadcaster
2025-10-31T21:44:10.966883895Z [inf]  [LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
2025-10-31T21:44:10.966888296Z [inf]  [LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
2025-10-31T21:44:10.966892495Z [inf]  [LOMU-AI] WebSocket server initialized for live preview broadcasts
2025-10-31T21:44:10.966896886Z [inf]  [LOMU-AI-CHAT] Live preview WebSocket initialized
2025-10-31T21:44:10.973091103Z [inf]  [WEBHOOKS] Webhooks router mounted at /api/webhooks
2025-10-31T21:44:11.031483520Z [inf]  ‚úÖ All routes registered successfully
2025-10-31T21:44:11.031491970Z [inf]  üîç Testing database connection...
2025-10-31T21:44:11.068259674Z [inf]  9:44:11 PM [express] serving on port 8080
2025-10-31T21:44:11.068265723Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-10-31T21:44:11.460862355Z [err]    schema: undefined,
2025-10-31T21:44:11.460869090Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T21:44:11.460880139Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T21:44:11.460889237Z [err]    internalPosition: undefined,
2025-10-31T21:44:11.460889362Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T21:44:11.460900110Z [err]    internalQuery: undefined,
2025-10-31T21:44:11.460901458Z [err]      at async PlatformHealthMonitor.loadOpenIncidents (file:///app/dist/index.js:11305:29)
2025-10-31T21:44:11.460911217Z [err]      at async PlatformHealthMonitor.start (file:///app/dist/index.js:11284:9)
2025-10-31T21:44:11.460916063Z [err]    detail: undefined,
2025-10-31T21:44:11.460917606Z [err]    where: undefined,
2025-10-31T21:44:11.460921137Z [err]      at async file:///app/dist/index.js:20040:3 {
2025-10-31T21:44:11.460924667Z [err]    length: 105,
2025-10-31T21:44:11.460930366Z [err]    hint: undefined,
2025-10-31T21:44:11.460935654Z [err]    severity: 'ERROR',
2025-10-31T21:44:11.460941309Z [err]    position: '34',
2025-10-31T21:44:11.460945202Z [err]    code: '42703',
2025-10-31T21:44:11.460987732Z [inf]  ‚úÖ Database connected successfully
2025-10-31T21:44:11.460993389Z [err]    table: undefined,
2025-10-31T21:44:11.460995919Z [inf]  üîß Auto-healing system ENABLED
2025-10-31T21:44:11.461002869Z [inf]     ‚ö° Kill-switch: Disabled after 3 consecutive failures (1 hour cooldown)
2025-10-31T21:44:11.461006975Z [err]    column: undefined,
2025-10-31T21:44:11.461010735Z [inf]     ‚è±Ô∏è Rate limit: Max 3 healing sessions per hour
2025-10-31T21:44:11.461014171Z [err]    dataType: undefined,
2025-10-31T21:44:11.461019687Z [inf]     üìã Audit trail: All attempts logged to platformHealAttempts
2025-10-31T21:44:11.461020169Z [err]    constraint: undefined,
2025-10-31T21:44:11.461027342Z [err]    file: 'parse_relation.c',
2025-10-31T21:44:11.461027693Z [inf]     üîÑ Rollback: Automatic rollback on verification/deployment failure
2025-10-31T21:44:11.461034096Z [err]    line: '3716',
2025-10-31T21:44:11.461035097Z [inf]  [HEALTH-MONITOR] Starting platform health monitoring...
2025-10-31T21:44:11.461041044Z [err]    routine: 'errorMissingColumn'
2025-10-31T21:44:11.461043060Z [err]  [HEALTH-MONITOR] Failed to load open incidents: error: column "title" does not exist
2025-10-31T21:44:11.461047045Z [err]  }
2025-10-31T21:44:11.461053095Z [inf]  [HEALTH-MONITOR] Monitoring started
2025-10-31T21:44:11.461058282Z [inf]  [HEAL-ORCHESTRATOR] Starting autonomous healing orchestrator...
2025-10-31T21:44:11.461062701Z [inf]  [HEAL-ORCHESTRATOR] Orchestrator started
2025-10-31T21:44:11.461068780Z [inf]  
2025-10-31T21:44:11.461073164Z [inf]  üîç Checking GitHub integration configuration...
2025-10-31T21:44:11.461078652Z [inf]  ‚úÖ GitHub integration configured successfully
2025-10-31T21:44:11.461083052Z [inf]     - Repository: 6-7Development/archetype
2025-10-31T21:44:11.461089333Z [inf]     - Branch: main
2025-10-31T21:44:11.461094075Z [inf]     - Token: ‚úì (configured)
2025-10-31T21:44:11.461099772Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-10-31T21:44:11.461105267Z [inf]     - Maintenance mode: Available for owner
2025-10-31T21:44:11.461110591Z [inf]  
2025-10-31T21:44:14.415940372Z [inf]  [DEPLOYMENT-INFO] Using Railway environment variables
2025-10-31T21:44:14.415950694Z [inf]  9:44:14 PM [express] GET /api/deployment-info 200 in 4ms :: {"version":"1.0.0","commitHash":"094f8cc‚Ä¶
2025-10-31T21:44:14.415957160Z [inf]  9:44:14 PM [express] GET /api/auth/me 304 in 13ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-10-31T21:44:18.061003436Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-10-31T21:44:18.061016648Z [inf]  [AUTH] Found users: 1
2025-10-31T21:44:18.061022952Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-10-31T21:44:18.061028612Z [inf]  [AUTH] Verifying password...
2025-10-31T21:44:18.457525465Z [inf]  [AUTH] Password valid: true
2025-10-31T21:44:18.457538937Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-10-31T21:44:18.457545352Z [inf]  9:44:18 PM [express] POST /api/auth/login 200 in 279ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-10-31T21:44:18.931646303Z [inf]  9:44:18 PM [express] GET /api/projects 304 in 14ms :: []
2025-10-31T21:44:19.021687261Z [inf]  9:44:19 PM [express] GET /api/auth/me 304 in 107ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef9‚Ä¶
2025-10-31T21:44:21.559963341Z [inf]  9:44:21 PM [express] GET /api/auth/me 200 in 8ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef954‚Ä¶
2025-10-31T21:44:21.559970041Z [inf]  9:44:21 PM [express] GET /api/projects 200 in 13ms :: []
2025-10-31T21:44:24.464452939Z [err]    detail: undefined,
2025-10-31T21:44:24.464466022Z [err]    hint: undefined,
2025-10-31T21:44:24.464475948Z [err]    position: '14',
2025-10-31T21:44:24.464482507Z [inf]  9:44:24 PM [express] GET /api/healing/targets 500 in 12ms :: {"error":"Failed to fetch healing targe‚Ä¶
2025-10-31T21:44:24.464485505Z [err]    internalPosition: undefined,
2025-10-31T21:44:24.464492615Z [err]    internalQuery: undefined,
2025-10-31T21:44:24.464496991Z [err]  [HEALING] Error fetching targets: error: column "user_id" does not exist
2025-10-31T21:44:24.464501933Z [err]    where: undefined,
2025-10-31T21:44:24.464505501Z [err]      at /app/node_modules/pg-pool/index.js:45:11
2025-10-31T21:44:24.464508565Z [err]    line: '3716',
2025-10-31T21:44:24.464509018Z [err]    dataType: undefined,
2025-10-31T21:44:24.464512186Z [err]    schema: undefined,
2025-10-31T21:44:24.464514878Z [err]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-10-31T21:44:24.464522538Z [err]    table: undefined,
2025-10-31T21:44:24.464522754Z [err]    routine: 'errorMissingColumn'
2025-10-31T21:44:24.464523048Z [err]    constraint: undefined,
2025-10-31T21:44:24.464525161Z [err]      at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
2025-10-31T21:44:24.464532773Z [err]    column: undefined,
2025-10-31T21:44:24.464533621Z [err]    file: 'parse_relation.c',
2025-10-31T21:44:24.464535476Z [err]      at async DatabaseStorage.getHealingTargets (file:///app/dist/index.js:3628:16)
2025-10-31T21:44:24.464536263Z [err]  }
2025-10-31T21:44:24.464542762Z [err]      at async file:///app/dist/index.js:19034:21 {
2025-10-31T21:44:24.464548269Z [err]    length: 107,
2025-10-31T21:44:24.464558470Z [err]    severity: 'ERROR',
2025-10-31T21:44:24.464565786Z [err]    code: '42703',