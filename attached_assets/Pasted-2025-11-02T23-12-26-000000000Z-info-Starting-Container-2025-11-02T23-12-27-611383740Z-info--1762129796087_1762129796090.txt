2025-11-02T23:12:26.000000000Z [info] Starting Container
2025-11-02T23:12:27.611383740Z [info] ======================================
2025-11-02T23:12:27.611384634Z [info] -rw-rw-r--    1 root     root        361403 Nov  2 22:53 package-lock.json
2025-11-02T23:12:27.611396810Z [info] Time: Sun Nov  2 23:12:26 UTC 2025
2025-11-02T23:12:27.611400419Z [info] -rw-rw-r--    1 root     root          4631 Nov  2 22:53 package.json
2025-11-02T23:12:27.611401230Z [info] drwxr-xr-x    1 root     root          4096 Nov  2 23:11 .
2025-11-02T23:12:27.611408012Z [info] Node version: v20.19.5
2025-11-02T23:12:27.611411619Z [info] dr-xr-xr-x    1 root     root          4096 Nov  2 23:12 ..
2025-11-02T23:12:27.611413120Z [info] -rwxr-xr-x    1 root     root          3148 Nov  2 23:10 railway-start.sh
2025-11-02T23:12:27.611420337Z [info] -rw-rw-r--    1 root     root         12632 Nov  2 23:10 replit.md
2025-11-02T23:12:27.611432904Z [info] NPM version: 10.8.2
2025-11-02T23:12:27.611442057Z [info] -rw-rw-r--    1 root     root          6775 Nov  2 23:10 create-healing-tables.sql
2025-11-02T23:12:27.611443196Z [info] 
2025-11-02T23:12:27.611451070Z [info] -rwxr-xr-x    1 root     root          1990 Nov  2 23:10 debug-start.sh
2025-11-02T23:12:27.611456189Z [info] ðŸ“ Current directory: /app
2025-11-02T23:12:27.611466785Z [info] ðŸ“‚ Listing root files:
2025-11-02T23:12:27.611467105Z [info] drwxr-xr-x    3 root     root          4096 Nov  2 23:11 dist
2025-11-02T23:12:27.611477879Z [info] total 432
2025-11-02T23:12:27.611478740Z [info] -rw-rw-r--    1 root     root           325 Nov  2 23:10 drizzle.config.ts
2025-11-02T23:12:27.611488724Z [info] -rw-rw-r--    1 root     root          2168 Nov  2 23:10 drop-old-tables.js
2025-11-02T23:12:27.611489169Z [info] ======================================
2025-11-02T23:12:27.611498191Z [info] drwxr-xr-x    1 root     root          4096 Nov  2 22:53 node_modules
2025-11-02T23:12:27.611501812Z [info] ðŸš‚ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-11-02T23:12:27.618670193Z [info] drwxr-xr-x   13 root     root          4096 Nov  2 23:10 server
2025-11-02T23:12:27.618691126Z [info] drwxr-xr-x    2 root     root          4096 Nov  2 23:10 shared
2025-11-02T23:12:27.618698880Z [info] -rw-rw-r--    1 root     root           960 Nov  2 23:10 tsconfig.json
2025-11-02T23:12:27.618705692Z [info] 
2025-11-02T23:12:27.618712408Z [info] ðŸ” Checking for dist/public directory (frontend)...
2025-11-02T23:12:27.618720868Z [info] âœ… dist/public directory exists (frontend build)
2025-11-02T23:12:27.618727988Z [info] 
2025-11-02T23:12:27.618734740Z [info] ðŸ—‘ï¸ Dropping old tables with incorrect schema...
2025-11-02T23:12:27.618741878Z [info] [DROP-TABLES] Dropping old healing tables with incorrect schema...
2025-11-02T23:12:27.618748800Z [info] [DROP-TABLES] âœ… Dropped healing_messages
2025-11-02T23:12:27.618767594Z [info] [DROP-TABLES] âœ… Dropped healing_conversations
2025-11-02T23:12:27.618774432Z [info] [DROP-TABLES] âœ… Dropped healing_targets
2025-11-02T23:12:27.618783085Z [info] [DROP-TABLES] âœ… Dropped ai_knowledge_base
2025-11-02T23:12:27.618790078Z [info] [DROP-TABLES] âœ… Dropped platform_incident_playbooks
2025-11-02T23:12:27.618797497Z [info] [DROP-TABLES] âœ… Dropped ai_fix_attempts
2025-11-02T23:12:27.618805344Z [info] [DROP-TABLES] âœ… Dropped platform_heal_attempts
2025-11-02T23:12:27.618812851Z [info] [DROP-TABLES] âœ… Dropped platform_healing_sessions
2025-11-02T23:12:27.618820234Z [info] [DROP-TABLES] âœ… Dropped platform_incidents
2025-11-02T23:12:27.618826831Z [info] [DROP-TABLES] âœ… All old tables dropped successfully
2025-11-02T23:12:27.618848978Z [info] 
2025-11-02T23:12:27.618856216Z [info] ðŸ”§ Creating healing tables with correct schema...
2025-11-02T23:12:27.618863545Z [info] âš ï¸ psql not found, using node-postgres...
2025-11-02T23:12:27.618870767Z [info] âœ… Tables created
2025-11-02T23:12:27.618877105Z [info] 
2025-11-02T23:12:27.619042490Z [info] ðŸ”„ Running database migrations with drizzle-kit...
2025-11-02T23:12:27.619049335Z [info] âœ… Added sslmode=no-verify to DATABASE_URL for drizzle-kit
2025-11-02T23:12:27.619056632Z [info] âš ï¸ Skipping drizzle-kit push (Railway deployment - avoiding interactive prompts)
2025-11-02T23:12:27.619078159Z [info] âœ… Database schema ready!
2025-11-02T23:12:27.619086144Z [info] 
2025-11-02T23:12:27.619092513Z [info] ðŸ” Environment Check:
2025-11-02T23:12:27.619099839Z [info] NODE_ENV: production
2025-11-02T23:12:27.619106235Z [info] PORT: 8080
2025-11-02T23:12:27.619113295Z [info] DATABASE_URL: âœ“ SET (hidden for security)
2025-11-02T23:12:27.619119781Z [info] GITHUB_TOKEN: âœ“ SET
2025-11-02T23:12:27.619126316Z [info] GITHUB_REPO: 6-7Development/archetype
2025-11-02T23:12:27.619133266Z [info] GITHUB_BRANCH: main
2025-11-02T23:12:27.619153533Z [info] ANTHROPIC_API_KEY: âœ“ SET
2025-11-02T23:12:27.619162400Z [info] 
2025-11-02T23:12:27.619168730Z [info] ðŸ“„ Ensuring replit.md is available...
2025-11-02T23:12:27.619175086Z [info] âœ… replit.md already present
2025-11-02T23:12:27.619182181Z [info] 
2025-11-02T23:12:27.619188751Z [info] ðŸš€ Starting Node.js application with debug wrapper...
2025-11-02T23:12:27.619195934Z [info] Command: sh debug-start.sh
2025-11-02T23:12:27.619203009Z [info] 
2025-11-02T23:12:27.619209219Z [info] ==========================================
2025-11-02T23:12:27.619732138Z [info] ðŸ” DEBUG MODE - VERBOSE ERROR CAPTURE
2025-11-02T23:12:27.619743894Z [info] ==========================================
2025-11-02T23:12:27.619751847Z [info] 
2025-11-02T23:12:27.619768566Z [info] ðŸ“‹ Step 1: Verify server directory exists...
2025-11-02T23:12:27.619777369Z [info] âœ… server/ directory exists
2025-11-02T23:12:27.619784735Z [info] 
2025-11-02T23:12:27.619795251Z [info] ðŸ“‹ Step 2: Verify server/index.ts exists...
2025-11-02T23:12:27.620969863Z [info] âœ… server/index.ts exists
2025-11-02T23:12:27.620979719Z [info] 
2025-11-02T23:12:27.620986407Z [info] ðŸ“‹ Step 3: Check Node.js and tsx availability...
2025-11-02T23:12:27.620992769Z [info] Node version: v20.19.5
2025-11-02T23:12:27.620999533Z [info] NPM version: 10.8.2
2025-11-02T23:12:27.621005331Z [info] tsx location: /usr/local/bin/npx
2025-11-02T23:12:27.621012053Z [info] 
2025-11-02T23:12:27.621018510Z [info] ðŸ“‹ Step 4: Verify environment variables...
2025-11-02T23:12:27.621025654Z [info] NODE_ENV: production
2025-11-02T23:12:27.621032506Z [info] PORT: 8080
2025-11-02T23:12:27.621038875Z [info] DATABASE_URL: âœ“ SET
2025-11-02T23:12:27.621045086Z [info] 
2025-11-02T23:12:27.621051408Z [info] ðŸ“‹ Step 5: Test tsx can load...
2025-11-02T23:12:29.018855529Z [info] tsx v4.20.5
2025-11-02T23:12:29.800754232Z [info] ðŸ“‹ Step 6: Starting server with tsx...
2025-11-02T23:12:29.800771114Z [info] Command: npx tsx server/index.ts
2025-11-02T23:12:29.800953148Z [info] ==========================================
2025-11-02T23:12:29.800964838Z [info] 
2025-11-02T23:12:29.801781783Z [info] node v20.19.5
2025-11-02T23:12:29.801789428Z [info] âœ… tsx is available
2025-11-02T23:12:29.801796245Z [info] 
2025-11-02T23:12:33.983979545Z [info] [db] Environment: NODE_ENV=production, PORT=8080
2025-11-02T23:12:33.983988228Z [info] [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-11-02T23:12:33.983996663Z [info] [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-11-02T23:12:33.984005020Z [info] [db] SSL Configuration: {rejectUnauthorized:false}
2025-11-02T23:12:33.984013241Z [info] [db] Connection string includes SSL params: true
2025-11-02T23:12:35.498739671Z [info] [PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
2025-11-02T23:12:35.498746214Z [info] [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-11-02T23:12:35.498755955Z [info] [RAILWAY-CONFIG] Production hardening active
2025-11-02T23:12:35.498762505Z [info] [RAILWAY-CONFIG] AI timeout: 480s
2025-11-02T23:12:35.498772170Z [info] [RAILWAY-CONFIG] Memory limit: 512MB
2025-11-02T23:12:35.498778817Z [info] [RAILWAY-CONFIG] Max concurrent AI: 3
2025-11-02T23:12:35.498787543Z [info] [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-11-02T23:12:35.498796258Z [info] ðŸ“¡ WebSocket server initialized at /ws
2025-11-02T23:12:35.498805242Z [info] [PLATFORM-HEALING] Session manager connected to WebSocket
2025-11-02T23:12:35.498813430Z [info] [PLATFORM-HEALING] WebSocket server attached for preview broadcasts
2025-11-02T23:12:35.498821650Z [info] [PLATFORM-HEALING] Platform healing service connected to WebSocket
2025-11-02T23:12:35.498830741Z [info] [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-11-02T23:12:35.498839018Z [info] [HEAL-ORCHESTRATOR] Metrics broadcaster connected
2025-11-02T23:12:35.498845858Z [info] [WEBHOOKS] Webhooks router connected to metrics broadcaster
2025-11-02T23:12:35.498853633Z [info] [LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
2025-11-02T23:12:35.498868651Z [info] [LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
2025-11-02T23:12:35.498878980Z [info] [LOMU-AI] WebSocket server initialized for live preview broadcasts
2025-11-02T23:12:35.498887135Z [info] [LOMU-AI-CHAT] Live preview WebSocket initialized
2025-11-02T23:12:35.498895212Z [info] [WEBHOOKS] Webhooks router mounted at /api/webhooks
2025-11-02T23:12:35.498901800Z [info] âœ… All routes registered successfully
2025-11-02T23:12:35.498915602Z [info] ðŸ” Testing database connection...
2025-11-02T23:12:36.519609529Z [info] 
2025-11-02T23:12:36.519613956Z [info] 
2025-11-02T23:12:36.519630740Z [info] Node.js v20.19.5
2025-11-02T23:12:36.519652322Z [info] Error: Could not find the build directory: /app/server/public, make sure to build the client first
2025-11-02T23:12:36.519665760Z [info]     at Server.emit (node:events:536:35)
2025-11-02T23:12:36.519684719Z [info]     at emitListeningNT (node:net:1951:10)
2025-11-02T23:12:36.519699875Z [info]     at serveStatic (/app/server/vite.ts:45:11)
2025-11-02T23:12:36.519707214Z [info]     at process.processTicksAndRejections (node:internal/process/task_queues:81:21)
2025-11-02T23:12:36.519717826Z [info]     at Server.<anonymous> (/app/server/index.ts:148:7)
2025-11-02T23:12:36.519737981Z [info]     at Object.onceWrapper (node:events:638:28)
2025-11-02T23:12:36.520473433Z [info] 11:12:35 PM [express] serving on port 8080
2025-11-02T23:12:36.520482100Z [info] ðŸŒ Server accessible at http://0.0.0.0:8080
2025-11-02T23:12:36.520488190Z [info] /app/server/vite.ts:45
2025-11-02T23:12:36.520492868Z [info]     throw new Error(
2025-11-02T23:12:36.520497268Z [info]           ^
2025-11-02T23:12:36.520501351Z [info] 