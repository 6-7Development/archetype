2025-11-04T23:29:00.000000000Z [inf]  Starting Container
2025-11-04T23:29:01.316048475Z [inf]  -rw-rw-r--    1 root     root          4631 Nov  4 22:12 package.json
2025-11-04T23:29:01.316059784Z [inf]  drwxr-xr-x    1 root     root          4096 Nov  4 23:27 .
2025-11-04T23:29:01.316061796Z [inf]  -rw-rw-r--    1 root     root          2229 Nov  4 23:27 railway-db-setup.cjs
2025-11-04T23:29:01.316070189Z [inf]  -rwxrwxr-x    1 root     root          2334 Nov  4 23:27 railway-start.sh
2025-11-04T23:29:01.316071064Z [inf]  dr-xr-xr-x    1 root     root          4096 Nov  4 23:28 ..
2025-11-04T23:29:01.316084948Z [inf]  -rwxr-xr-x    1 root     root          1990 Nov  4 23:27 debug-start.sh
2025-11-04T23:29:01.316088414Z [inf]  -rw-rw-r--    1 root     root           325 Nov  4 23:27 drizzle.config.ts
2025-11-04T23:29:01.316099723Z [inf]  drwxr-xr-x    3 root     root          4096 Nov  4 23:27 migrations
2025-11-04T23:29:01.316106993Z [inf]  drwxr-xr-x    1 root     root          4096 Nov  4 22:22 node_modules
2025-11-04T23:29:01.316110024Z [inf]  ======================================
2025-11-04T23:29:01.316114726Z [inf]  -rw-rw-r--    1 root     root        361403 Nov  4 22:22 package-lock.json
2025-11-04T23:29:01.316119873Z [inf]  üöÇ RAILWAY STARTUP SCRIPT - DEBUG MODE
2025-11-04T23:29:01.316133641Z [inf]  ======================================
2025-11-04T23:29:01.316140224Z [inf]  Time: Tue Nov  4 23:29:00 UTC 2025
2025-11-04T23:29:01.316145690Z [inf]  Node version: v20.19.5
2025-11-04T23:29:01.316151450Z [inf]  NPM version: 10.8.2
2025-11-04T23:29:01.316156808Z [inf]  -rw-rw-r--    1 root     root         11606 Nov  4 23:27 replit.md
2025-11-04T23:29:01.316161299Z [inf]  
2025-11-04T23:29:01.316165119Z [inf]  drwxr-xr-x    1 root     root          4096 Nov  4 23:27 server
2025-11-04T23:29:01.316168865Z [inf]  üìÅ Current directory: /app
2025-11-04T23:29:01.316173715Z [inf]  üìÇ Listing root files:
2025-11-04T23:29:01.316180446Z [inf]  total 420
2025-11-04T23:29:01.318609810Z [inf]  drwxr-xr-x    2 root     root          4096 Nov  4 23:27 shared
2025-11-04T23:29:01.318618193Z [inf]  -rw-rw-r--    1 root     root           960 Nov  4 23:27 tsconfig.json
2025-11-04T23:29:01.318624159Z [inf]  
2025-11-04T23:29:01.318628975Z [inf]  üîç Checking for server/public directory (frontend)...
2025-11-04T23:29:01.318636612Z [inf]  ‚úÖ server/public directory exists (frontend build)
2025-11-04T23:29:01.318641265Z [inf]  
2025-11-04T23:29:01.318645649Z [inf]  üîß Running database migration and drift repair...
2025-11-04T23:29:01.318649800Z [inf]  üìã Step 1: Running migration statements individually...
2025-11-04T23:29:01.318654723Z [inf]     Found 148 SQL statements to execute
2025-11-04T23:29:04.342173793Z [inf]     ‚úÖ Migration complete: 0 created, 148 skipped, 0 failed
2025-11-04T23:29:04.342182939Z [inf]  üìã Step 2: Repairing schema drift (adding missing columns)...
2025-11-04T23:29:04.371658468Z [inf]  ‚úÖ Schema drift repaired - all columns present
2025-11-04T23:29:04.383629038Z [inf]  
2025-11-04T23:29:04.383644363Z [inf]  üîÑ Running database migrations with drizzle-kit...
2025-11-04T23:29:04.383652798Z [inf]  ‚úÖ Added sslmode=no-verify to DATABASE_URL for drizzle-kit
2025-11-04T23:29:04.383658770Z [inf]  ‚ö†Ô∏è Skipping drizzle-kit push (Railway deployment - avoiding interactive prompts)
2025-11-04T23:29:04.383664799Z [inf]  ‚úÖ Database schema ready!
2025-11-04T23:29:04.383671095Z [inf]  
2025-11-04T23:29:04.383676995Z [inf]  üîç Environment Check:
2025-11-04T23:29:04.383682534Z [inf]  NODE_ENV: production
2025-11-04T23:29:04.383688204Z [inf]  PORT: 8080
2025-11-04T23:29:04.383694063Z [inf]  DATABASE_URL: ‚úì SET (hidden for security)
2025-11-04T23:29:04.383700971Z [inf]  GITHUB_TOKEN: ‚úì SET
2025-11-04T23:29:04.383706053Z [inf]  GITHUB_REPO: 6-7Development/archetype
2025-11-04T23:29:04.383711088Z [inf]  GITHUB_BRANCH: main
2025-11-04T23:29:04.383718002Z [inf]  ANTHROPIC_API_KEY: ‚úì SET
2025-11-04T23:29:04.383723505Z [inf]  
2025-11-04T23:29:04.383728660Z [inf]  üìÑ Ensuring replit.md is available...
2025-11-04T23:29:04.383735116Z [inf]  ‚úÖ replit.md already present
2025-11-04T23:29:04.383741099Z [inf]  
2025-11-04T23:29:04.383746055Z [inf]  üöÄ Starting Node.js application with debug wrapper...
2025-11-04T23:29:04.383751864Z [inf]  Command: sh debug-start.sh
2025-11-04T23:29:04.383757324Z [inf]  
2025-11-04T23:29:04.383762225Z [inf]  ==========================================
2025-11-04T23:29:04.383772256Z [inf]  üîç DEBUG MODE - VERBOSE ERROR CAPTURE
2025-11-04T23:29:04.383777582Z [inf]  ==========================================
2025-11-04T23:29:04.383783719Z [inf]  
2025-11-04T23:29:04.383789969Z [inf]  üìã Step 1: Verify server directory exists...
2025-11-04T23:29:04.383796389Z [inf]  ‚úÖ server/ directory exists
2025-11-04T23:29:04.383802923Z [inf]  
2025-11-04T23:29:04.383808262Z [inf]  üìã Step 2: Verify server/index.ts exists...
2025-11-04T23:29:04.386567571Z [inf]  ‚úÖ server/index.ts exists
2025-11-04T23:29:04.386573959Z [inf]  
2025-11-04T23:29:04.386578942Z [inf]  üìã Step 3: Check Node.js and tsx availability...
2025-11-04T23:29:04.389396173Z [inf]  Node version: v20.19.5
2025-11-04T23:29:04.547954364Z [inf]  NPM version: 10.8.2
2025-11-04T23:29:04.547963063Z [inf]  tsx location: /usr/local/bin/npx
2025-11-04T23:29:04.547970106Z [inf]  
2025-11-04T23:29:04.547977560Z [inf]  üìã Step 4: Verify environment variables...
2025-11-04T23:29:04.547983592Z [inf]  NODE_ENV: production
2025-11-04T23:29:04.547989845Z [inf]  PORT: 8080
2025-11-04T23:29:04.547997807Z [inf]  DATABASE_URL: ‚úì SET
2025-11-04T23:29:04.548003940Z [inf]  
2025-11-04T23:29:04.548009607Z [inf]  üìã Step 5: Test tsx can load...
2025-11-04T23:29:05.386277700Z [inf]  tsx v4.20.5
2025-11-04T23:29:05.391504477Z [inf]  node v20.19.5
2025-11-04T23:29:05.414198720Z [inf]  ‚úÖ tsx is available
2025-11-04T23:29:05.414205164Z [inf]  
2025-11-04T23:29:05.414210787Z [inf]  üìã Step 6: Starting server with tsx...
2025-11-04T23:29:05.414216699Z [inf]  Command: npx tsx server/index.ts
2025-11-04T23:29:05.414223370Z [inf]  ==========================================
2025-11-04T23:29:05.414229869Z [inf]  
2025-11-04T23:29:09.491143913Z [inf]  [PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
2025-11-04T23:29:09.491307127Z [inf]  [db] Environment: NODE_ENV=production, PORT=8080
2025-11-04T23:29:09.491312436Z [inf]  [db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
2025-11-04T23:29:09.491317932Z [inf]  [db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
2025-11-04T23:29:09.491324848Z [inf]  [db] SSL Configuration: {"rejectUnauthorized":false}
2025-11-04T23:29:09.491329712Z [inf]  [db] Connection string includes SSL params: true
2025-11-04T23:29:09.639177299Z [inf]  [PLATFORM-HEALING] PROJECT_ROOT: /app
2025-11-04T23:29:09.651412974Z [inf]  [RAILWAY-CONFIG] Production hardening active
2025-11-04T23:29:09.651418977Z [inf]  [RAILWAY-CONFIG] AI timeout: 480s
2025-11-04T23:29:09.651424815Z [inf]  [RAILWAY-CONFIG] Memory limit: 512MB
2025-11-04T23:29:09.654790381Z [inf]  [RAILWAY-CONFIG] Max concurrent AI: 3
2025-11-04T23:29:09.654796850Z [inf]  [AI-HEALING] Anthropic Claude initialized for Tier 3 (I AM Architect)
2025-11-04T23:29:09.722753640Z [inf]  [PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
2025-11-04T23:29:09.734627322Z [inf]  üì° WebSocket server initialized at /ws
2025-11-04T23:29:09.739539072Z [inf]  [PLATFORM-HEALING] Session manager connected to WebSocket
2025-11-04T23:29:09.739556304Z [inf]  [PLATFORM-HEALING] WebSocket server attached for preview broadcasts
2025-11-04T23:29:09.739567946Z [inf]  [PLATFORM-HEALING] Platform healing service connected to WebSocket
2025-11-04T23:29:09.769900648Z [inf]  [PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
2025-11-04T23:29:09.774309236Z [inf]  [HEAL-ORCHESTRATOR] Metrics broadcaster connected
2025-11-04T23:29:09.774315515Z [inf]  [WEBHOOKS] Webhooks router connected to metrics broadcaster
2025-11-04T23:29:10.487594331Z [inf]  [ARCHITECT-GUIDANCE] I AM Architect initialized for real-time guidance
2025-11-04T23:29:10.487606359Z [inf]  [LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
2025-11-04T23:29:10.487615406Z [inf]  [LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
2025-11-04T23:29:10.487622845Z [inf]  [LOMU-AI] WebSocket server initialized for live preview broadcasts
2025-11-04T23:29:10.487629795Z [inf]  [LOMU-AI-CHAT] Live preview WebSocket initialized
2025-11-04T23:29:10.487637270Z [inf]  [TERMINAL-ROUTES] Registering WebSocket terminal handler
2025-11-04T23:29:10.487644210Z [inf]  [TERMINAL] Terminal WebSocket routes registered
2025-11-04T23:29:10.487650437Z [inf]  [WEBHOOKS] Webhooks router mounted at /api/webhooks
2025-11-04T23:29:10.487657162Z [inf]  [GIT] Git router mounted
2025-11-04T23:29:10.487663819Z [inf]  [DEPLOYMENTS] Routes registered successfully
2025-11-04T23:29:10.487669950Z [inf]  ‚úÖ All routes registered successfully
2025-11-04T23:29:10.487676366Z [inf]  üîç Testing database connection...
2025-11-04T23:29:10.487683054Z [inf]  11:29:10 PM [express] serving on port 8080
2025-11-04T23:29:10.487690273Z [inf]  üåê Server accessible at http://0.0.0.0:8080
2025-11-04T23:29:10.487696541Z [inf]  ‚úÖ Database connected successfully
2025-11-04T23:29:10.487703169Z [inf]  üí° Auto-healing system DISABLED (users trigger manually via UI)
2025-11-04T23:29:10.487710316Z [inf]     üë• Users pay for their own AI tokens when using Platform Healing
2025-11-04T23:29:10.487717761Z [inf]  [HEALTH-MONITOR] Starting platform health monitoring...
2025-11-04T23:29:10.487724385Z [inf]  [HEALTH-MONITOR] Failed to load open incidents: error: column "incident_category" does not exist
2025-11-04T23:29:10.487731320Z [inf]      at /app/node_modules/pg-pool/index.js:45:11
2025-11-04T23:29:10.487738986Z [inf]      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-04T23:29:10.490307240Z [inf]      at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
2025-11-04T23:29:10.490311886Z [inf]      at async PlatformHealthMonitor.loadOpenIncidents (/app/server/services/healthMonitor.ts:64:25)
2025-11-04T23:29:10.490317532Z [inf]      at async PlatformHealthMonitor.start (/app/server/services/healthMonitor.ts:38:5)
2025-11-04T23:29:10.490322394Z [inf]      at async <anonymous> (/app/server/index.ts:185:3) {
2025-11-04T23:29:10.490327002Z [inf]    length: 117,
2025-11-04T23:29:10.490331314Z [inf]    severity: 'ERROR',
2025-11-04T23:29:10.490335491Z [inf]    code: '42703',
2025-11-04T23:29:10.490339924Z [inf]    detail: undefined,
2025-11-04T23:29:10.490345265Z [inf]    hint: undefined,
2025-11-04T23:29:10.490352047Z [inf]    position: '58',
2025-11-04T23:29:10.490393041Z [inf]    internalPosition: undefined,
2025-11-04T23:29:10.490399122Z [inf]    internalQuery: undefined,
2025-11-04T23:29:10.490403048Z [inf]    where: undefined,
2025-11-04T23:29:10.490409149Z [inf]    schema: undefined,
2025-11-04T23:29:10.490413289Z [inf]    table: undefined,
2025-11-04T23:29:10.490418231Z [inf]    column: undefined,
2025-11-04T23:29:10.490422591Z [inf]    dataType: undefined,
2025-11-04T23:29:10.490426847Z [inf]    constraint: undefined,
2025-11-04T23:29:10.490432092Z [inf]    file: 'parse_relation.c',
2025-11-04T23:29:10.490436429Z [inf]    line: '3716',
2025-11-04T23:29:10.490441547Z [inf]    routine: 'errorMissingColumn'
2025-11-04T23:29:10.490446071Z [inf]  }
2025-11-04T23:29:10.490451275Z [inf]  [HEALTH-MONITOR] Monitoring started
2025-11-04T23:29:10.490456582Z [inf]  [HEAL-ORCHESTRATOR] Starting autonomous healing orchestrator...
2025-11-04T23:29:10.490462151Z [inf]  [HEAL-ORCHESTRATOR] Orchestrator started
2025-11-04T23:29:10.490467572Z [inf]  [MEMORY-MONITOR] Starting memory monitoring
2025-11-04T23:29:10.490472175Z [inf]  [MEMORY-MONITOR] Warning threshold: 400MB
2025-11-04T23:29:10.491601535Z [inf]  [RAILWAY] Graceful shutdown handler registered (SIGTERM)
2025-11-04T23:29:10.491628156Z [inf]     - Maintenance mode: Available for owner
2025-11-04T23:29:10.491631574Z [inf]  [MEMORY-MONITOR] Container limit: 512MB
2025-11-04T23:29:10.491635922Z [inf]  
2025-11-04T23:29:10.491640263Z [inf]  [MEMORY-MONITOR] Active - checking every 30s
2025-11-04T23:29:10.491648960Z [inf]  
2025-11-04T23:29:10.491649401Z [inf]     - Repository: 6-7Development/archetype
2025-11-04T23:29:10.491657158Z [inf]     - Branch: main
2025-11-04T23:29:10.491658215Z [inf]  üîç Checking GitHub integration configuration...
2025-11-04T23:29:10.491664416Z [inf]     - Token: ‚úì (configured)
2025-11-04T23:29:10.491668633Z [inf]  ‚úÖ GitHub integration configured successfully
2025-11-04T23:29:10.491671449Z [inf]     - Owner User ID: Not set (owner must be manually marked in database)
2025-11-04T23:29:49.861859042Z [inf]  [MEMORY] Heap: 72MB | RSS: 164MB | Usage: 32%
2025-11-04T23:30:19.864806168Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:30:49.867661113Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:31:19.419904746Z [inf]  [MEMORY] Heap: 71MB | RSS: 150MB | Usage: 29%
2025-11-04T23:31:49.428911603Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:32:19.473712507Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:32:48.986532016Z [inf]  [MEMORY] Heap: 72MB | RSS: 150MB | Usage: 29%
2025-11-04T23:33:19.136447749Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:33:49.160843381Z [inf]  [MEMORY] Heap: 72MB | RSS: 150MB | Usage: 29%
2025-11-04T23:34:18.666376753Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:34:48.662839732Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:35:18.145101813Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:35:48.147825491Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:36:17.522483030Z [inf]  [MEMORY] Heap: 72MB | RSS: 151MB | Usage: 29%
2025-11-04T23:36:47.531142232Z [inf]  [MEMORY] Heap: 72MB | RSS: 150MB | Usage: 29%
2025-11-04T23:37:17.094250660Z [inf]  [MEMORY] Heap: 73MB | RSS: 151MB | Usage: 29%
2025-11-04T23:37:47.114642720Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:38:17.119029411Z [inf]  [MEMORY] Heap: 72MB | RSS: 149MB | Usage: 29%
2025-11-04T23:38:47.280656442Z [inf]  [MEMORY] Heap: 72MB | RSS: 149MB | Usage: 29%
2025-11-04T23:39:17.529514202Z [inf]  [CACHE] Stats: {
2025-11-04T23:39:17.529519944Z [inf]    user: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-11-04T23:39:17.529525038Z [inf]    project: { size: 0, maxSize: 1000, hits: 0, misses: 0, hitRate: '0.00%' },
2025-11-04T23:39:17.529529873Z [inf]    subscription: { size: 0, maxSize: 500, hits: 0, misses: 0, hitRate: '0.00%' },
2025-11-04T23:39:17.529534561Z [inf]    response: { size: 0, maxSize: 200, hits: 0, misses: 0, hitRate: '0.00%' }
2025-11-04T23:39:17.529539085Z [inf]  }
2025-11-04T23:39:17.529544124Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:39:47.676093856Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:40:17.200870033Z [inf]  [MEMORY] Heap: 73MB | RSS: 151MB | Usage: 29%
2025-11-04T23:40:47.205091334Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:41:17.158347617Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:41:47.168645218Z [inf]  [MEMORY] Heap: 73MB | RSS: 151MB | Usage: 29%
2025-11-04T23:42:16.725523177Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:42:46.789167950Z [inf]  [MEMORY] Heap: 73MB | RSS: 149MB | Usage: 29%
2025-11-04T23:43:16.815850046Z [inf]  [MEMORY] Heap: 73MB | RSS: 149MB | Usage: 29%
2025-11-04T23:43:46.977827748Z [inf]  [MEMORY] Heap: 73MB | RSS: 149MB | Usage: 29%
2025-11-04T23:44:16.575908182Z [inf]  [MEMORY] Heap: 74MB | RSS: 150MB | Usage: 29%
2025-11-04T23:44:46.603889498Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:45:16.696837115Z [inf]  [MEMORY] Heap: 73MB | RSS: 150MB | Usage: 29%
2025-11-04T23:45:16.977141240Z [inf]  [DEPLOYMENT-INFO] Using Railway environment variables
2025-11-04T23:45:16.979477959Z [inf]  11:45:16 PM [express] GET /api/deployment-info 200 in 3ms :: {"version":"1.0.0","commitHash":"1643643‚Ä¶
2025-11-04T23:45:16.986776579Z [inf]  11:45:16 PM [express] GET /api/auth/me 304 in 10ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef95‚Ä¶
2025-11-04T23:45:20.888917014Z [inf]  [AUTH] Login attempt for email: root@getdc360.com
2025-11-04T23:45:20.892159596Z [inf]  [AUTH] Found users: 1
2025-11-04T23:45:20.892170018Z [inf]  [AUTH] User found: root@getdc360.com has password: true
2025-11-04T23:45:20.892177775Z [inf]  [AUTH] Verifying password...
2025-11-04T23:45:21.155275318Z [inf]  [AUTH] Password valid: true
2025-11-04T23:45:21.155286566Z [inf]  [AUTH] Authentication successful for: root@getdc360.com
2025-11-04T23:45:21.167114158Z [inf]  11:45:21 PM [express] POST /api/auth/login 200 in 281ms :: {"success":true,"user":{"id":"723e1301-c72‚Ä¶
2025-11-04T23:45:21.866655293Z [inf]  11:45:21 PM [express] GET /api/projects 304 in 128ms :: []
2025-11-04T23:45:21.871414533Z [inf]  11:45:21 PM [express] GET /api/auth/me 304 in 126ms :: {"user":{"id":"723e1301-c729-48fc-810a-39ddef9‚Ä¶
2025-11-04T23:45:22.871607704Z [inf]  11:45:22 PM [express] GET /api/healing/targets 304 in 13ms :: [{"id":"093abb1c-2699-45b4-acd7-fecf877‚Ä¶
2025-11-04T23:45:25.091808820Z [inf]  11:45:25 PM [express] GET /api/healing/conversations/093abb1c-2699-45b4-acd7-fecf87731238 304 in 14ms‚Ä¶
2025-11-04T23:45:25.169565920Z [inf]  11:45:25 PM [express] GET /api/healing/messages/227c165d-7f9f-46fc-b6e6-325d2b77fc60 304 in 12ms :: [‚Ä¶
2025-11-04T23:45:29.669615732Z [inf]  11:45:29 PM [express] DELETE /api/healing/messages/227c165d-7f9f-46fc-b6e6-325d2b77fc60 200 in 9ms ::‚Ä¶
2025-11-04T23:45:29.689537619Z [inf]  11:45:29 PM [express] GET /api/healing/messages/227c165d-7f9f-46fc-b6e6-325d2b77fc60 200 in 7ms :: []
2025-11-04T23:45:49.312891900Z [inf]  [MEMORY] Heap: 75MB | RSS: 152MB | Usage: 30%
2025-11-04T23:46:09.312852748Z [inf]  [HEALING-CHAT] User message received: {
2025-11-04T23:46:09.312859250Z [inf]    conversationId: '227c165d-7f9f-46fc-b6e6-325d2b77fc60',
2025-11-04T23:46:09.312865573Z [inf]    contentLength: 86
2025-11-04T23:46:09.312873438Z [inf]  }
2025-11-04T23:46:09.312881543Z [inf]  [HEALING-CHAT] User message saved to database
2025-11-04T23:46:09.312887587Z [inf]  [HEALING-CHAT] Loaded 1 messages from history (last 10)
2025-11-04T23:46:09.312894106Z [inf]  ü§ñ [HEALING-CHAT] Starting Gemini conversation with 1 messages...
2025-11-04T23:46:09.312901051Z [inf]  [HEALING-CHAT] üîÑ Iteration 1/5
2025-11-04T23:46:09.312906957Z [inf]  [GEMINI-TOOLS] ‚úÖ Converted 3 tools for Gemini (first 3: read_platform_file, write_platform_file, search_platform_files...)
2025-11-04T23:46:09.312913504Z [inf]  [GEMINI-TOOLS] Structure check: {
2025-11-04T23:46:09.312919715Z [inf]    "name": "read_platform_file",
2025-11-04T23:46:09.312927524Z [inf]    "description": "Read a file from the platform codebase",
2025-11-04T23:46:09.312934019Z [inf]    "parameters": {
2025-11-04T23:46:09.312944820Z [inf]      "type": "object",
2025-11-04T23:46:09.312951905Z [inf]      "properties": {
2025-11-04T23:46:09.312957533Z [inf]        "file_path": {
2025-11-04T23:46:09.312963405Z [inf]          "type": "string",
2025-11-04T23:46:09.312969911Z [inf]  
2025-11-04T23:46:09.312976028Z [inf]  [GEMINI-TOOLS] üîß Gemini requested tool: search_platform_files
2025-11-04T23:46:09.312982598Z [inf]  [GEMINI-TOOLS] Tool args: {"pattern":"Lomu Mascot"}
2025-11-04T23:46:09.312988520Z [inf]  [HEALING-CHAT] ‚úÖ Search found 0 files for pattern: Lomu Mascot
2025-11-04T23:46:09.312994238Z [inf]  [HEALING-CHAT] üíæ Saved tool results (iteration 1)
2025-11-04T23:46:09.313000495Z [inf]  [HEALING-CHAT] üîÑ Iteration 2/5
2025-11-04T23:46:09.313006161Z [inf]  [GEMINI-TOOLS] ‚úÖ Converted 3 tools for Gemini (first 3: read_platform_file, write_platform_file, search_platform_files...)
2025-11-04T23:46:09.316229750Z [inf]  [HEALING-CHAT] ‚úÖ Gemini completed in 2 iterations
2025-11-04T23:46:09.316240850Z [inf]  ‚úÖ [HEALING-CHAT] Total: 2284ms, 170 chars, 719 input tokens, 54 output tokens
2025-11-04T23:46:09.316246533Z [inf]  [HEALING-CHAT] üíæ Final assistant message saved to database
2025-11-04T23:46:09.316252713Z [inf]  [HEALING-CHAT] üìà Usage tracked successfully
2025-11-04T23:46:09.316256101Z [inf]  [GEMINI-TOOLS] Structure check: {
2025-11-04T23:46:09.316259066Z [inf]  11:46:08 PM [express] POST /api/healing/messages 200 in 2411ms :: {"userMessage":{"id":"2f3687bc-3c6f‚Ä¶
2025-11-04T23:46:09.316265199Z [inf]    "name": "read_platform_file",
2025-11-04T23:46:09.316268925Z [inf]  11:46:08 PM [express] GET /api/healing/messages/227c165d-7f9f-46fc-b6e6-325d2b77fc60 200 in 105ms :: ‚Ä¶
2025-11-04T23:46:09.316274221Z [inf]    "description": "Read a file from the platform codebase",
2025-11-04T23:46:09.316275827Z [inf]  [LOMU-AI-CHAT] Stream request received
2025-11-04T23:46:09.316282664Z [inf]  [LOMU-AI-CHAT] Message: Remove all Lomu Mascot Refrerences chat bubbles et Attachments: 0 UserId: 723e1301-c729-48fc-810a-39ddef954ae2 ProjectId: platform code
2025-11-04T23:46:09.316283774Z [inf]    "parameters": {
2025-11-04T23:46:09.316288850Z [inf]  [LOMU-AI-CHAT] Stream registered for user: 723e1301-c729-48fc-810a-39ddef954ae2
2025-11-04T23:46:09.316293565Z [inf]      "type": "object",
2025-11-04T23:46:09.316298192Z [inf]  [LOMU-AI-CHAT] Setting up SSE headers
2025-11-04T23:46:09.316302493Z [inf]      "properties": {
2025-11-04T23:46:09.316307355Z [inf]  [LOMU-AI-CHAT] Heartbeat started - will send keepalive every 15s
2025-11-04T23:46:09.316311961Z [inf]        "file_path": {
2025-11-04T23:46:09.316317686Z [inf]  [LOMU-AI-CHAT] Stream timeout set - will force close after 5 minutes
2025-11-04T23:46:09.316322738Z [inf]          "type": "string",
2025-11-04T23:46:09.316331991Z [inf]  
2025-11-04T23:46:09.319200162Z [inf]  [GEMINI-WRAPPER] Safety margin: 939,947 tokens
2025-11-04T23:46:09.319207020Z [inf]  [LOMU-AI-CHAT] Entering try block
2025-11-04T23:46:09.319212319Z [inf]  [GEMINI-TOOLS] ‚úÖ Converted 37 tools for Gemini (first 3: start_subagent, createTaskList, readTaskList...)
2025-11-04T23:46:09.319220609Z [inf]  [LOMU-AI-CHAT] User autonomy level: max
2025-11-04T23:46:09.319223920Z [inf]  [GEMINI-TOOLS] Structure check: {
2025-11-04T23:46:09.319230115Z [inf]  [CONVERSATION-STATE] üéØ Updated goal for state b06f9865-ef4c-459c-9b5f-732e272dcc67: "platform advise when done"
2025-11-04T23:46:09.319232371Z [inf]    "name": "start_subagent",
2025-11-04T23:46:09.319240691Z [inf]  [CONVERSATION-STATE] Updated from user message: b06f9865-ef4c-459c-9b5f-732e272dcc67
2025-11-04T23:46:09.319241732Z [inf]    "description": "Delegate complex multi-file work to sub-agents. Supports parallel execution (max 2 concurrent per user).",
2025-11-04T23:46:09.319251449Z [inf]  [GEMINI-WRAPPER] Original context size:
2025-11-04T23:46:09.319260371Z [inf]    - System prompt: 8,679 tokens
2025-11-04T23:46:09.319265917Z [inf]    - Messages: 5 messages, 1,374 tokens
2025-11-04T23:46:09.319270680Z [inf]    - Total: 10,053 tokens
2025-11-04T23:46:09.319275422Z [inf]    - Limit: 950,000 tokens (50K safety margin)
2025-11-04T23:46:09.319280939Z [inf]  [GEMINI-WRAPPER] ‚úÖ Within limits (10,053 / 950,000 tokens)
2025-11-04T23:46:09.319286825Z [inf]  [GEMINI-WRAPPER] Safety margin: 939,947 tokens remaining
2025-11-04T23:46:09.319291918Z [inf]  [GEMINI-WRAPPER] ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-11-04T23:46:09.319296721Z [inf]  [GEMINI-WRAPPER] ‚úÖ NO TRUNCATION NEEDED
2025-11-04T23:46:09.319301964Z [inf]  [GEMINI-WRAPPER] ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-11-04T23:46:09.319306886Z [inf]  [GEMINI-WRAPPER] Total tokens: 10,053 / 950,000
2025-11-04T23:46:09.321315254Z [inf]    "parameters": {
2025-11-04T23:46:09.321325812Z [inf]      "type": "object",
2025-11-04T23:46:09.321331606Z [inf]      "
2025-11-04T23:46:10.458569509Z [inf]  [MEMORY] Heap: 79MB | RSS: 156MB | Usage: 30%
2025-11-04T23:46:12.427845233Z [inf]  [LOMU-AI] Response has tool calls: false
2025-11-04T23:46:12.427858184Z [inf]  [LOMU-AI] Content blocks: 
2025-11-04T23:46:12.429650890Z [inf]  [LOMU-AI-FORCE] === ITERATION 1 CHECK ===
2025-11-04T23:46:12.429658548Z [inf]  [LOMU-AI-FORCE] Tools called this iteration: NONE
2025-11-04T23:46:12.429665019Z [inf]  [LOMU-AI-CONTINUATION] Iteration 1: No tool calls, checking if should continue...
2025-11-04T23:46:12.429672398Z [inf]  [LOMU-AI-CONTINUATION] Active task list ID: none
2025-11-04T23:46:12.429679582Z [inf]  [LOMU-AI-CONTINUATION] Consecutive empty iterations: 1/3
2025-11-04T23:46:12.429688904Z [inf]  [LOMU-AI-CONTINUATION] No task list - ending session naturally
2025-11-04T23:46:12.438772620Z [inf]  [WORKFLOW-TELEMETRY] Git status check failed: Command failed: git status --porcelain
2025-11-04T23:46:12.438784756Z [inf]  fatal: not a git repository (or any of the parent directories): .git
2025-11-04T23:46:12.438792299Z [inf]  
2025-11-04T23:46:12.438798563Z [inf]  [WORKFLOW-VALIDATION] Job completed with 0 code-modifying operations
2025-11-04T23:46:12.438805251Z [inf]  [WORKFLOW-VALIDATION] Has produced fixes: false
2025-11-04T23:46:12.438813109Z [inf]  [WORKFLOW-VALIDATION] üö® ZERO-MUTATION JOB FAILURE - Fix request with no code modifications
2025-11-04T23:46:12.438822259Z [inf]  [WORKFLOW-VALIDATION] Read operations: 0, Code modifications: 0
2025-11-04T23:46:12.438829783Z [inf]  [WORKFLOW-VALIDATION] Message: "Remove all Lomu Mascot Refrerences chat bubbles etc.. update platform advise when done..."
2025-11-04T23:46:12.439982412Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: ‚ùå ZERO-MUTATION FAILURE: Remove all Lomu Mascot Refrerences chat bubbles etc.. update platform advise when done - failure
2025-11-04T23:46:12.446604274Z [inf]  [WORKFLOW-VALIDATION] Failed to create incident: column "incident_category" of relation "platform_incidents" does not exist
2025-11-04T23:46:12.458434442Z [inf]  [LOMU-AI-CLEANUP] ‚ÑπÔ∏è No task list in this session (task tracking is optional)
2025-11-04T23:46:12.464110419Z [inf]  [AUDIT] heal by user 723e1301-c729-48fc-810a-39ddef954ae2: LomuAI chat: Remove all Lomu Mascot Refrerences chat bubbles etc.. update platform advise when done - success
2025-11-04T23:46:12.464122490Z [inf]  [LOMU-AI-CHAT] Stream unregistered for user: 723e1301-c729-48fc-810a-39ddef954ae2
2025-11-04T23:46:12.464130179Z [inf]  [LOMU-AI-CHAT] Stream timeout cleared
2025-11-04T23:46:12.465763207Z [inf]  [LOMU-AI-HEARTBEAT] Cleared on stream end
2025-11-04T23:46:12.465774035Z [inf]  [LOMU-AI-QUALITY] Analyzing response quality (background)...
2025-11-04T23:46:12.469333902Z [inf]  [LOMU-AI-QUALITY] Quality score: 100/100
2025-11-04T23:46:12.469345080Z [inf]  [LOMU-AI-QUALITY] Is poor quality: false
2025-11-04T23:46:12.469351721Z [inf]  [LOMU-AI-QUALITY] Should escalate: false
2025-11-04T23:46:12.469358001Z [inf]  [LOMU-AI-QUALITY] ‚úÖ Response quality is acceptable
2025-11-04T23:46:12.469366198Z [inf]  11:46:12 PM [express] POST /api/lomu-ai/stream 200 in 3586ms
2025-11-04T23:46:13.176631826Z [inf]  [HEALING-CHAT] User message received: {
2025-11-04T23:46:13.176730840Z [inf]    conversationId: '227c165d-7f9f-46fc-b6e6-325d2b77fc60',
2025-11-04T23:46:13.176732742Z [inf]  [GEMINI-TOOLS] Structure check: {
2025-11-04T23:46:13.176739145Z [inf]    contentLength: 517
2025-11-04T23:46:13.176745699Z [inf]    "name": "read_platform_file",
2025-11-04T23:46:13.176750510Z [inf]        "file_path": {
2025-11-04T23:46:13.176752667Z [inf]  }
2025-11-04T23:46:13.176759528Z [inf]    "description": "Read a file from the platform codebase",
2025-11-04T23:46:13.176763476Z [inf]  [HEALING-CHAT] User message saved to database
2025-11-04T23:46:13.176765927Z [inf]          "type": "string",
2025-11-04T23:46:13.176770909Z [inf]    "parameters": {
2025-11-04T23:46:13.176780417Z [inf]      "type": "object",
2025-11-04T23:46:13.176783754Z [inf]  [HEALING-CHAT] Loaded 5 messages from history (last 10)
2025-11-04T23:46:13.176786516Z [inf]  [HEALING-CHAT] ‚úÖ Gemini completed in 1 iterations
2025-11-04T23:46:13.176794417Z [inf]  ü§ñ [HEALING-CHAT] Starting Gemini conversation with 5 messages...
2025-11-04T23:46:13.176802578Z [inf]  ‚úÖ [HEALING-CHAT] Total: 497ms, 1 chars, 596 input tokens, 1 output tokens
2025-11-04T23:46:13.176806054Z [inf]  [HEALING-CHAT] üîÑ Iteration 1/5
2025-11-04T23:46:13.176812551Z [inf]  [GEMINI-TOOLS] ‚úÖ Converted 3 tools for Gemini (first 3: read_platform_file, write_platform_file, search_platform_files...)
2025-11-04T23:46:13.176817030Z [inf]  
2025-11-04T23:46:13.176836399Z [inf]      "properties": {
2025-11-04T23:46:13.177155095Z [inf]  [HEALING-CHAT] üíæ Final assistant message saved to database
2025-11-04T23:46:13.177171880Z [inf]  [HEALING-CHAT] üìà Usage tracked successfully
2025-11-04T23:46:13.180985463Z [inf]  11:46:13 PM [express] POST /api/healing/messages 200 in 558ms :: {"userMessage":{"id":"791f6eac-cea3-‚Ä¶
2025-11-04T23:46:13.180996170Z [inf]  11:46:13 PM [express] GET /api/healing/messages/227c165d-7f9f-46fc-b6e6-325d2b77fc60 200 in 20ms :: [‚Ä¶