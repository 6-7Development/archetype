Starting Container
======================================
üöÇ RAILWAY STARTUP SCRIPT - DEBUG MODE
======================================
Time: Wed Oct 29 23:59:20 UTC 2025
Node version: v20.19.5
drwxr-xr-x    1 root     root          4096 Oct 29 23:48 node_modules
-rw-rw-r--    1 root     root        352670 Oct 29 23:48 package-lock.json
-rw-rw-r--    1 root     root          4529 Oct 29 23:48 package.json
-rwxrwxr-x    1 root     root          1865 Oct 29 23:58 railway-start.sh
-rw-rw-r--    1 root     root         10299 Oct 29 23:58 replit.md
NPM version: 10.8.2
drwxr-xr-x   11 root     root          4096 Oct 29 23:58 server
drwxr-xr-x    2 root     root          4096 Oct 29 23:58 shared
-rw-rw-r--    1 root     root           657 Oct 29 23:58 tsconfig.json
üìÅ Current directory: /app
üìÇ Listing root files:
total 404
drwxr-xr-x    1 root     root          4096 Oct 29 23:58 .
dr-xr-xr-x    1 root     root          4096 Oct 29 23:59 ..
drwxr-xr-x    3 root     root          4096 Oct 29 23:49 dist
-rw-rw-r--    1 root     root           325 Oct 29 23:58 drizzle.config.ts
drwxr-xr-x    3 root     root          4096 Oct 29 23:49 .
drwxr-xr-x    1 root     root          4096 Oct 29 23:58 ..
-rw-r--r--    1 root     root        676839 Oct 29 23:49 index.js
üîç Checking for dist directory...
drwxr-xr-x    3 root     root          4096 Oct 29 23:49 public
‚úÖ dist directory exists
‚úÖ dist/index.js found
üìÇ Contents:
total 676
üîÑ Running database migrations with drizzle-kit...
No config path provided, using default 'drizzle.config.ts'
Reading config file '/app/drizzle.config.ts'
Using 'pg' driver for database querying
[‚£∑] Pulling schema from database...
[‚£Ø] Pulling schema from database...
[‚£ü] Pulling schema from database...
[‚°ø] Pulling schema from database...
[‚¢ø] Pulling schema from database...
[‚£ª] Pulling schema from database...
[‚£Ω] Pulling schema from database...
[‚£∑] Pulling schema from database...
[‚£Ø] Pulling schema from database...
[‚£ü] Pulling schema from database...
[‚°ø] Pulling schema from database...
[‚¢ø] Pulling schema from database...
[‚£ª] Pulling schema from database...
[‚£Ω] Pulling schema from database...
[‚£∑] Pulling schema from database...
[‚£Ø] Pulling schema from database...
[‚£ü] Pulling schema from database...
[‚°ø] Pulling schema from database...
[‚¢ø] Pulling schema from database...
[‚£ª] Pulling schema from database...
[‚úì] Pulling schema from database...
[i] No changes detected
‚úÖ Database migrations completed successfully!
üîç Environment Check:
NODE_ENV: production
PORT: 8080
DATABASE_URL: ‚úì SET (hidden for security)
GITHUB_TOKEN: ‚úì SET
GITHUB_REPO: 6-7Development/archetype
GITHUB_BRANCH: main
ANTHROPIC_API_KEY: ‚úì SET
üìÑ Ensuring replit.md is available...
‚úÖ replit.md already present
üöÄ Starting Node.js application...
Command: node dist/index.js
[db] ‚úÖ Added sslmode=no-verify to connection string for production
[db] Environment: NODE_ENV=production, PORT=8080
[db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
[db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
[db] SSL Configuration: {"rejectUnauthorized":false}
[db] Connection string includes SSL params: true
[PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
[PLATFORM-HEALING] PROJECT_ROOT: /app
[PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
üì° WebSocket server initialized at /ws
[PLATFORM-HEALING] Session manager connected to WebSocket
[PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
[META-SYSOP-JOB-MANAGER] Initialized with WebSocket support
[META-SYSOP-JOB-MANAGER] Job manager connected to WebSocket
‚úÖ All routes registered successfully
üîç Testing database connection...
11:59:27 PM [express] serving on port 8080
üåê Server accessible at http://0.0.0.0:8080
‚úÖ Database connected successfully
üîß Auto-healing system ENABLED (production mode)
üîç Checking GitHub integration configuration...
‚úÖ GitHub integration configured successfully
   - Repository: 6-7Development/archetype
   - Branch: main
   - Token: ‚úì (configured)
   - Owner User ID: Not set (owner must be manually marked in database)
   - Maintenance mode: Available for owner
‚úÖ WebSocket client connected
üì° [WS] Session registered: userId=admin, sessionId=platform-healing
11:59:30 PM [express] GET /api/meta-sysop/pending-changes 200 in 115ms :: {"success":true,"pendingCha‚Ä¶
11:59:35 PM [express] GET /api/meta-sysop/pending-changes 304 in 20ms :: {"success":true,"pendingChan‚Ä¶
11:59:40 PM [express] GET /api/meta-sysop/pending-changes 304 in 19ms :: {"success":true,"pendingChan‚Ä¶
11:59:45 PM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
[GITHUB-SERVICE] Initialized for 6-7Development/archetype on branch main
11:59:50 PM [express] GET /api/platform/deployment-history 304 in 183ms :: {"success":true,"deploymen‚Ä¶
11:59:50 PM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
11:59:55 PM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
12:00:06 AM [express] GET /api/meta-sysop/pending-changes 304 in 100ms :: {"success":true,"pendingCha‚Ä¶
12:00:11 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
12:00:16 AM [express] GET /api/meta-sysop/pending-changes 304 in 18ms :: {"success":true,"pendingChan‚Ä¶
12:00:20 AM [express] GET /api/platform/deployment-history 304 in 201ms :: {"success":true,"deploymen‚Ä¶
12:00:21 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
12:00:26 AM [express] GET /api/meta-sysop/pending-changes 304 in 22ms :: {"success":true,"pendingChan‚Ä¶
12:00:31 AM [express] GET /api/meta-sysop/pending-changes 304 in 30ms :: {"success":true,"pendingChan‚Ä¶
12:00:36 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
12:00:41 AM [express] GET /api/meta-sysop/pending-changes 304 in 14ms :: {"success":true,"pendingChan‚Ä¶
12:00:46 AM [express] GET /api/meta-sysop/pending-changes 304 in 18ms :: {"success":true,"pendingChan‚Ä¶
12:00:50 AM [express] GET /api/platform/deployment-history 304 in 157ms :: {"success":true,"deploymen‚Ä¶
12:00:51 AM [express] GET /api/meta-sysop/pending-changes 304 in 17ms :: {"success":true,"pendingChan‚Ä¶
12:00:56 AM [express] GET /api/meta-sysop/pending-changes 304 in 16ms :: {"success":true,"pendingChan‚Ä¶
12:01:01 AM [express] GET /api/meta-sysop/pending-changes 304 in 21ms :: {"success":true,"pendingChan‚Ä¶
12:01:07 AM [express] GET /api/meta-sysop/pending-changes 304 in 19ms :: {"success":true,"pendingChan‚Ä¶