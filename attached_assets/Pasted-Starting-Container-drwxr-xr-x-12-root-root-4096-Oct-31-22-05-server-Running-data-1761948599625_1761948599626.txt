Starting Container
drwxr-xr-x   12 root     root          4096 Oct 31 22:05 server
üîÑ Running database migrations with drizzle-kit...
-rw-rw-r--    1 root     root        355683 Oct 31 21:16 package-lock.json
-rw-rw-r--    1 root     root          4586 Oct 31 21:16 package.json
‚úÖ dist directory exists
üìÇ Contents:
-rw-rw-r--    1 root     root          1195 Oct 31 22:05 drop-old-tables.js
total 812
drwxr-xr-x    1 root     root          4096 Oct 31 21:16 node_modules
[DROP-TABLES] ‚úÖ Dropped ai_fix_attempts
[DROP-TABLES] ‚úÖ Dropped platform_incidents
üîß Creating healing tables with correct schema...
[DROP-TABLES] ‚úÖ Dropped healing_targets
‚ö†Ô∏è psql not found, using node-postgres...
[DROP-TABLES] ‚úÖ All old tables dropped successfully
drwxr-xr-x    3 root     root          4096 Oct 31 22:06 .
‚úÖ Tables created
drwxr-xr-x    1 root     root          4096 Oct 31 22:06 ..
-rw-r--r--    1 root     root        817255 Oct 31 22:06 index.js
drwxr-xr-x    3 root     root          4096 Oct 31 22:06 public
‚úÖ dist/index.js found
-rwxrwxr-x    1 root     root          3254 Oct 31 22:05 railway-start.sh
üóëÔ∏è Dropping old tables with incorrect schema...
drwxr-xr-x    2 root     root          4096 Oct 31 22:05 shared
[DROP-TABLES] Dropping old healing tables with incorrect schema...
-rw-rw-r--    1 root     root          9465 Oct 31 22:05 replit.md
-rw-rw-r--    1 root     root           960 Oct 31 22:05 tsconfig.json
üîç Checking for dist directory...
‚úÖ Added sslmode=no-verify to DATABASE_URL for drizzle-kit
======================================
üöÇ RAILWAY STARTUP SCRIPT - DEBUG MODE
======================================
Time: Fri Oct 31 22:07:57 UTC 2025
Node version: v20.19.5
NPM version: 10.8.2
üìÅ Current directory: /app
üìÇ Listing root files:
total 416
drwxr-xr-x    1 root     root          4096 Oct 31 22:06 .
dr-xr-xr-x    1 root     root          4096 Oct 31 22:07 ..
-rw-rw-r--    1 root     root          4424 Oct 31 22:05 create-healing-tables.sql
drwxr-xr-x    3 root     root          4096 Oct 31 22:06 dist
-rw-rw-r--    1 root     root           325 Oct 31 22:05 drizzle.config.ts
Reading config file '/app/drizzle.config.ts'
No config path provided, using default 'drizzle.config.ts'
Using 'pg' driver for database querying
[‚¢ø] Pulling schema from database...
[‚£ª] Pulling schema from database...
[‚£∑] Pulling schema from database...
[‚£Ø] Pulling schema from database...
[‚£ü] Pulling schema from database...
[‚°ø] Pulling schema from database...
[‚£Ω] Pulling schema from database...
[‚£∑] Pulling schema from database...
[‚£Ø] Pulling schema from database...
[‚£ü] Pulling schema from database...
[‚°ø] Pulling schema from database...
[‚¢ø] Pulling schema from database...
[‚£ª] Pulling schema from database...
[‚£Ω] Pulling schema from database...
[‚£∑] Pulling schema from database...
[‚£Ø] Pulling schema from database...
[‚£ü] Pulling schema from database...
[‚°ø] Pulling schema from database...
[‚¢ø] Pulling schema from database...
[‚£ª] Pulling schema from database...
[‚£Ω] Pulling schema from database...
[‚£∑] Pulling schema from database...
[‚úì] Pulling schema from database...
Is ai_knowledge_base table created or renamed from another table?
‚ùØ + ai_knowledge_base                           create table
  ~ meta_sysop_automation ‚Ä∫ ai_knowledge_base   rename table
  ~ meta_sysop_instructions ‚Ä∫ ai_knowledge_base rename table
  ~ meta_sysop_knowledge ‚Ä∫ ai_knowledge_base    rename table
  ~ meta_sysop_memory ‚Ä∫ ai_knowledge_base       rename table
  ~ meta_sysop_attachments ‚Ä∫ ai_knowledge_base  rename table
  ~ meta_sysop_sessions ‚Ä∫ ai_knowledge_base     rename table
  ~ meta_sysop_jobs ‚Ä∫ ai_knowledge_base         rename table‚úÖ Database schema ready!
üîç Environment Check:
NODE_ENV: production
PORT: 8080
DATABASE_URL: ‚úì SET (hidden for security)
GITHUB_TOKEN: ‚úì SET
GITHUB_REPO: 6-7Development/archetype
GITHUB_BRANCH: main
ANTHROPIC_API_KEY: ‚úì SET
üìÑ Ensuring replit.md is available...
‚úÖ replit.md already present
üöÄ Starting Node.js application...
Command: node dist/index.js
[db] Environment: NODE_ENV=production, PORT=8080
[db] Using DATABASE_URL: postgresql://***@postgres.railway.internal:5432/railway
[db] Pool config: connectionTimeoutMillis=30000, max=20, ssl=enabled (rejectUnauthorized: false)
[db] SSL Configuration: {"rejectUnauthorized":false}
[db] Connection string includes SSL params: true
[PERFORMANCE] System prompt base cached (1544 chars) - saves ~4KB per request
[PLATFORM-HEALING] PROJECT_ROOT: /app
[PERFORMANCE] Compression middleware enabled - responses will be 70-80% smaller (SSE streams excluded)
üì° WebSocket server initialized at /ws
[PLATFORM-HEALING] Session manager connected to WebSocket
[PLATFORM-HEALING] WebSocket server attached for preview broadcasts
[PLATFORM-HEALING] Platform healing service connected to WebSocket
[PLATFORM-METRICS] Starting WebSocket broadcaster (5s intervals)
[HEAL-ORCHESTRATOR] Metrics broadcaster connected
[WEBHOOKS] Webhooks router connected to metrics broadcaster
[LOMU-AI-JOB-MANAGER] Initialized with WebSocket support
[LOMU-AI-JOB-MANAGER] Job manager connected to WebSocket
[LOMU-AI] WebSocket server initialized for live preview broadcasts
[LOMU-AI-CHAT] Live preview WebSocket initialized
[WEBHOOKS] Webhooks router mounted at /api/webhooks
‚úÖ All routes registered successfully
üîç Testing database connection...
10:08:14 PM [express] serving on port 8080
üåê Server accessible at http://0.0.0.0:8080
‚úÖ Database connected successfully
üí° Auto-healing system DISABLED (users trigger manually via UI)
   üë• Users pay for their own AI tokens when using Platform Healing
[HEALTH-MONITOR] Starting platform health monitoring...
[HEALTH-MONITOR] Loaded 0 open incidents
[HEALTH-MONITOR] Monitoring started